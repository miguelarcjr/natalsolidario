(self.webpackChunknatalsolidario=self.webpackChunknatalsolidario||[]).push([[179],{8255:Xe=>{function be(L){return Promise.resolve().then(()=>{var d=new Error("Cannot find module '"+L+"'");throw d.code="MODULE_NOT_FOUND",d})}be.keys=()=>[],be.resolve=be,be.id=8255,Xe.exports=be},3018:(Xe,be,L)=>{"use strict";L.d(be,{deG:()=>Qp,tb:()=>qw,AFp:()=>gD,ip1:()=>Gw,CZH:()=>Ep,hGG:()=>WR,z2F:()=>Pm,sBO:()=>ox,Sil:()=>Mm,_Vd:()=>ep,EJc:()=>yD,SBq:()=>us,qLn:()=>Go,vpe:()=>Ka,gxx:()=>Ul,tBr:()=>ju,XFs:()=>De,OlP:()=>on,zs3:()=>fn,ZZ4:()=>ip,aQg:()=>H_,soG:()=>wp,YKP:()=>iT,v3s:()=>MR,h0i:()=>Od,PXZ:()=>sa,R0b:()=>Ls,FiY:()=>As,Lbi:()=>ov,g9A:()=>mD,Qsj:()=>ZI,FYo:()=>U_,JOm:()=>R,Tiy:()=>om,q3G:()=>vn,tp0:()=>Bo,EAV:()=>LR,Rgc:()=>Rd,dDg:()=>bD,DyG:()=>Lu,q4F:()=>B_,GfV:()=>QI,s_b:()=>mc,ifc:()=>bt,eFA:()=>gv,G48:()=>oM,Gpc:()=>he,X6Q:()=>Qw,_c5:()=>BR,VLi:()=>Yw,c2e:()=>bp,zSh:()=>yf,wAp:()=>rt,vHH:()=>fe,EiD:()=>og,mCW:()=>xl,qzn:()=>ka,JVY:()=>Gu,pB0:()=>zu,eBb:()=>yy,L6k:()=>my,LAX:()=>Hv,cg1:()=>S_,Tjo:()=>l0,kL8:()=>Rr,yhl:()=>eo,dqk:()=>G,sIi:()=>Sf,CqO:()=>Mf,QGY:()=>p_,F4k:()=>sb,RDi:()=>ms,AaK:()=>Q,z3N:()=>xs,qOj:()=>qE,TTD:()=>hu,_Bn:()=>jI,xp6:()=>KS,uIk:()=>o_,Tol:()=>cb,ekj:()=>b_,Suo:()=>QT,Xpm:()=>yo,lG2:()=>Qd,Yz7:()=>xt,cJS:()=>Mr,oAB:()=>ha,Yjl:()=>Gs,Y36:()=>Zo,_UZ:()=>Ed,GkF:()=>h_,BQk:()=>Nf,ynx:()=>Ug,qZA:()=>vd,TgZ:()=>so,EpF:()=>f_,n5z:()=>Xi,Ikx:()=>Cb,LFG:()=>On,$8M:()=>ws,NdJ:()=>bd,CRH:()=>Hx,oxw:()=>Pf,Hsn:()=>jg,F$t:()=>Bg,Q6J:()=>d_,DdM:()=>kT,VKq:()=>FT,WLB:()=>LT,l5B:()=>UT,qbA:()=>Rw,rFY:()=>BT,iGM:()=>KT,MAs:()=>eb,CHM:()=>hl,oJD:()=>ag,LSH:()=>Rl,kYT:()=>vo,Akn:()=>Ko,Jzz:()=>jn,Udp:()=>wd,YNc:()=>GC,W1O:()=>ra,_uU:()=>yI,Oqu:()=>qg,AsE:()=>I_,Gf:()=>YT});var d=L(9765),ee=L(5319),k=L(7574),ce=L(6682),ne=L(2441);var ue=L(1307);function te(){return new d.xQ}function V(i){for(let s in i)if(i[s]===V)return s;throw Error("Could not find renamed property on target object.")}function J(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function Q(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Q).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function le(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const we=V({__forward_ref__:V});function he(i){return i.__forward_ref__=he,i.toString=function(){return Q(this())},i}function K(i){return _e(i)?i():i}function _e(i){return"function"==typeof i&&i.hasOwnProperty(we)&&i.__forward_ref__===he}class fe extends Error{constructor(s,a){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,a)),this.code=s}}function ke(i){return"string"==typeof i?i:null==i?"":String(i)}function Pt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ke(i)}function It(i,s){const a=s?` in ${s}`:"";throw new fe("201",`No provider for ${Pt(i)} found${a}`)}function gn(i,s){null==i&&function(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function xt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Mr(i){return{providers:i.providers||[],imports:i.imports||[]}}function Ir(i){return Te(i,Vt)||Te(i,go)}function Te(i,s){return i.hasOwnProperty(s)?i[s]:null}function Oi(i){return i&&(i.hasOwnProperty(Zr)||i.hasOwnProperty(nt))?i[Zr]:null}const Vt=V({\u0275prov:V}),Zr=V({\u0275inj:V}),go=V({ngInjectableDef:V}),nt=V({ngInjectorDef:V});var De=(()=>((De=De||{})[De.Default=0]="Default",De[De.Host=1]="Host",De[De.Self=2]="Self",De[De.SkipSelf=4]="SkipSelf",De[De.Optional=8]="Optional",De))();let $t;function Cn(i){const s=$t;return $t=i,s}function Bt(i,s,a){const l=Ir(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&De.Optional?null:void 0!==s?s:void It(Q(i),"Injector")}function qe(i){return{toString:i}.toString()}var Pr=(()=>((Pr=Pr||{})[Pr.OnPush=0]="OnPush",Pr[Pr.Default=1]="Default",Pr))(),bt=(()=>((bt=bt||{})[bt.Emulated=0]="Emulated",bt[bt.None=2]="None",bt[bt.ShadowDom=3]="ShadowDom",bt))();const Tr="undefined"!=typeof globalThis&&globalThis,cu="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,G=Tr||"undefined"!=typeof global&&global||cu||q,Ue={},Ve=[],Jt=V({\u0275cmp:V}),Hn=V({\u0275dir:V}),mn=V({\u0275pipe:V}),kr=V({\u0275mod:V}),Lt=V({\u0275loc:V}),dn=V({\u0275fac:V}),zi=V({__NG_ELEMENT_ID__:V});let Sc=0;function yo(i){return qe(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Pr.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||Ve,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||bt.Emulated,id:"c",styles:i.styles||Ve,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,f=i.features,y=i.pipes;return l.id+=Sc++,l.inputs=fa(i.inputs,a),l.outputs=fa(i.outputs),f&&f.forEach(v=>v(l)),l.directiveDefs=c?()=>("function"==typeof c?c():c).map(_o):null,l.pipeDefs=y?()=>("function"==typeof y?y():y).map(xc):null,l})}function _o(i){return $n(i)||function(i){return i[Hn]||null}(i)}function xc(i){return function(i){return i[mn]||null}(i)}const di={};function ha(i){return qe(()=>{const s={type:i.type,bootstrap:i.bootstrap||Ve,declarations:i.declarations||Ve,imports:i.imports||Ve,exports:i.exports||Ve,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(di[i.id]=i.type),s})}function vo(i,s){return qe(()=>{const a=ur(i,!0);a.declarations=s.declarations||Ve,a.imports=s.imports||Ve,a.exports=s.exports||Ve})}function fa(i,s){if(null==i)return Ue;const a={};for(const l in i)if(i.hasOwnProperty(l)){let c=i[l],f=c;Array.isArray(c)&&(f=c[1],c=c[0]),a[c]=l,s&&(s[c]=f)}return a}const Qd=yo;function Gs(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function $n(i){return i[Jt]||null}function ur(i,s){const a=i[kr]||null;if(!a&&!0===s)throw new Error(`Type ${Q(i)} does not have '\u0275mod' property.`);return a}function Wi(i){return Array.isArray(i)&&"object"==typeof i[1]}function Tn(i){return Array.isArray(i)&&!0===i[1]}function Ws(i){return 0!=(8&i.flags)}function nl(i){return 2==(2&i.flags)}function _a(i){return 1==(1&i.flags)}function pi(i){return null!==i.template}function Rc(i){return 0!=(512&i[2])}function Dn(i,s){return i.hasOwnProperty(dn)?i[dn]:null}class Zi{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function hu(){return sl}function sl(i){return i.type.prototype.ngOnChanges&&(i.setInput=Bp),lh}function lh(){const i=ol(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===Ue)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Bp(i,s,a,l){const c=ol(i)||function(i,s){return i[Pc]=s}(i,{previous:Ue,current:null}),f=c.current||(c.current={}),y=c.previous,v=this.declaredInputs[a],w=y[v];f[v]=new Zi(w&&w.currentValue,s,y===Ue),i[l]=s}hu.ngInherit=!0;const Pc="__ngSimpleChanges__";function ol(i){return i[Pc]||null}let ll;function ms(i){ll=i}function Yr(){return void 0!==ll?ll:"undefined"!=typeof document?document:void 0}function nn(i){return!!i.listen}const ul={createRenderer:(i,s)=>Yr()};function Rt(i){for(;Array.isArray(i);)i=i[0];return i}function Io(i,s){return Rt(s[i])}function Fr(i,s){return Rt(s[i.index])}function Yi(i,s){return i.data[s]}function cr(i,s){const a=s[i];return Wi(a)?a:a[0]}function pu(i){return 4==(4&i[2])}function Ca(i){return 128==(128&i[2])}function ys(i,s){return null==s?null:i[s]}function dl(i){i[18]=0}function gu(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const lt={lFrame:Cu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function mu(){return lt.bindingsEnabled}function Ce(){return lt.lFrame.lView}function Tt(){return lt.lFrame.tView}function hl(i){return lt.lFrame.contextLView=i,i[8]}function Sn(){let i=yu();for(;null!==i&&64===i.type;)i=i.parent;return i}function yu(){return lt.lFrame.currentTNode}function gi(i,s){const a=lt.lFrame;a.currentTNode=i,a.isParent=s}function fl(){return lt.lFrame.isParent}function Ys(){lt.lFrame.isParent=!1}function Qi(){return lt.isInCheckNoChangesMode}function Ji(i){lt.isInCheckNoChangesMode=i}function er(){const i=lt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Qs(){return lt.lFrame.bindingIndex++}function Mi(i){const s=lt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function Eu(i,s){const a=lt.lFrame;a.bindingIndex=a.bindingRootIndex=i,bu(s)}function bu(i){lt.lFrame.currentDirectiveIndex=i}function ph(){return lt.lFrame.currentQueryIndex}function wu(i){lt.lFrame.currentQueryIndex=i}function Hp(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function gh(i,s,a){if(a&De.SkipSelf){let c=s,f=i;for(;!(c=c.parent,null!==c||a&De.Host||(c=Hp(f),null===c||(f=f[15],10&c.type))););if(null===c)return!1;s=c,i=f}const l=lt.lFrame=mh();return l.currentTNode=s,l.lView=i,!0}function Es(i){const s=mh(),a=i[1];lt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function mh(){const i=lt.lFrame,s=null===i?null:i.child;return null===s?Cu(i):s}function Cu(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function pl(){const i=lt.lFrame;return lt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const iy=pl;function Iu(){const i=pl();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Lr(){return lt.lFrame.selectedIndex}function Qr(i){lt.lFrame.selectedIndex=i}function yn(){const i=lt.lFrame;return Yi(i.tView,i.selectedIndex)}function Tu(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:v,ngAfterViewInit:w,ngAfterViewChecked:T,ngOnDestroy:A}=f;y&&(i.contentHooks||(i.contentHooks=[])).push(-a,y),v&&((i.contentHooks||(i.contentHooks=[])).push(a,v),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,v)),w&&(i.viewHooks||(i.viewHooks=[])).push(-a,w),T&&((i.viewHooks||(i.viewHooks=[])).push(a,T),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,T)),null!=A&&(i.destroyHooks||(i.destroyHooks=[])).push(a,A)}}function ml(i,s,a){So(i,s,3,a)}function yl(i,s,a,l){(3&i[2])===a&&So(i,s,a,l)}function Du(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function So(i,s,a,l){const f=null!=l?l:-1,y=s.length-1;let v=0;for(let w=void 0!==l?65535&i[18]:0;w<y;w++)if("number"==typeof s[w+1]){if(v=s[w],null!=l&&v>=l)break}else s[w]<0&&(i[18]+=65536),(v<f||-1==f)&&(Su(i,a,s,w),i[18]=(4294901760&i[18])+w+2),w++}function Su(i,s,a,l){const c=a[l]<0,f=a[l+1],v=i[c?-a[l]:a[l]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(v)}finally{}}}else try{f.call(v)}finally{}}class Ao{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function _l(i,s,a){const l=nn(i);let c=0;for(;c<a.length;){const f=a[c];if("number"==typeof f){if(0!==f)break;c++;const y=a[c++],v=a[c++],w=a[c++];l?i.setAttribute(s,v,w,y):s.setAttributeNS(y,v,w)}else{const y=f,v=a[++c];xu(y)?l&&i.setProperty(s,y,v):l?i.setAttribute(s,y,v):s.setAttribute(y,v),c++}}return c}function Au(i){return 3===i||4===i||6===i}function xu(i){return 64===i.charCodeAt(0)}function Pi(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const c=s[l];"number"==typeof c?a=c:0===a||Ru(i,a,c,null,-1===a||2===a?s[++l]:null)}}return i}function Ru(i,s,a,l,c){let f=0,y=i.length;if(-1===s)y=-1;else for(;f<i.length;){const v=i[f++];if("number"==typeof v){if(v===s){y=-1;break}if(v>s){y=f-1;break}}}for(;f<i.length;){const v=i[f];if("number"==typeof v)break;if(v===a){if(null===l)return void(null!==c&&(i[f+1]=c));if(l===i[f+1])return void(i[f+2]=c)}f++,null!==l&&f++,null!==c&&f++}-1!==y&&(i.splice(y,0,s),f=y+1),i.splice(f++,0,a),null!==l&&i.splice(f++,0,l),null!==c&&i.splice(f++,0,c)}function Ou(i){return-1!==i}function vl(i){return 32767&i}function El(i,s){let a=function(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let Nu=!0;function Ro(i){const s=Nu;return Nu=i,s}let Wt=0;function hr(i,s){const a=tr(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,xa(l.data,i),xa(s,null),xa(l.blueprint,null));const c=bl(i,s),f=i.injectorIndex;if(Ou(c)){const y=vl(c),v=El(c,s),w=v[1].data;for(let T=0;T<8;T++)s[f+T]=v[y+T]|w[y+T]}return s[f+8]=c,f}function xa(i,s){i.push(0,0,0,0,0,0,0,0,s)}function tr(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function bl(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,c=s;for(;null!==c;){const f=c[1],y=f.type;if(l=2===y?f.declTNode:1===y?c[6]:null,null===l)return-1;if(a++,c=c[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function nr(i,s,a){!function(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(zi)&&(l=a[zi]),null==l&&(l=a[zi]=Wt++);const c=255&l;s.data[i+(c>>5)]|=1<<c}(i,s,a)}function Zp(i,s,a){if(a&De.Optional)return i;It(s,"NodeInjector")}function Ra(i,s,a,l){if(a&De.Optional&&void 0===l&&(l=null),0==(a&(De.Self|De.Host))){const c=i[9],f=Cn(void 0);try{return c?c.get(s,l,a&De.Optional):Bt(s,l,a&De.Optional)}finally{Cn(f)}}return Zp(l,s,a)}function Eh(i,s,a,l=De.Default,c){if(null!==i){const f=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(zi)?i[zi]:void 0;return"number"==typeof s?s>=0?255&s:Lc:s}(a);if("function"==typeof f){if(!gh(s,i,l))return l&De.Host?Zp(c,a,l):Ra(s,a,l,c);try{const y=f(l);if(null!=y||l&De.Optional)return y;It(a)}finally{iy()}}else if("number"==typeof f){let y=null,v=tr(i,s),w=-1,T=l&De.Host?s[16][6]:null;for((-1===v||l&De.SkipSelf)&&(w=-1===v?bl(i,s):s[v+8],-1!==w&&Pu(l,!1)?(y=s[1],v=vl(w),s=El(w,s)):v=-1);-1!==v;){const A=s[1];if(bh(f,v,A.data)){const M=Vc(v,s,a,y,l,T);if(M!==zt)return M}w=s[v+8],-1!==w&&Pu(l,s[1].data[v+8]===T)&&bh(f,v,s)?(y=A,v=vl(w),s=El(w,s)):v=-1}}}return Ra(s,a,l,c)}const zt={};function Lc(){return new bs(Sn(),Ce())}function Vc(i,s,a,l,c,f){const y=s[1],v=y.data[i+8],A=Oo(v,y,a,null==l?nl(v)&&Nu:l!=y&&0!=(3&v.type),c&De.Host&&f===v);return null!==A?No(s,y,A,v):zt}function Oo(i,s,a,l,c){const f=i.providerIndexes,y=s.data,v=1048575&f,w=i.directiveStart,A=f>>20,P=c?v+A:i.directiveEnd;for(let H=l?v:v+A;H<P;H++){const W=y[H];if(H<w&&a===W||H>=w&&W.type===a)return H}if(c){const H=y[w];if(H&&pi(H)&&H.type===a)return w}return null}function No(i,s,a,l){let c=i[a];const f=s.data;if(function(i){return i instanceof Ao}(c)){const y=c;y.resolving&&function(i,s){throw new fe("200",`Circular dependency in DI detected for ${i}`)}(Pt(f[a]));const v=Ro(y.canSeeViewProviders);y.resolving=!0;const w=y.injectImpl?Cn(y.injectImpl):null;gh(i,l,De.Default);try{c=i[a]=y.factory(void 0,f,i,l),s.firstCreatePass&&a>=l.directiveStart&&function(i,s,a){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:f}=s.type.prototype;if(l){const y=sl(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,y)}c&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,c),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==w&&Cn(w),Ro(v),y.resolving=!1,iy()}}return c}function bh(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Pu(i,s){return!(i&De.Self||i&De.Host&&s)}class bs{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return Eh(this._tNode,this._lView,s,l,a)}}function Xi(i){return qe(()=>{const s=i.prototype.constructor,a=s[dn]||Bc(s),l=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==l;){const f=c[dn]||Bc(c);if(f&&f!==a)return f;c=Object.getPrototypeOf(c)}return f=>new f})}function Bc(i){return _e(i)?()=>{const s=Bc(K(i));return s&&s()}:Dn(i)}function ws(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let c=0;for(;c<l;){const f=a[c];if(Au(f))break;if(0===f)c+=2;else if("number"==typeof f)for(c++;c<l&&"string"==typeof a[c];)c++;else{if(f===s)return a[c+1];c+=2}}}return null}(Sn(),i)}const Cs="__parameters__";function An(i,s,a){return qe(()=>{const l=function(i){return function(...a){if(i){const l=i(...a);for(const c in l)this[c]=l[c]}}}(s);function c(...f){if(this instanceof c)return l.apply(this,f),this;const y=new c(...f);return v.annotation=y,v;function v(w,T,A){const M=w.hasOwnProperty(Cs)?w[Cs]:Object.defineProperty(w,Cs,{value:[]})[Cs];for(;M.length<=A;)M.push(null);return(M[A]=M[A]||[]).push(y),w}}return a&&(c.prototype=Object.create(a.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class on{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=xt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Qp=new on("AnalyzeForEntryComponents"),Lu=Function;function _i(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),_i(l,s)):s!==i&&s.push(l)}return s}function ki(i,s){i.forEach(a=>Array.isArray(a)?ki(a,s):s(a))}function Fi(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function ko(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Vr(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}function C(i,s,a){let l=N(i,s);return l>=0?i[1|l]=a:(l=~l,function(i,s,a,l){let c=i.length;if(c==s)i.push(a,l);else if(1===c)i.push(l,i[0]),i[0]=a;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function S(i,s){const a=N(i,s);if(a>=0)return i[1|a]}function N(i,s){return function(i,s,a){let l=0,c=i.length>>a;for(;c!==l;){const f=l+(c-l>>1),y=i[f<<a];if(s===y)return f<<a;y>s?c=f:l=f+1}return~(c<<a)}(i,s,1)}const Ts={},Fo="__NG_DI_FLAG__",ts="ngTempTokenPath",Na=/\n/gm,wt="__source",Ss=V({provide:String,useValue:V});let Bu;function Ma(i){const s=Bu;return Bu=i,s}function Xp(i,s=De.Default){if(void 0===Bu)throw new Error("inject() must be called from an injection context");return null===Bu?Bt(i,void 0,s):Bu.get(i,s&De.Optional?null:void 0,s)}function On(i,s=De.Default){return($t||Xp)(K(i),s)}function Vo(i){const s=[];for(let a=0;a<i.length;a++){const l=K(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let c,f=De.Default;for(let y=0;y<l.length;y++){const v=l[y],w=cy(v);"number"==typeof w?-1===w?c=v.token:f|=w:c=v}s.push(On(c,f))}else s.push(On(l))}return s}function Tl(i,s){return i[Fo]=s,i.prototype[Fo]=s,i}function cy(i){return i[Fo]}function Lv(i,s,a,l){const c=i[ts];throw s[wt]&&c.unshift(s[wt]),i.message=function(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=Q(s);if(Array.isArray(s))c=s.map(Q).join(" -> ");else if("object"==typeof s){let f=[];for(let y in s)if(s.hasOwnProperty(y)){let v=s[y];f.push(y+":"+("string"==typeof v?JSON.stringify(v):Q(v)))}c=`{${f.join(", ")}}`}return`${a}${l?"("+l+")":""}[${c}]: ${i.replace(Na,"\n  ")}`}("\n"+i.message,c,a,l),i.ngTokenPath=c,i[ts]=null,i}const ju=Tl(An("Inject",i=>({token:i})),-1),As=Tl(An("Optional"),8),Bo=Tl(An("SkipSelf"),4);let Sl,qc;function $u(i){var s;return(null===(s=function(){if(void 0===Sl&&(Sl=null,G.trustedTypes))try{Sl=G.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Sl}())||void 0===s?void 0:s.createHTML(i))||i}function fy(i){var s;return(null===(s=function(){if(void 0===qc&&(qc=null,G.trustedTypes))try{qc=G.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return qc}())||void 0===s?void 0:s.createHTML(i))||i}class Al{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Uv extends Al{getTypeName(){return"HTML"}}class Bv extends Al{getTypeName(){return"Style"}}class ig extends Al{getTypeName(){return"Script"}}class jv extends Al{getTypeName(){return"URL"}}class gy extends Al{getTypeName(){return"ResourceURL"}}function xs(i){return i instanceof Al?i.changingThisBreaksApplicationSecurity:i}function ka(i,s){const a=eo(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function eo(i){return i instanceof Al&&i.getTypeName()||null}function Gu(i){return new Uv(i)}function my(i){return new Bv(i)}function yy(i){return new ig(i)}function Hv(i){return new jv(i)}function zu(i){return new gy(i)}class $v{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString($u(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class qu{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const l=this.inertDocument.createElement("body");a.appendChild(l)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=$u(s),a;const l=this.inertDocument.createElement("body");return l.innerHTML=$u(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const a=s.attributes;for(let c=a.length-1;0<c;c--){const y=a.item(c).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&s.removeAttribute(y)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Vh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Kc=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function xl(i){return(i=String(i)).match(Vh)||i.match(Kc)?i:"unsafe:"+i}function Ei(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function Wu(...i){const s={};for(const a of i)for(const l in a)a.hasOwnProperty(l)&&(s[l]=!0);return s}const vy=Ei("area,br,col,hr,img,wbr"),Ey=Ei("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zv=Ei("rp,rt"),Zu=Wu(vy,Wu(Ey,Ei("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wu(zv,Ei("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wu(zv,Ey)),Bh=Ei("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yc=Ei("srcset"),jh=Wu(Bh,Yc,Ei("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ei("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),qv=Ei("script,style,template");class Cy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let c=this.checkClobberedElement(a,a.nextSibling);if(c){a=c;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Zu.hasOwnProperty(a))return this.sanitizedSomething=!0,!qv.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=s.attributes;for(let c=0;c<l.length;c++){const f=l.item(c),y=f.name,v=y.toLowerCase();if(!jh.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let w=f.value;Bh[v]&&(w=xl(w)),Yc[v]&&(i=w,w=(i=String(i)).split(",").map(s=>xl(s.trim())).join(", ")),this.buf.push(" ",y,'="',Hh(w),'"')}var i;return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Zu.hasOwnProperty(a)&&!vy.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Hh(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const Ku=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wv=/([^\#-~ |!])/g;function Hh(i){return i.replace(/&/g,"&amp;").replace(Ku,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Wv,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $h;function og(i,s){let a=null;try{$h=$h||function(i){const s=new qu(i);return function(){try{return!!(new window.DOMParser).parseFromString($u(""),"text/html")}catch(i){return!1}}()?new $v(s):s}(i);let l=s?String(s):"";a=$h.getInertBodyElement(l);let c=5,f=l;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,l=f,f=a.innerHTML,a=$h.getInertBodyElement(l)}while(l!==f);return $u((new Cy).sanitizeChildren(Gh(a)||a))}finally{if(a){const l=Gh(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Gh(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var vn=(()=>((vn=vn||{})[vn.NONE=0]="NONE",vn[vn.HTML=1]="HTML",vn[vn.STYLE=2]="STYLE",vn[vn.SCRIPT=3]="SCRIPT",vn[vn.URL=4]="URL",vn[vn.RESOURCE_URL=5]="RESOURCE_URL",vn))();function ag(i){const s=$o();return s?fy(s.sanitize(vn.HTML,i)||""):ka(i,"HTML")?fy(xs(i)):og(Yr(),ke(i))}function Rl(i){const s=$o();return s?s.sanitize(vn.URL,i)||"":ka(i,"URL")?xs(i):xl(ke(i))}function $o(){const i=Ce();return i&&i[12]}const Jc="__ngContext__";function gr(i,s){i[Jc]=s}function Wh(i){const s=function(i){return i[Jc]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function nd(i){return i.ngOriginalError}function Fa(i,...s){i.error(...s)}class Go{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),l=this._findContext(s),c=(i=s)&&i.ngErrorLogger||Fa;var i;c(this._console,"ERROR",s),a&&c(this._console,"ORIGINAL ERROR",a),l&&c(this._console,"ERROR CONTEXT",l)}_findContext(s){return s?s.ngDebugContext||this._findContext(nd(s)):null}_findOriginalError(s){let a=s&&nd(s);for(;a&&nd(a);)a=nd(a);return a||null}}const ef=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(G))();function _(i){return i instanceof Function?i():i}var R=(()=>((R=R||{})[R.Important=1]="Important",R[R.DashCase=2]="DashCase",R))();function re(i,s){return undefined(i,s)}function $e(i){const s=i[3];return Tn(s)?s[3]:s}function Un(i){return id(i[13])}function Os(i){return id(i[4])}function id(i){for(;null!==i&&!Tn(i);)i=i[4];return i}function Ml(i,s,a,l,c){if(null!=l){let f,y=!1;Tn(l)?f=l:Wi(l)&&(y=!0,l=l[0]);const v=Rt(l);0===i&&null!==a?null==c?hg(s,a,v):sd(s,a,v,c||null,!0):1===i&&null!==a?sd(s,a,v,c||null,!0):2===i?function(i,s,a){const l=Pl(i,s);l&&function(i,s,a,l){nn(i)?i.removeChild(s,a,l):s.removeChild(a)}(i,l,s,a)}(s,v,y):3===i&&s.destroyNode(v),null!=f&&function(i,s,a,l,c){const f=a[7];f!==Rt(a)&&Ml(s,i,l,f,c);for(let v=10;v<a.length;v++){const w=a[v];gg(w[1],w,i,s,l,f)}}(s,i,f,a,c)}}function sf(i,s,a){return nn(i)?i.createElement(s,a):null===a?i.createElement(s):i.createElementNS(a,s)}function V0(i,s){const a=i[9],l=a.indexOf(s),c=s[3];1024&s[2]&&(s[2]&=-1025,gu(c,-1)),a.splice(l,1)}function sE(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const c=l[17];null!==c&&c!==i&&V0(c,l),s>0&&(i[a-1][4]=l[4]);const f=ko(i,10+s);!function(i,s){gg(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const y=f[19];null!==y&&y.detachView(f[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function U0(i,s){if(!(256&s[2])){const a=s[11];nn(a)&&a.destroyNode&&gg(i,s,a,3,null,null),function(i){let s=i[13];if(!s)return oE(i[1],i);for(;s;){let a=null;if(Wi(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)Wi(s)&&oE(s[1],s),s=s[3];null===s&&(s=i),Wi(s)&&oE(s[1],s),a=s&&s[4]}s=a}}(s)}}function oE(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const c=s[a[l]];if(!(c instanceof Ao)){const f=a[l+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const v=c[f[y]],w=f[y+1];try{w.call(v)}finally{}}else try{f.call(c)}finally{}}}}(i,s),function(i,s){const a=i.cleanup,l=s[7];let c=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const y=a[f+1],v="function"==typeof y?y(s):Rt(s[y]),w=l[c=a[f+2]],T=a[f+3];"boolean"==typeof T?v.removeEventListener(a[f],w,T):T>=0?l[c=T]():l[c=-T].unsubscribe(),f+=2}else{const y=l[c=a[f+1]];a[f].call(y)}if(null!==l){for(let f=c+1;f<l.length;f++)l[f]();s[7]=null}}(i,s),1===s[1].type&&nn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Tn(s[3])){a!==s[3]&&V0(a,s);const l=s[19];null!==l&&l.detachView(i)}}}function j0(i,s,a){return function(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const c=i.data[l.directiveStart].encapsulation;if(c===bt.None||c===bt.Emulated)return null}return Fr(l,a)}(i,s.parent,a)}function sd(i,s,a,l,c){nn(i)?i.insertBefore(s,a,l,c):s.insertBefore(a,l,c)}function hg(i,s,a){nn(i)?i.appendChild(s,a):s.appendChild(a)}function Py(i,s,a,l,c){null!==l?sd(i,s,a,l,c):hg(i,s,a)}function Pl(i,s){return nn(i)?i.parentNode(s):s.parentNode}function H0(i,s,a){return $0(i,s,a)}let $0=function(i,s,a){return 40&i.type?Fr(i,a):null};function fg(i,s,a,l){const c=j0(i,l,s),f=s[11],v=H0(l.parent||s[6],l,s);if(null!=c)if(Array.isArray(a))for(let w=0;w<a.length;w++)Py(f,c,a[w],v,!1);else Py(f,c,a,v,!1)}function pg(i,s){if(null!==s){const a=s.type;if(3&a)return Fr(s,i);if(4&a)return z0(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return pg(i,l);{const c=i[s.index];return Tn(c)?z0(-1,c):Rt(c)}}if(32&a)return re(s,i)()||Rt(i[s.index]);{const l=Ly(i,s);return null!==l?Array.isArray(l)?l[0]:pg($e(i[16]),l):pg(i,s.next)}}return null}function Ly(i,s){return null!==s?i[16][6].projection[s.projection]:null}function z0(i,s){const a=10+i+1;if(a<s.length){const l=s[a],c=l[1].firstChild;if(null!==c)return pg(l,c)}return s[7]}function Vy(i,s,a,l,c,f,y){for(;null!=a;){const v=l[a.index],w=a.type;if(y&&0===s&&(v&&gr(Rt(v),l),a.flags|=4),64!=(64&a.flags))if(8&w)Vy(i,s,a.child,l,c,f,!1),Ml(s,i,c,v,f);else if(32&w){const T=re(a,l);let A;for(;A=T();)Ml(s,i,c,A,f);Ml(s,i,c,v,f)}else 16&w?q0(i,s,l,a,c,f):Ml(s,i,c,v,f);a=y?a.projectionNext:a.next}}function gg(i,s,a,l,c,f){Vy(a,l,i.firstChild,s,c,f,!1)}function q0(i,s,a,l,c,f){const y=a[16],w=y[6].projection[l.projection];if(Array.isArray(w))for(let T=0;T<w.length;T++)Ml(s,i,c,w[T],f);else Vy(i,s,w,y[3],c,f,!0)}function W0(i,s,a){nn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function uE(i,s,a){nn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function cE(i,s,a){let l=i.length;for(;;){const c=i.indexOf(s,a);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const f=s.length;if(c+f===l||i.charCodeAt(c+f)<=32)return c}a=c+1}}const Z0="ng-template";function US(i,s,a){let l=0;for(;l<i.length;){let c=i[l++];if(a&&"class"===c){if(c=i[l],-1!==cE(c.toLowerCase(),s,0))return!0}else if(1===c){for(;l<i.length&&"string"==typeof(c=i[l++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function Uy(i){return 4===i.type&&i.value!==Z0}function BS(i,s,a){return s===(4!==i.type||a?i.value:Z0)}function jS(i,s,a){let l=4;const c=i.attrs||[],f=function(i){for(let s=0;s<i.length;s++)if(Au(i[s]))return s;return i.length}(c);let y=!1;for(let v=0;v<s.length;v++){const w=s[v];if("number"!=typeof w){if(!y)if(4&l){if(l=2|1&l,""!==w&&!BS(i,w,a)||""===w&&1===s.length){if(no(l))return!1;y=!0}}else{const T=8&l?w:s[++v];if(8&l&&null!==i.attrs){if(!US(i.attrs,T,a)){if(no(l))return!1;y=!0}continue}const M=HS(8&l?"class":w,c,Uy(i),a);if(-1===M){if(no(l))return!1;y=!0;continue}if(""!==T){let P;P=M>f?"":c[M+1].toLowerCase();const H=8&l?P:null;if(H&&-1!==cE(H,T,0)||2&l&&T!==P){if(no(l))return!1;y=!0}}}}else{if(!y&&!no(l)&&!no(w))return!1;if(y&&no(w))continue;y=!1,l=w|1&l}}return no(l)||y}function no(i){return 0==(1&i)}function HS(i,s,a,l){if(null===s)return-1;let c=0;if(l||!a){let f=!1;for(;c<s.length;){const y=s[c];if(y===i)return c;if(3===y||6===y)f=!0;else{if(1===y||2===y){let v=s[++c];for(;"string"==typeof v;)v=s[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=f?1:2}return-1}return function(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function $S(i,s,a=!1){for(let l=0;l<s.length;l++)if(jS(i,s[l],a))return!0;return!1}function zS(i,s){e:for(let a=0;a<s.length;a++){const l=s[a];if(i.length===l.length){for(let c=0;c<i.length;c++)if(i[c]!==l[c])continue e;return!0}}return!1}function K0(i,s){return i?":not("+s.trim()+")":s}function qS(i){let s=i[0],a=1,l=2,c="",f=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&l){const v=i[++a];c+="["+y+(v.length>0?'="'+v+'"':"")+"]"}else 8&l?c+="."+y:4&l&&(c+=" "+y);else""!==c&&!no(y)&&(s+=K0(f,c),c=""),l=y,f=f||!no(l);a++}return""!==c&&(s+=K0(f,c)),s}const it={};function KS(i){Y0(Tt(),Ce(),Lr()+i,Qi())}function Y0(i,s,a,l){if(!l)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&ml(s,f,a)}else{const f=i.preOrderHooks;null!==f&&yl(s,f,0,a)}Qr(a)}function me(i,s){return i<<17|s<<2}function ei(i){return i>>17&32767}function kt(i){return 2|i}function kl(i){return(131068&i)>>2}function Wo(i,s){return-131069&i|s<<2}function yg(i){return 1|i}function Gy(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const c=a[l],f=a[l+1];if(-1!==f){const y=i.data[f];wu(c),y.contentQueries(2,s[f],f)}}}function vg(i,s,a,l,c,f,y,v,w,T){const A=s.blueprint.slice();return A[0]=c,A[2]=140|l,dl(A),A[3]=A[15]=i,A[8]=a,A[10]=y||i&&i[10],A[11]=v||i&&i[11],A[12]=w||i&&i[12]||null,A[9]=T||i&&i[9]||null,A[6]=f,A[16]=2==s.type?i[16]:A,A}function tc(i,s,a,l,c){let f=i.data[s];if(null===f)f=function(i,s,a,l,c){const f=yu(),y=fl(),w=i.data[s]=function(i,s,a,l,c,f){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,a,s,l,c);return null===i.firstChild&&(i.firstChild=w),null!==f&&(y?null==f.child&&null!==w.parent&&(f.child=w):null===f.next&&(f.next=w)),w}(i,s,a,l,c),lt.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=l,f.attrs=c;const y=function(){const i=lt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return gi(f,!0),f}function cf(i,s,a,l){if(0===a)return-1;const c=s.length;for(let f=0;f<a;f++)s.push(l),i.blueprint.push(l),i.data.push(null);return c}function Eg(i,s,a){Es(s);try{const l=i.viewQuery;null!==l&&Xy(1,l,a);const c=i.template;null!==c&&aC(i,s,c,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Gy(i,s),i.staticViewQueries&&Xy(2,i.viewQuery,a);const f=i.components;null!==f&&function(i,s){for(let a=0;a<s.length;a++)cA(i,s[a])}(s,f)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,Iu()}}function sr(i,s,a,l){const c=s[2];if(256==(256&c))return;Es(s);const f=Qi();try{dl(s),function(i){lt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&aC(i,s,a,2,l);const y=3==(3&c);if(!f)if(y){const T=i.preOrderCheckHooks;null!==T&&ml(s,T,null)}else{const T=i.preOrderHooks;null!==T&&yl(s,T,0,null),Du(s,0)}if(function(i){for(let s=Un(i);null!==s;s=Os(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const c=a[l],f=c[3];0==(1024&c[2])&&gu(f,1),c[2]|=1024}}}(s),function(i){for(let s=Un(i);null!==s;s=Os(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1];Ca(l)&&sr(c,l,c.template,l[8])}}(s),null!==i.contentQueries&&Gy(i,s),!f)if(y){const T=i.contentCheckHooks;null!==T&&ml(s,T)}else{const T=i.contentHooks;null!==T&&yl(s,T,1),Du(s,1)}!function(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const c=a[l];if(c<0)Qr(~c);else{const f=c,y=a[++l],v=a[++l];Eu(y,f),v(2,s[f])}}}finally{Qr(-1)}}(i,s);const v=i.components;null!==v&&function(i,s){for(let a=0;a<s.length;a++)bC(i,s[a])}(s,v);const w=i.viewQuery;if(null!==w&&Xy(2,w,l),!f)if(y){const T=i.viewCheckHooks;null!==T&&ml(s,T)}else{const T=i.viewHooks;null!==T&&yl(s,T,2),Du(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,gu(s[3],-1))}finally{Iu()}}function bg(i,s,a,l){const c=s[10],f=!Qi(),y=pu(s);try{f&&!y&&c.begin&&c.begin(),y&&Eg(i,s,l),sr(i,s,a,l)}finally{f&&!y&&c.end&&c.end()}}function aC(i,s,a,l,c){const f=Lr(),y=2&l;try{Qr(-1),y&&s.length>20&&Y0(i,s,20,Qi()),a(l,c)}finally{Qr(f)}}function df(i,s,a){if(Ws(s)){const c=s.directiveEnd;for(let f=s.directiveStart;f<c;f++){const y=i.data[f];y.contentQueries&&y.contentQueries(1,a[f],f)}}}function vE(i,s,a){!mu()||(function(i,s,a,l){const c=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||hr(a,s),gr(l,s);const y=a.initialInputs;for(let v=c;v<f;v++){const w=i.data[v],T=pi(w);T&&uA(s,a,w);const A=No(s,i,v,a);gr(A,s),null!==y&&TE(0,v-c,A,w,0,y),T&&(cr(a.index,s)[8]=A)}}(i,s,a,Fr(a,s)),128==(128&a.flags)&&function(i,s,a){const l=a.directiveStart,c=a.directiveEnd,y=a.index,v=lt.lFrame.currentDirectiveIndex;try{Qr(y);for(let w=l;w<c;w++){const T=i.data[w],A=s[w];bu(w),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&yC(T,A)}}finally{Qr(-1),bu(v)}}(i,s,a))}function EE(i,s,a=Fr){const l=s.localNames;if(null!==l){let c=s.index+1;for(let f=0;f<l.length;f+=2){const y=l[f+1],v=-1===y?a(s,i):i[y];i[c++]=v}}}function wg(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=ad(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function ad(i,s,a,l,c,f,y,v,w,T){const A=20+l,M=A+c,P=function(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:it);return a}(A,M),H="function"==typeof T?T():T;return P[1]={type:i,blueprint:P,template:a,queries:null,viewQuery:v,declTNode:s,data:P.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:w,consts:H,incompleteFirstPass:!1}}function wE(i,s,a,l){const c=gf(s);null===a?c.push(l):(c.push(a),i.firstCreatePass&&Dg(i).push(l,c.length-1))}function cC(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const c=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,c):a[l]=[s,c]}return a}function Li(i,s,a,l,c,f,y,v){const w=Fr(s,a);let A,T=s.inputs;!v&&null!=T&&(A=T[l])?(AE(i,a,A,l,c),nl(s)&&function(i,s){const a=cr(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(l=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),c=null!=y?y(c,s.value||"",l):c,nn(f)?f.setProperty(w,l,c):xu(l)||(w.setProperty?w.setProperty(l,c):w[l]=c))}function hf(i,s,a,l){let c=!1;if(mu()){const f=function(i,s,a){const l=i.directiveRegistry;let c=null;if(l)for(let f=0;f<l.length;f++){const y=l[f];$S(a,y.selectors,!1)&&(c||(c=[]),nr(hr(a,s),i,y.type),pi(y)?(Yy(i,a),c.unshift(y)):c.push(y))}return c}(i,s,a),y=null===l?null:{"":-1};if(null!==f){c=!0,Qy(a,i.data.length,f.length);for(let A=0;A<f.length;A++){const M=f[A];M.providersResolver&&M.providersResolver(M)}let v=!1,w=!1,T=cf(i,s,f.length,null);for(let A=0;A<f.length;A++){const M=f[A];a.mergedAttrs=Pi(a.mergedAttrs,M.hostAttrs),IE(i,a,s,T,M),lA(T,M,y),null!==M.contentQueries&&(a.flags|=8),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(a.flags|=128);const P=M.type.prototype;!v&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),v=!0),!w&&(P.ngOnChanges||P.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),w=!0),T++}!function(i,s){const l=s.directiveEnd,c=i.data,f=s.attrs,y=[];let v=null,w=null;for(let T=s.directiveStart;T<l;T++){const A=c[T],M=A.inputs,P=null===f||Uy(s)?null:_C(M,f);y.push(P),v=cC(M,T,v),w=cC(A.outputs,T,w)}null!==v&&(v.hasOwnProperty("class")&&(s.flags|=16),v.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=v,s.outputs=w}(i,a)}y&&function(i,s,a){if(s){const l=i.localNames=[];for(let c=0;c<s.length;c+=2){const f=a[s[c+1]];if(null==f)throw new fe("301",`Export of name '${s[c+1]}' not found!`);l.push(s[c],f)}}}(a,l,y)}return a.mergedAttrs=Pi(a.mergedAttrs,a.attrs),c}function Ky(i,s,a,l,c,f){const y=f.hostBindings;if(y){let v=i.hostBindingOpCodes;null===v&&(v=i.hostBindingOpCodes=[]);const w=~s.index;(function(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(v)!=w&&v.push(w),v.push(l,c,y)}}function yC(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Yy(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function lA(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;pi(s)&&(a[""]=i)}}function Qy(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function IE(i,s,a,l,c){i.data[l]=c;const f=c.factory||(c.factory=Dn(c.type)),y=new Ao(f,pi(c),null);i.blueprint[l]=y,a[l]=y,Ky(i,s,0,l,cf(i,a,c.hostVars,it),c)}function uA(i,s,a){const l=Fr(s,i),c=wg(a),f=i[10],y=Ll(i,vg(i,c,null,a.onPush?64:16,l,s,f,f.createRenderer(l,a),null,null));i[s.index]=y}function Ms(i,s,a,l,c,f){const y=Fr(i,s);!function(i,s,a,l,c,f,y){if(null==f)nn(i)?i.removeAttribute(s,c,a):s.removeAttribute(c);else{const v=null==y?ke(f):y(f,l||"",c);nn(i)?i.setAttribute(s,c,v,a):a?s.setAttributeNS(a,c,v):s.setAttribute(c,v)}}(s[11],y,f,i.value,a,l,c)}function TE(i,s,a,l,c,f){const y=f[s];if(null!==y){const v=l.setInput;for(let w=0;w<y.length;){const T=y[w++],A=y[w++],M=y[w++];null!==v?l.setInput(a,M,T,A):a[A]=M}}}function _C(i,s){let a=null,l=0;for(;l<s.length;){const c=s[l];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===a&&(a=[]),a.push(c,i[c],s[l+1])),l+=2}else l+=2;else l+=4}return a}function ff(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function bC(i,s){const a=cr(s,i);if(Ca(a)){const l=a[1];80&a[2]?sr(l,a,l.template,a[8]):a[5]>0&&pf(a)}}function pf(i){for(let l=Un(i);null!==l;l=Os(l))for(let c=10;c<l.length;c++){const f=l[c];if(1024&f[2]){const y=f[1];sr(y,f,y.template,f[8])}else f[5]>0&&pf(f)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const c=cr(a[l],i);Ca(c)&&c[5]>0&&pf(c)}}function cA(i,s){const a=cr(s,i),l=a[1];(function(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),Eg(l,a,a[8])}function Ll(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function DE(i){for(;i;){i[2]|=64;const s=$e(i);if(Rc(i)&&!s)return i;i=s}return null}function Jy(i,s,a){const l=s[10];l.begin&&l.begin();try{sr(i,s,i.template,a)}catch(c){throw e_(s,c),c}finally{l.end&&l.end()}}function Ig(i){!function(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],l=Wh(a),c=l[1];bg(c,l,c.template,a)}}(i[8])}function Xy(i,s,a){wu(0),s(i,a)}const CC=(()=>Promise.resolve(null))();function gf(i){return i[7]||(i[7]=[])}function Dg(i){return i.cleanup||(i.cleanup=[])}function e_(i,s){const a=i[9],l=a?a.get(Go,null):null;l&&l.handleError(s)}function AE(i,s,a,l,c){for(let f=0;f<a.length;){const y=a[f++],v=a[f++],w=s[y],T=i.data[y];null!==T.setInput?T.setInput(w,c,l,v):w[v]=c}}function Va(i,s,a){const l=Io(s,i);!function(i,s,a){nn(i)?i.setValue(s,a):s.textContent=a}(i[11],l,a)}function nc(i,s,a){let l=a?i.styles:null,c=a?i.classes:null,f=0;if(null!==s)for(let y=0;y<s.length;y++){const v=s[y];"number"==typeof v?f=v:1==f?c=le(c,v):2==f&&(l=le(l,v+": "+s[++y]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=c:i.classesWithoutHost=c}const Ul=new on("INJECTOR",-1);class mf{get(s,a=Ts){if(a===Ts){const l=new Error(`NullInjectorError: No provider for ${Q(s)}!`);throw l.name="NullInjectorError",l}return a}}const yf=new on("Set Injector scope."),Sg={},OE={};let _f;function t_(){return void 0===_f&&(_f=new mf),_f}function NE(i,s=null,a=null,l){return new DC(i,a,s||t_(),l)}class DC{constructor(s,a,l,c=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];a&&ki(a,v=>this.processProvider(v,s,a)),ki([s],v=>this.processInjectorType(v,[],f)),this.records.set(Ul,Ua(void 0,this));const y=this.records.get(yf);this.scope=null!=y?y.value:null,this.source=c||("object"==typeof s?null:Q(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=Ts,l=De.Default){this.assertNotDestroyed();const c=Ma(this),f=Cn(void 0);try{if(!(l&De.SkipSelf)){let v=this.records.get(s);if(void 0===v){const w=("function"==typeof(i=s)||"object"==typeof i&&i instanceof on)&&Ir(s);v=w&&this.injectableDefInScope(w)?Ua(ME(s),Sg):null,this.records.set(s,v)}if(null!=v)return this.hydrate(s,v)}return(l&De.Self?t_():this.parent).get(s,a=l&De.Optional&&a===Ts?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[ts]=y[ts]||[]).unshift(Q(s)),c)throw y;return Lv(y,s,"R3InjectorError",this.source)}throw y}finally{Cn(f),Ma(c)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,c)=>s.push(Q(c))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,a,l){if(!(s=K(s)))return!1;let c=Oi(s);const f=null==c&&s.ngModule||void 0,y=void 0===f?s:f,v=-1!==l.indexOf(y);if(void 0!==f&&(c=Oi(f)),null==c)return!1;if(null!=c.imports&&!v){let A;l.push(y);try{ki(c.imports,M=>{this.processInjectorType(M,a,l)&&(void 0===A&&(A=[]),A.push(M))})}finally{}if(void 0!==A)for(let M=0;M<A.length;M++){const{ngModule:P,providers:H}=A[M];ki(H,W=>this.processProvider(W,P,H||Ve))}}this.injectorDefTypes.add(y);const w=Dn(y)||(()=>new y);this.records.set(y,Ua(w,Sg));const T=c.providers;if(null!=T&&!v){const A=s;ki(T,M=>this.processProvider(M,A,T))}return void 0!==f&&void 0!==s.providers}processProvider(s,a,l){let c=ic(s=K(s))?s:K(s&&s.provide);const f=rc(i=s)?Ua(void 0,i.useValue):Ua(xg(i),Sg);var i;if(ic(s)||!0!==s.multi)this.records.get(c);else{let y=this.records.get(c);y||(y=Ua(void 0,Sg,!0),y.factory=()=>Vo(y.multi),this.records.set(c,y)),c=s,y.multi.push(s)}this.records.set(c,f)}hydrate(s,a){return a.value===Sg&&(a.value=OE,a.value=a.factory()),"object"==typeof a.value&&a.value&&null!==(i=a.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(a.value),a.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const a=K(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function ME(i){const s=Ir(i),a=null!==s?s.factory:Dn(i);if(null!==a)return a;if(i instanceof on)throw new Error(`Token ${Q(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const l=Vr(s,"?");throw new Error(`Can't resolve all parameters for ${Q(i)}: (${l.join(", ")}).`)}const a=function(i){const s=i&&(i[Vt]||i[go]);if(s){const a=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Error("unreachable")}function xg(i,s,a){let l;if(ic(i)){const c=K(i);return Dn(c)||ME(c)}if(rc(i))l=()=>K(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...Vo(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))l=()=>On(K(i.useExisting));else{const c=K(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return Dn(c)||ME(c);l=()=>new c(...Vo(i.deps))}return l}function Ua(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function rc(i){return null!==i&&"object"==typeof i&&Ss in i}function ic(i){return"function"==typeof i}const Ba=function(i,s,a){return function(i,s=null,a=null,l){const c=NE(i,s,a,l);return c._resolveInjectorDefTypes(),c}({name:a},s,i,a)};let fn=(()=>{class i{static create(a,l){return Array.isArray(a)?Ba(a,l,""):Ba(a.providers,a.parent,a.name||"")}}return i.THROW_IF_NOT_FOUND=Ts,i.NULL=new mf,i.\u0275prov=xt({token:i,providedIn:"any",factory:()=>On(Ul)}),i.__NG_ELEMENT_ID__=-1,i})();function mr(i,s){Tu(Wh(i)[1],Sn())}function qE(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let c;if(pi(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");c=s.\u0275dir}if(c){if(a){l.push(c);const y=i;y.inputs=WE(i.inputs),y.declaredInputs=WE(i.declaredInputs),y.outputs=WE(i.outputs);const v=c.hostBindings;v&&BC(i,v);const w=c.viewQuery,T=c.contentQueries;if(w&&VC(i,w),T&&UC(i,T),J(i.inputs,c.inputs),J(i.declaredInputs,c.declaredInputs),J(i.outputs,c.outputs),pi(c)&&c.data.animation){const A=i.data;A.animation=(A.animation||[]).concat(c.data.animation)}}const f=c.features;if(f)for(let y=0;y<f.length;y++){const v=f[y];v&&v.ngInherit&&v(i),v===qE&&(a=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const c=i[l];c.hostVars=s+=c.hostVars,c.hostAttrs=Pi(c.hostAttrs,a=Pi(a,c.hostAttrs))}}(l)}function WE(i){return i===Ue?{}:i===Ve?[]:i}function VC(i,s){const a=i.viewQuery;i.viewQuery=a?(l,c)=>{s(l,c),a(l,c)}:s}function UC(i,s){const a=i.contentQueries;i.contentQueries=a?(l,c,f)=>{s(l,c,f),a(l,c,f)}:s}function BC(i,s){const a=i.hostBindings;i.hostBindings=a?(l,c)=>{s(l,c),a(l,c)}:s}let Mg=null;function Df(){if(!Mg){const i=G.Symbol;if(i&&i.iterator)Mg=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Mg=l)}}}return Mg}function Sf(i){return!!s_(i)&&(Array.isArray(i)||!(i instanceof Map)&&Df()in i)}function s_(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ro(i,s,a){return i[s]=a}function sc(i,s){return i[s]}function Ti(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function oc(i,s,a,l){const c=Ti(i,s,a);return Ti(i,s+1,l)||c}function Ps(i,s,a,l,c,f){const y=oc(i,s,a,l);return oc(i,s+2,c,f)||y}function o_(i,s,a,l){const c=Ce();return Ti(c,Qs(),s)&&(Tt(),Ms(yn(),c,i,s,a,l)),o_}function uc(i,s,a,l){return Ti(i,Qs(),a)?s+ke(a)+l:it}function dd(i,s,a,l,c,f){const v=oc(i,lt.lFrame.bindingIndex,a,c);return Mi(2),v?s+ke(a)+l+ke(c)+f:it}function GC(i,s,a,l,c,f,y,v){const w=Ce(),T=Tt(),A=i+20,M=T.firstCreatePass?function(i,s,a,l,c,f,y,v,w){const T=s.consts,A=tc(s,i,4,y||null,ys(T,v));hf(s,a,A,ys(T,w)),Tu(s,A);const M=A.tViews=ad(2,A,l,c,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T);return null!==s.queries&&(s.queries.template(s,A),M.queries=s.queries.embeddedTView(A)),A}(A,T,w,s,a,l,c,f,y):T.data[A];gi(M,!1);const P=w[11].createComment("");fg(T,w,P,M),gr(P,w),Ll(w,w[A]=ff(P,w,P,M)),_a(M)&&vE(T,w,M),null!=y&&EE(w,M,v)}function eb(i){return function(i,s){return i[s]}(lt.lFrame.contextLView,20+i)}function Zo(i,s=De.Default){const a=Ce();return null===a?On(i,s):Eh(Sn(),a,K(i),s)}function d_(i,s,a){const l=Ce();return Ti(l,Qs(),s)&&Li(Tt(),yn(),l,i,s,l[11],a,!1),d_}function Qe(i,s,a,l,c){const y=c?"class":"style";AE(i,a,s.inputs[y],y,l)}function so(i,s,a,l){const c=Ce(),f=Tt(),y=20+i,v=c[11],w=c[y]=sf(v,s,lt.lFrame.currentNamespace),T=f.firstCreatePass?function(i,s,a,l,c,f,y){const v=s.consts,T=tc(s,i,2,c,ys(v,f));return hf(s,a,T,ys(v,y)),null!==T.attrs&&nc(T,T.attrs,!1),null!==T.mergedAttrs&&nc(T,T.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,T),T}(y,f,c,0,s,a,l):f.data[y];gi(T,!0);const A=T.mergedAttrs;null!==A&&_l(v,w,A);const M=T.classes;null!==M&&uE(v,w,M);const P=T.styles;null!==P&&W0(v,w,P),64!=(64&T.flags)&&fg(f,c,w,T),0===lt.lFrame.elementDepthCount&&gr(w,c),lt.lFrame.elementDepthCount++,_a(T)&&(vE(f,c,T),df(f,T,c)),null!==l&&EE(c,T)}function vd(){let i=Sn();fl()?Ys():(i=i.parent,gi(i,!1));const s=i;lt.lFrame.elementDepthCount--;const a=Tt();a.firstCreatePass&&(Tu(a,i),Ws(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&Qe(a,s,Ce(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&Qe(a,s,Ce(),s.stylesWithoutHost,!1)}function Ed(i,s,a,l){so(i,s,a,l),vd()}function Ug(i,s,a){const l=Ce(),c=Tt(),f=i+20,y=c.firstCreatePass?function(i,s,a,l,c){const f=s.consts,y=ys(f,l),v=tc(s,i,8,"ng-container",y);return null!==y&&nc(v,y,!0),hf(s,a,v,ys(f,c)),null!==s.queries&&s.queries.elementStart(s,v),v}(f,c,l,s,a):c.data[f];gi(y,!0);const v=l[f]=l[11].createComment("");fg(c,l,v,y),gr(v,l),_a(y)&&(vE(c,l,y),df(c,y,l)),null!=a&&EE(l,y)}function Nf(){let i=Sn();const s=Tt();fl()?Ys():(i=i.parent,gi(i,!1)),s.firstCreatePass&&(Tu(s,i),Ws(i)&&s.queries.elementEnd(i))}function h_(i,s,a){Ug(i,s,a),Nf()}function f_(){return Ce()}function p_(i){return!!i&&"function"==typeof i.then}function sb(i){return!!i&&"function"==typeof i.subscribe}const Mf=sb;function bd(i,s,a,l){const c=Ce(),f=Tt(),y=Sn();return function(i,s,a,l,c,f,y,v){const w=_a(l),A=i.firstCreatePass&&Dg(i),M=s[8],P=gf(s);let H=!0;if(3&l.type||v){const X=Fr(l,s),Ne=v?v(X):X,ve=P.length,Ze=v?et=>v(Rt(et[l.index])):l.index;if(nn(a)){let et=null;if(!v&&w&&(et=function(i,s,a,l){const c=i.cleanup;if(null!=c)for(let f=0;f<c.length-1;f+=2){const y=c[f];if(y===a&&c[f+1]===l){const v=s[7],w=c[f+2];return v.length>w?v[w]:null}"string"==typeof y&&(f+=2)}return null}(i,s,c,l.index)),null!==et)(et.__ngLastListenerFn__||et).__ngNextListenerFn__=f,et.__ngLastListenerFn__=f,H=!1;else{f=g_(l,s,M,f,!1);const Ut=a.listen(Ne,c,f);P.push(f,Ut),A&&A.push(c,Ze,ve,ve+1)}}else f=g_(l,s,M,f,!0),Ne.addEventListener(c,f,y),P.push(f),A&&A.push(c,Ze,ve,y)}else f=g_(l,s,M,f,!1);const W=l.outputs;let ae;if(H&&null!==W&&(ae=W[c])){const X=ae.length;if(X)for(let Ne=0;Ne<X;Ne+=2){const wr=s[ae[Ne]][ae[Ne+1]].subscribe(f),fo=P.length;P.push(f,wr),A&&A.push(c,l.index,fo,-(fo+1))}}}(f,c,c[11],y,i,s,!!a,l),bd}function XC(i,s,a,l){try{return!1!==a(l)}catch(c){return e_(i,c),!1}}function g_(i,s,a,l,c){return function f(y){if(y===Function)return l;const v=2&i.flags?cr(i.index,s):s;0==(32&s[2])&&DE(v);let w=XC(s,0,l,y),T=f.__ngNextListenerFn__;for(;T;)w=XC(s,0,T,y)&&w,T=T.__ngNextListenerFn__;return c&&!1===w&&(y.preventDefault(),y.returnValue=!1),w}}function Pf(i=1){return function(i){return(lt.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,lt.lFrame.contextLView))[8]}(i)}function MA(i,s){let a=null;const l=function(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let c=0;c<s.length;c++){const f=s[c];if("*"!==f){if(null===l?$S(i,f,!0):zS(l,f))return c}else a=c}return a}function Bg(i){const s=Ce()[16][6];if(!s.projection){const l=s.projection=Vr(i?i.length:1,null),c=l.slice();let f=s.child;for(;null!==f;){const y=i?MA(f,i):0;null!==y&&(c[y]?c[y].projectionNext=f:l[y]=f,c[y]=f),f=f.next}}}function jg(i,s=0,a){const l=Ce(),c=Tt(),f=tc(c,20+i,16,null,a||null);null===f.projection&&(f.projection=s),Ys(),64!=(64&f.flags)&&function(i,s,a){q0(s[11],0,s,a,j0(i,a,s),H0(a.parent||s[6],a,s))}(c,l,f)}function aI(i,s,a,l,c){const f=i[a+1],y=null===s;let v=l?ei(f):kl(f),w=!1;for(;0!==v&&(!1===w||y);){const A=i[v+1];lI(i[v],s)&&(w=!0,i[v+1]=l?yg(A):kt(A)),v=l?ei(A):kl(A)}w&&(i[a+1]=l?kt(f):yg(f))}function lI(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&N(i,s)>=0}const vr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ha(i){return i.substring(vr.key,vr.keyEnd)}function uI(i){return i.substring(vr.value,vr.valueEnd)}function Hg(i,s){const a=vr.textEnd;return a===s?-1:(s=vr.keyEnd=function(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,vr.key=s,a),cc(i,s,a))}function v_(i,s){const a=vr.textEnd;let l=vr.key=cc(i,s,a);return a===l?-1:(l=vr.keyEnd=function(i,s,a){let l;for(;s<a&&(45===(l=i.charCodeAt(s))||95===l||(-33&l)>=65&&(-33&l)<=90||l>=48&&l<=57);)s++;return s}(i,l,a),l=lb(i,l,a),l=vr.value=cc(i,l,a),l=vr.valueEnd=function(i,s,a){let l=-1,c=-1,f=-1,y=s,v=y;for(;y<a;){const w=i.charCodeAt(y++);if(59===w)return v;34===w||39===w?v=y=ub(i,w,y,a):s===y-4&&85===f&&82===c&&76===l&&40===w?v=y=ub(i,41,y,a):w>32&&(v=y),f=c,c=l,l=-33&w}return v}(i,l,a),lb(i,l,a))}function E_(i){vr.key=0,vr.keyEnd=0,vr.value=0,vr.valueEnd=0,vr.textEnd=i.length}function cc(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function lb(i,s,a,l){return(s=cc(i,s,a))<a&&s++,s}function ub(i,s,a,l){let c=-1,f=a;for(;f<l;){const y=i.charCodeAt(f++);if(y==s&&92!==c)return f;c=92==y&&92===c?0:y}throw new Error}function wd(i,s,a){return as(i,s,a,!1),wd}function b_(i,s){return as(i,s,null,!0),b_}function Ko(i){Qo(hb,dI,i,!1)}function dI(i,s){for(let a=function(i){return E_(i),v_(i,cc(i,0,vr.textEnd))}(s);a>=0;a=v_(s,a))hb(i,Ha(s),uI(s))}function cb(i){Qo(C,Yo,i,!0)}function Yo(i,s){for(let a=function(i){return E_(i),Hg(i,cc(i,0,vr.textEnd))}(s);a>=0;a=Hg(s,a))C(i,Ha(s),!0)}function as(i,s,a,l){const c=Ce(),f=Tt(),y=Mi(2);f.firstUpdatePass&&db(f,i,y,l),s!==it&&Ti(c,y,s)&&gI(f,f.data[Lr()],c,c[11],i,c[y+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Q(xs(i)))),i}(s,a),l,y)}function Qo(i,s,a,l){const c=Tt(),f=Mi(2);c.firstUpdatePass&&db(c,null,f,l);const y=Ce();if(a!==it&&Ti(y,f,a)){const v=c.data[Lr()];if(zg(v,l)&&!hI(c,f)){let w=l?v.classesWithoutHost:v.stylesWithoutHost;null!==w&&(a=le(w,a||"")),Qe(c,v,y,a,l)}else!function(i,s,a,l,c,f,y,v){c===it&&(c=Ve);let w=0,T=0,A=0<c.length?c[0]:null,M=0<f.length?f[0]:null;for(;null!==A||null!==M;){const P=w<c.length?c[w+1]:void 0,H=T<f.length?f[T+1]:void 0;let ae,W=null;A===M?(w+=2,T+=2,P!==H&&(W=M,ae=H)):null===M||null!==A&&A<M?(w+=2,W=A):(T+=2,W=M,ae=H),null!==W&&gI(i,s,a,l,W,ae,y,v),A=w<c.length?c[w]:null,M=T<f.length?f[T]:null}}(c,v,y,y[11],y[f+1],y[f+1]=function(i,s,a){if(null==a||""===a)return Ve;const l=[],c=xs(a);if(Array.isArray(c))for(let f=0;f<c.length;f++)i(l,c[f],!0);else if("object"==typeof c)for(const f in c)c.hasOwnProperty(f)&&i(l,f,c[f]);else"string"==typeof c&&s(l,c);return l}(i,s,a),l,f)}}function hI(i,s){return s>=i.expandoStartIndex}function db(i,s,a,l){const c=i.data;if(null===c[a+1]){const f=c[Lr()],y=hI(i,a);zg(f,l)&&null===s&&!y&&(s=!1),s=function(i,s,a,l){const c=function(i){const s=lt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=l?s.residualClasses:s.residualStyles;if(null===c)0===(l?s.classBindings:s.styleBindings)&&(a=$a(a=w_(null,i,s,a,l),s.attrs,l),f=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==c)if(a=w_(c,i,s,a,l),null===f){let w=function(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==kl(l))return i[ei(l)]}(i,s,l);void 0!==w&&Array.isArray(w)&&(w=w_(null,i,s,w[1],l),w=$a(w,s.attrs,l),function(i,s,a,l){i[ei(a?s.classBindings:s.styleBindings)]=l}(i,s,l,w))}else f=function(i,s,a){let l;const c=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<c;f++)l=$a(l,i[f].hostAttrs,a);return $a(l,s.attrs,a)}(i,s,l)}return void 0!==f&&(l?s.residualClasses=f:s.residualStyles=f),a}(c,f,s,l),function(i,s,a,l,c,f){let y=f?s.classBindings:s.styleBindings,v=ei(y),w=kl(y);i[l]=a;let A,T=!1;if(Array.isArray(a)){const M=a;A=M[1],(null===A||N(M,A)>0)&&(T=!0)}else A=a;if(c)if(0!==w){const P=ei(i[v+1]);i[l+1]=me(P,v),0!==P&&(i[P+1]=Wo(i[P+1],l)),i[v+1]=function(i,s){return 131071&i|s<<17}(i[v+1],l)}else i[l+1]=me(v,0),0!==v&&(i[v+1]=Wo(i[v+1],l)),v=l;else i[l+1]=me(w,0),0===v?v=l:i[w+1]=Wo(i[w+1],l),w=l;T&&(i[l+1]=kt(i[l+1])),aI(i,A,l,!0),aI(i,A,l,!1),function(i,s,a,l,c){const f=c?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&N(f,s)>=0&&(a[l+1]=yg(a[l+1]))}(s,A,i,l,f),y=me(v,w),f?s.classBindings=y:s.styleBindings=y}(c,f,s,a,y,l)}}function w_(i,s,a,l,c){let f=null;const y=a.directiveEnd;let v=a.directiveStylingLast;for(-1===v?v=a.directiveStart:v++;v<y&&(f=s[v],l=$a(l,f.hostAttrs,c),f!==i);)v++;return null!==i&&(a.directiveStylingLast=v),l}function $a(i,s,a){const l=a?1:2;let c=-1;if(null!==s)for(let f=0;f<s.length;f++){const y=s[f];"number"==typeof y?c=y:c===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),C(i,y,!!a||s[++f]))}return void 0===i?null:i}function hb(i,s,a){C(i,s,xs(a))}function gI(i,s,a,l,c,f,y,v){if(!(3&s.type))return;const w=i.data,T=w[v+1];Bn(function(i){return 1==(1&i)}(T)?mI(w,s,a,c,kl(T),y):void 0)||(Bn(f)||function(i){return 2==(2&i)}(T)&&(f=mI(w,null,a,c,v,y)),function(i,s,a,l,c){const f=nn(i);if(s)c?f?i.addClass(a,l):a.classList.add(l):f?i.removeClass(a,l):a.classList.remove(l);else{let y=-1===l.indexOf("-")?void 0:R.DashCase;if(null==c)f?i.removeStyle(a,l,y):a.style.removeProperty(l);else{const v="string"==typeof c&&c.endsWith("!important");v&&(c=c.slice(0,-10),y|=R.Important),f?i.setStyle(a,l,c,y):a.style.setProperty(l,c,v?"important":"")}}}(l,y,Io(Lr(),a),c,f))}function mI(i,s,a,l,c,f){const y=null===s;let v;for(;c>0;){const w=i[c],T=Array.isArray(w),A=T?w[1]:w,M=null===A;let P=a[c+1];P===it&&(P=M?Ve:void 0);let H=M?S(P,l):A===l?P:void 0;if(T&&!Bn(H)&&(H=S(w,l)),Bn(H)&&(v=H,y))return v;const W=i[c+1];c=y?ei(W):kl(W)}if(null!==s){let w=f?s.residualClasses:s.residualStyles;null!=w&&(v=S(w,l))}return v}function Bn(i){return void 0!==i}function zg(i,s){return 0!=(i.flags&(s?16:32))}function yI(i,s=""){const a=Ce(),l=Tt(),c=i+20,f=l.firstCreatePass?tc(l,c,1,s,null):l.data[c],y=a[c]=function(i,s){return nn(i)?i.createText(s):i.createTextNode(s)}(a[11],s);fg(l,a,y,f),gi(f,!1)}function qg(i){return fb("",i,""),qg}function fb(i,s,a){const l=Ce(),c=uc(l,i,s,a);return c!==it&&Va(l,Lr(),c),fb}function I_(i,s,a,l,c){const f=Ce(),y=dd(f,i,s,a,l,c);return y!==it&&Va(f,Lr(),y),I_}function jn(i,s,a){Ko(uc(Ce(),i,s,a))}function Cb(i,s,a){const l=Ce();return Ti(l,Qs(),s)&&Li(Tt(),yn(),l,i,s,l[11],a,!0),Cb}const dc=void 0;var BA=["en",[["a","p"],["AM","PM"],dc],[["AM","PM"],dc,dc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],dc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],dc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",dc,"{1} 'at' {0}",dc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),a=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let $f={};function S_(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=A_(s);if(a)return a;const l=s.split("-")[0];if(a=A_(l),a)return a;if("en"===l)return BA;throw new Error(`Missing locale data for the locale "${i}".`)}function Rr(i){return S_(i)[rt.PluralCase]}function A_(i){return i in $f||($f[i]=G.ng&&G.ng.common&&G.ng.common.locales&&G.ng.common.locales[i]),$f[i]}var rt=(()=>((rt=rt||{})[rt.LocaleId=0]="LocaleId",rt[rt.DayPeriodsFormat=1]="DayPeriodsFormat",rt[rt.DayPeriodsStandalone=2]="DayPeriodsStandalone",rt[rt.DaysFormat=3]="DaysFormat",rt[rt.DaysStandalone=4]="DaysStandalone",rt[rt.MonthsFormat=5]="MonthsFormat",rt[rt.MonthsStandalone=6]="MonthsStandalone",rt[rt.Eras=7]="Eras",rt[rt.FirstDayOfWeek=8]="FirstDayOfWeek",rt[rt.WeekendRange=9]="WeekendRange",rt[rt.DateFormat=10]="DateFormat",rt[rt.TimeFormat=11]="TimeFormat",rt[rt.DateTimeFormat=12]="DateTimeFormat",rt[rt.NumberSymbols=13]="NumberSymbols",rt[rt.NumberFormats=14]="NumberFormats",rt[rt.CurrencyCode=15]="CurrencyCode",rt[rt.CurrencySymbol=16]="CurrencySymbol",rt[rt.CurrencyName=17]="CurrencyName",rt[rt.Currencies=18]="Currencies",rt[rt.Directionality=19]="Directionality",rt[rt.PluralCase=20]="PluralCase",rt[rt.ExtraData=21]="ExtraData",rt))();const hc="en-US";let Qg=hc;function x_(i){gn(i,"Expected localeId to be defined"),"string"==typeof i&&(Qg=i.toLowerCase().replace(/_/g,"-"))}function Yl(i,s,a,l,c){if(i=K(i),Array.isArray(i))for(let f=0;f<i.length;f++)Yl(i[f],s,a,l,c);else{const f=Tt(),y=Ce();let v=ic(i)?i:K(i.provide),w=xg(i);const T=Sn(),A=1048575&T.providerIndexes,M=T.directiveStart,P=T.providerIndexes>>20;if(ic(i)||!i.multi){const H=new Ao(w,c,Zo),W=F_(v,s,c?A:A+P,M);-1===W?(nr(hr(T,y),f,v),Ub(f,i,s.length),s.push(v),T.directiveStart++,T.directiveEnd++,c&&(T.providerIndexes+=1048576),a.push(H),y.push(H)):(a[W]=H,y[W]=H)}else{const H=F_(v,s,A+P,M),W=F_(v,s,A,A+P),ae=H>=0&&a[H],X=W>=0&&a[W];if(c&&!X||!c&&!ae){nr(hr(T,y),f,v);const Ne=function(i,s,a,l,c){const f=new Ao(i,a,Zo);return f.multi=[],f.index=s,f.componentProviders=0,Ad(f,c,l&&!a),f}(c?xd:gc,a.length,c,l,w);!c&&X&&(a[W].providerFactory=Ne),Ub(f,i,s.length,0),s.push(v),T.directiveStart++,T.directiveEnd++,c&&(T.providerIndexes+=1048576),a.push(Ne),y.push(Ne)}else Ub(f,i,H>-1?H:W,Ad(a[c?W:H],w,!c&&l));!c&&l&&X&&a[W].componentProviders++}}}function Ub(i,s,a,l){const c=ic(s);if(c||function(i){return!!i.useClass}(s)){const y=(s.useClass||s).prototype.ngOnDestroy;if(y){const v=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const w=v.indexOf(a);-1===w?v.push(a,[l,y]):v[w+1].push(l,y)}else v.push(a,y)}}}function Ad(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function F_(i,s,a,l){for(let c=a;c<l;c++)if(s[c]===i)return c;return-1}function gc(i,s,a,l){return nm(this.multi,[])}function xd(i,s,a,l){const c=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,v=No(a,a[1],this.providerFactory.index,l);f=v.slice(0,y),nm(c,f);for(let w=y;w<v.length;w++)f.push(v[w])}else f=[],nm(c,f);return f}function nm(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function jI(i,s=[]){return a=>{a.providersResolver=(l,c)=>function(i,s,a){const l=Tt();if(l.firstCreatePass){const c=pi(i);Yl(a,l.data,l.blueprint,c,!0),Yl(s,l.data,l.blueprint,c,!1)}}(l,c?c(i):i,s)}}class HI{}const rm="ngComponent";class GI{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${Q(i)}. Did you add it to @NgModule.entryComponents?`);return s[rm]=i,s}(s)}}let ep=(()=>{class i{}return i.NULL=new GI,i})();function ea(...i){}function tp(i,s){return new us(Fr(i,s))}const Bb=function(){return tp(Sn(),Ce())};let us=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Bb,i})();function sm(i){return i instanceof us?i.nativeElement:i}class U_{}let ZI=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>ex(),i})();const ex=function(){const i=Ce(),a=cr(Sn().index,i);return function(i){return i[11]}(Wi(a)?a:i)};let om=(()=>{class i{}return i.\u0275prov=xt({token:i,providedIn:"root",factory:()=>null}),i})();class QI{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const B_=new QI("12.2.13");class JI{constructor(){}supports(s){return Sf(s)}create(s){return new np(s)}}const XI=(i,s)=>s;class np{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||XI}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,c=0,f=null;for(;a||l;){const y=!l||a&&a.currentIndex<$b(l,c,f)?a:l,v=$b(y,c,f),w=y.currentIndex;if(y===l)c--,l=l._nextRemoved;else if(a=a._next,null==y.previousIndex)c++;else{f||(f=[]);const T=v-c,A=w-c;if(T!=A){for(let P=0;P<T;P++){const H=P<f.length?f[P]:f[P]=0,W=H+P;A<=W&&W<T&&(f[P]=H+1)}f[y.previousIndex]=A-T}}v!==w&&s(y,v,w)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Sf(s))throw new Error(`Error trying to diff '${Q(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,f,y,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let v=0;v<this.length;v++)f=s[v],y=this._trackByFn(v,f),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,f,y,v)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,y,v),l=!0),a=a._next}else c=0,function(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Df()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,v=>{y=this._trackByFn(c,v),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,v,y,c)),Object.is(a.item,v)||this._addIdentityChange(a,v)):(a=this._mismatch(a,v,y,c),l=!0),a=a._next,c++}),this.length=c;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,c){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,c)):s=this._addAfter(new rp(a,l),f,c),s}_verifyReinsertion(s,a,l,c){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?s=this._reinsertAfter(f,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,f=s._nextRemoved;return null===c?this._removalsHead=f:c._nextRemoved=f,null===f?this._removalsTail=c:f._prevRemoved=c,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const c=null===a?this._itHead:a._next;return s._next=c,s._prev=a,null===c?this._itTail=s:c._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new am),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new am),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class rp{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Hb{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class am{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new Hb,this.map.set(a,l)),l.add(s)}get(s,a){const c=this.map.get(s);return c?c.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $b(i,s,a){const l=i.previousIndex;if(null===l)return l;let c=0;return a&&l<a.length&&(c=a[l]),l+s+c}class Gb{constructor(){}supports(s){return s instanceof Map||s_(s)}create(){return new tx}}class tx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||s_(s)))throw new Error(`Error trying to diff '${Q(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,c)=>{if(a&&a.key===c)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(c,l);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,a);const f=c._prev,y=c._next;return f&&(f._next=y),y&&(y._prev=f),c._next=null,c._prev=null,c}const l=new zb(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class zb{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function eT(){return new ip([new JI])}let ip=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||eT()),deps:[[i,new Bo,new As]]}}find(a){const l=this.factories.find(c=>c.supports(a));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${a}' of type '${function(i){return i.name||typeof i}(a)}'`)}}return i.\u0275prov=xt({token:i,providedIn:"root",factory:eT}),i})();function j_(){return new H_([new Gb])}let H_=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||j_()),deps:[[i,new Bo,new As]]}}find(a){const l=this.factories.find(c=>c.supports(a));if(l)return l;throw new Error(`Cannot find a differ supporting object '${a}'`)}}return i.\u0275prov=xt({token:i,providedIn:"root",factory:j_}),i})();function sp(i,s,a,l,c=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&l.push(Rt(f)),Tn(f))for(let v=10;v<f.length;v++){const w=f[v],T=w[1].firstChild;null!==T&&sp(w[1],w,T,l)}const y=a.type;if(8&y)sp(i,s,a.child,l);else if(32&y){const v=re(a,s);let w;for(;w=v();)l.push(w)}else if(16&y){const v=Ly(s,a);if(Array.isArray(v))l.push(...v);else{const w=$e(s[16]);sp(w[1],w,v,l,!0)}}a=c?a.projectionNext:a.next}return l}class Yn{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return sp(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Tn(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(sE(s,l),ko(a,l))}this._attachedToViewContainer=!1}U0(this._lView[1],this._lView)}onDestroy(s){wE(this._lView[1],this._lView,null,s)}markForCheck(){DE(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Jy(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,a){Ji(!0);try{Jy(i,s,a)}finally{Ji(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,gg(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class rx extends Yn{constructor(s){super(s),this._view=s}detectChanges(){Ig(this._view)}checkNoChanges(){!function(i){Ji(!0);try{Ig(i)}finally{Ji(!1)}}(this._view)}get context(){return null}}const sx=function(i){return function(i,s,a){if(nl(i)&&!a){const l=cr(i.index,s);return new Yn(l,l)}return 47&i.type?new Yn(s[16],s):null}(Sn(),Ce(),16==(16&i))};let ox=(()=>{class i{}return i.__NG_ELEMENT_ID__=sx,i})();const tT=[new Gb],Wb=new ip([new JI]),$_=new H_(tT),Kb=function(){return um(Sn(),Ce())};let Rd=(()=>{class i{}return i.__NG_ELEMENT_ID__=Kb,i})();const Yb=Rd,rT=class extends Yb{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s){const a=this._declarationTContainer.tViews,l=vg(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(l[19]=f.createEmbeddedView(a)),Eg(a,l,s),new Yn(l)}};function um(i,s){return 4&i.type?new rT(s,i,tp(i,s)):null}class Od{}class iT{}const G_=function(){return lT(Sn(),Ce())};let mc=(()=>{class i{}return i.__NG_ELEMENT_ID__=G_,i})();const sT=mc,oT=class extends sT{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return tp(this._hostTNode,this._hostLView)}get injector(){return new bs(this._hostTNode,this._hostLView)}get parentInjector(){const s=bl(this._hostTNode,this._hostLView);if(Ou(s)){const a=El(s,this._hostLView),l=vl(s);return new bs(a[1].data[l+8],a)}return new bs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=aT(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){const c=s.createEmbeddedView(a||{});return this.insert(c,l),c}createComponent(s,a,l,c,f){const y=l||this.parentInjector;if(!f&&null==s.ngModule&&y){const w=y.get(Od,null);w&&(f=w)}const v=s.create(y,c,void 0,f);return this.insert(v.hostView,a),v}insert(s,a){const l=s._lView,c=l[1];if(Tn(l[3])){const A=this.indexOf(s);if(-1!==A)this.detach(A);else{const M=l[3],P=new oT(M,M[6],M[3]);P.detach(P.indexOf(s))}}const f=this._adjustIndex(a),y=this._lContainer;!function(i,s,a,l){const c=10+l,f=a.length;l>0&&(a[c-1][4]=s),l<f-10?(s[4]=a[c],Fi(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(y,s);const v=s[19];null!==v&&v.insertView(i),s[2]|=128}(c,l,y,f);const v=z0(f,y),w=l[11],T=Pl(w,y[7]);return null!==T&&function(i,s,a,l,c,f){l[0]=c,l[6]=s,gg(i,l,a,1,c,f)}(c,y[6],w,l,T,v),s.attachToViewContainerRef(),Fi(Jb(y),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=aT(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=sE(this._lContainer,a);l&&(ko(Jb(this._lContainer),a),U0(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=sE(this._lContainer,a);return l&&null!=ko(Jb(this._lContainer),a)?new Yn(l):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function aT(i){return i[8]}function Jb(i){return i[8]||(i[8]=[])}function lT(i,s){let a;const l=s[i.index];if(Tn(l))a=l;else{let c;if(8&i.type)c=Rt(l);else{const f=s[11];c=f.createComment("");const y=Fr(i,s);sd(f,Pl(f,y),c,function(i,s){return nn(i)?i.nextSibling(s):s.nextSibling}(f,y),!1)}s[i.index]=a=ff(l,s,c,i),Ll(s,a)}return new oT(a,i,s)}const cp={};class xT extends ep{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=$n(s);return new J_(a,this.ngModule)}}function RT(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}const Mx=new on("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ef});class J_ extends HI{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=s.selectors.map(qS).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return RT(this.componentDef.inputs)}get outputs(){return RT(this.componentDef.outputs)}create(s,a,l,c){const f=(c=c||this.ngModule)?function(i,s){return{get:(a,l,c)=>{const f=i.get(a,cp,c);return f!==cp||l===cp?f:s.get(a,l,c)}}}(s,c.injector):s,y=f.get(U_,ul),v=f.get(om,null),w=y.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",A=l?function(i,s,a){if(nn(i))return i.selectRootElement(s,a===bt.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(w,l,this.componentDef.encapsulation):sf(y.createRenderer(null,this.componentDef),T,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(T)),M=this.componentDef.onPush?576:528,P=function(i,s){return{components:[],scheduler:i||ef,clean:CC,playerHandler:s||null,flags:0}}(),H=ad(0,null,null,1,0,null,null,null,null,null),W=vg(null,H,P,M,null,null,y,w,v,f);let ae,X;Es(W);try{const Ne=function(i,s,a,l,c,f){const y=a[1];a[20]=i;const w=tc(y,20,2,"#host",null),T=w.mergedAttrs=s.hostAttrs;null!==T&&(nc(w,T,!0),null!==i&&(_l(c,i,T),null!==w.classes&&uE(c,i,w.classes),null!==w.styles&&W0(c,i,w.styles)));const A=l.createRenderer(i,s),M=vg(a,wg(s),null,s.onPush?64:16,a[20],w,l,A,f||null,null);return y.firstCreatePass&&(nr(hr(w,a),y,s.type),Yy(y,w),Qy(w,a.length,1)),Ll(a,M),a[20]=M}(A,this.componentDef,W,y,w);if(A)if(l)_l(w,A,["ng-version",B_.full]);else{const{attrs:ve,classes:Ze}=function(i){const s=[],a=[];let l=1,c=2;for(;l<i.length;){let f=i[l];if("string"==typeof f)2===c?""!==f&&s.push(f,i[++l]):8===c&&a.push(f);else{if(!no(c))break;c=f}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);ve&&_l(w,A,ve),Ze&&Ze.length>0&&uE(w,A,Ze.join(" "))}if(X=Yi(H,20),void 0!==a){const ve=X.projection=[];for(let Ze=0;Ze<this.ngContentSelectors.length;Ze++){const et=a[Ze];ve.push(null!=et?Array.from(et):null)}}ae=function(i,s,a,l,c){const f=a[1],y=function(i,s,a){const l=Sn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),IE(i,l,s,cf(i,s,1,null),a));const c=No(s,i,l.directiveStart,l);gr(c,s);const f=Fr(l,s);return f&&gr(f,s),c}(f,a,s);if(l.components.push(y),i[8]=y,c&&c.forEach(w=>w(y,s)),s.contentQueries){const w=Sn();s.contentQueries(1,y,w.directiveStart)}const v=Sn();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Qr(v.index),Ky(a[1],v,0,v.directiveStart,v.directiveEnd,s),yC(s,y)),y}(Ne,this.componentDef,W,P,[mr]),Eg(H,W,null)}finally{Iu()}return new Dw(this.componentType,ae,tp(X,W),W,X)}}class Dw extends class{}{constructor(s,a,l,c,f){super(),this.location=l,this._rootLView=c,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new rx(c),this.componentType=s}get injector(){return new bs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const eu=new Map;class dp extends Od{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new xT(this);const l=ur(s),c=s[Lt]||null;c&&x_(c),this._bootstrapComponents=_(l.bootstrap),this._r3Injector=NE(s,a,[{provide:Od,useValue:this},{provide:ep,useValue:this.componentFactoryResolver}],Q(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=fn.THROW_IF_NOT_FOUND,l=De.Default){return s===fn||s===Od||s===Ul?this:this._r3Injector.get(s,a,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class wm extends iT{constructor(s){super(),this.moduleType=s,null!==ur(s)&&function(i){const s=new Set;!function a(l){const c=ur(l,!0),f=c.id;null!==f&&(function(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${Q(s)} vs ${Q(s.name)}`)}(f,eu.get(f),l),eu.set(f,l));const y=_(c.imports);for(const v of y)s.has(v)||(s.add(v),a(v))}(i)}(s)}create(s){return new dp(this.moduleType,s)}}function kT(i,s,a){const l=er()+i,c=Ce();return c[l]===it?ro(c,l,a?s.call(a):s()):sc(c,l)}function FT(i,s,a,l){return function(i,s,a,l,c,f){const y=s+a;return Ti(i,y,c)?ro(i,y+1,f?l.call(f,c):l(c)):Cm(i,y+1)}(Ce(),er(),i,s,a,l)}function LT(i,s,a,l,c){return function(i,s,a,l,c,f,y){const v=s+a;return oc(i,v,c,f)?ro(i,v+2,y?l.call(y,c,f):l(c,f)):Cm(i,v+2)}(Ce(),er(),i,s,a,l,c)}function UT(i,s,a,l,c,f,y){return function(i,s,a,l,c,f,y,v,w){const T=s+a;return Ps(i,T,c,f,y,v)?ro(i,T+4,w?l.call(w,c,f,y,v):l(c,f,y,v)):Cm(i,T+4)}(Ce(),er(),i,s,a,l,c,f,y)}function Rw(i,s,a,l,c,f,y,v){const w=er()+i,T=Ce(),A=Ps(T,w,a,l,c,f);return Ti(T,w+4,y)||A?ro(T,w+5,v?s.call(v,a,l,c,f,y):s(a,l,c,f,y)):sc(T,w+5)}function BT(i,s,a,l){return function(i,s,a,l,c,f){let y=s+a,v=!1;for(let w=0;w<c.length;w++)Ti(i,y++,c[w])&&(v=!0);return v?ro(i,y,l.apply(f,c)):Cm(i,y)}(Ce(),er(),i,s,a,l)}function Cm(i,s){const a=i[s];return a===it?void 0:a}function nv(i){return s=>{setTimeout(i,void 0,s)}}const Ka=class extends d.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){var c,f,y;let v=s,w=a||(()=>null),T=l;if(s&&"object"==typeof s){const M=s;v=null===(c=M.next)||void 0===c?void 0:c.bind(M),w=null===(f=M.error)||void 0===f?void 0:f.bind(M),T=null===(y=M.complete)||void 0===y?void 0:y.bind(M)}this.__isAsync&&(w=nv(w),v&&(v=nv(v)),T&&(T=nv(T)));const A=super.subscribe({next:v,error:w,complete:T});return s instanceof ee.w&&s.add(A),A}};function rv(){return this._results[Df()]()}class Tm{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Df(),l=Tm.prototype;l[a]||(l[a]=rv)}get changes(){return this._changes||(this._changes=new Ka)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const c=_i(s);(this._changesDetected=!function(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let c=i[l],f=s[l];if(a&&(c=a(c),f=a(f)),f!==c)return!1}return!0}(l._results,c,a))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Pw{constructor(s){this.queryList=s,this.matches=null}clone(){return new Pw(this.queryList)}setDirty(){this.queryList.setDirty()}}class kw{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,c=[];for(let f=0;f<l;f++){const y=a.getByIndex(f);c.push(this.queries[y.indexInDeclarationView].clone())}return new kw(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Gx(s,a).matches&&this.queries[a].setDirty()}}class Mn{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class qT{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const c=null!==a?a.length:0,f=this.getByIndex(l).embeddedTView(s,c);f&&(f.indexInDeclarationView=l,null!==a?a.push(f):a=[f])}return null!==a?new qT(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class WT{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new WT(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const f=l[c];this.matchTNodeWithReadOption(s,a,Or(a,f)),this.matchTNodeWithReadOption(s,a,Oo(a,s,f,!1,!1))}else l===Rd?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Oo(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===us||c===mc||c===Rd&&4&a.type)this.addMatch(a.index,-2);else{const f=Oo(a,s,c,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function Or(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function Bx(i,s,a,l){return-1===a?function(i,s){return 11&i.type?tp(i,s):4&i.type?um(i,s):null}(s,i):-2===a?function(i,s,a){return a===us?tp(s,i):a===Rd?um(s,i):a===mc?lT(s,i):void 0}(i,s,l):No(i,i[1],a,s)}function Fw(i,s,a,l){const c=s[19].queries[l];if(null===c.matches){const f=i.data,y=a.matches,v=[];for(let w=0;w<y.length;w+=2){const T=y[w];v.push(T<0?null:Bx(s,f[T],y[w+1],a.metadata.read))}c.matches=v}return c.matches}function Lw(i,s,a,l){const c=i.queries.getByIndex(a),f=c.matches;if(null!==f){const y=Fw(i,s,c,a);for(let v=0;v<f.length;v+=2){const w=f[v];if(w>0)l.push(y[v/2]);else{const T=f[v+1],A=s[-w];for(let M=10;M<A.length;M++){const P=A[M];P[17]===P[3]&&Lw(P[1],P,T,l)}if(null!==A[9]){const M=A[9];for(let P=0;P<M.length;P++){const H=M[P];Lw(H[1],H,T,l)}}}}}return l}function KT(i){const s=Ce(),a=Tt(),l=ph();wu(l+1);const c=Gx(a,l);if(i.dirty&&pu(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const f=c.crossesNgTemplate?Lw(a,s,l,[]):Fw(a,s,c,l);i.reset(f,sm),i.notifyOnChanges()}return!0}return!1}function YT(i,s,a){const l=Tt();l.firstCreatePass&&(Vw(l,new Mn(i,s,a),-1),2==(2&s)&&(l.staticViewQueries=!0)),JT(l,Ce(),s)}function QT(i,s,a,l){const c=Tt();if(c.firstCreatePass){const f=Sn();Vw(c,new Mn(s,a,l),f.index),function(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(c,i),2==(2&a)&&(c.staticContentQueries=!0)}JT(c,Ce(),a)}function Hx(){return i=Ce(),s=ph(),i[19].queries[s].queryList;var i,s}function JT(i,s,a){const l=new Tm(4==(4&a));wE(i,s,l,l.destroy),null===s[19]&&(s[19]=new kw),s[19].queries.push(new Pw(l))}function Vw(i,s,a){null===i.queries&&(i.queries=new qT),i.queries.track(new WT(s,a))}function Gx(i,s){return i.queries.getByIndex(s)}function ra(i,s){return um(i,s)}const Gw=new on("Application Initializer");let Ep=(()=>{class i{constructor(a){this.appInits=a,this.resolve=ea,this.reject=ea,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const f=this.appInits[c]();if(p_(f))a.push(f);else if(Mf(f)){const y=new Promise((v,w)=>{f.subscribe({complete:v,error:w})});a.push(y)}}Promise.all(a).then(()=>{l()}).catch(c=>{this.reject(c)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(On(Gw,8))},i.\u0275prov=xt({token:i,factory:i.\u0275fac}),i})();const gD=new on("AppId"),rM={provide:gD,useFactory:function(){return`${zw()}${zw()}${zw()}`},deps:[]};function zw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const mD=new on("Platform Initializer"),ov=new on("Platform ID"),qw=new on("appBootstrapListener");let bp=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=xt({token:i,factory:i.\u0275fac}),i})();const wp=new on("LocaleId"),yD=new on("DefaultCurrencyCode");class Bd{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}const av=function(i){return new wm(i)},_D=av,Hi=function(i){return Promise.resolve(av(i))},cv=function(i){const s=av(i),l=_(ur(i).declarations).reduce((c,f)=>{const y=$n(f);return y&&c.push(new J_(y)),c},[]);return new Bd(s,l)},Cp=cv,jd=function(i){return Promise.resolve(cv(i))};let Mm=(()=>{class i{constructor(){this.compileModuleSync=_D,this.compileModuleAsync=Hi,this.compileModuleAndAllComponentsSync=Cp,this.compileModuleAndAllComponentsAsync=jd}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=xt({token:i,factory:i.\u0275fac}),i})();const wR=(()=>Promise.resolve(0))();function Hd(i){"undefined"==typeof Zone?wR.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Ls{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ka(!1),this.onMicrotaskEmpty=new Ka(!1),this.onStable=new Ka(!1),this.onError=new Ka(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&a,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let i=G.requestAnimationFrame,s=G.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(G,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,dv(i),i.isCheckStableRunning=!0,Zw(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),dv(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,c,f,y,v)=>{try{return hv(i),a.invokeTask(c,f,y,v)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),Kw(i)}},onInvoke:(a,l,c,f,y,v,w)=>{try{return hv(i),a.invoke(c,f,y,v,w)}finally{i.shouldCoalesceRunChangeDetection&&s(),Kw(i)}},onHasTask:(a,l,c,f)=>{a.hasTask(c,f),l===c&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,dv(i),Zw(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,l,c,f)=>(a.handleError(c,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ls.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ls.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,c){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+c,s,IR,ea,ea);try{return f.runTask(y,a,l)}finally{f.cancelTask(y)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const IR={};function Zw(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function dv(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function hv(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Kw(i){i._nesting--,Zw(i)}class fv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ka,this.onMicrotaskEmpty=new Ka,this.onStable=new Ka,this.onError=new Ka}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,c){return s.apply(a,l)}}let bD=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ls.assertNotInAngularZone(),Hd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Hd(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,c){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:c})}whenStable(a,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,c){return[]}}return i.\u0275fac=function(a){return new(a||i)(On(Ls))},i.\u0275prov=xt({token:i,factory:i.\u0275fac}),i})(),DR=(()=>{class i{constructor(){this._applications=new Map,wD.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return wD.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=xt({token:i,factory:i.\u0275fac}),i})();class SR{addToWindow(s){}findTestabilityInTree(s,a,l){return null}}function Yw(i){wD=i}let wD=new SR,AR=!0,CD=!1;function Qw(){return CD=!0,AR}function oM(){if(CD)throw new Error("Cannot enable prod mode after platform setup.");AR=!1}let Ya;const Nr=new on("AllowMultipleToken");class sa{constructor(s,a){this.name=s,this.token=a}}function gv(i,s,a=[]){const l=`Platform: ${s}`,c=new on(l);return(f=[])=>{let y=TD();if(!y||y.injector.get(Nr,!1))if(i)i(a.concat(f).concat({provide:c,useValue:!0}));else{const v=a.concat(f).concat({provide:c,useValue:!0},{provide:yf,useValue:"platform"});!function(i){if(Ya&&!Ya.destroyed&&!Ya.injector.get(Nr,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ya=i.get(Jw);const s=i.get(mD,null);s&&s.forEach(a=>a())}(fn.create({providers:v,name:l}))}return function(i){const s=TD();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(c)}}function TD(){return Ya&&!Ya.destroyed?Ya:null}let Jw=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const v=function(i,s){let a;return a="noop"===i?new fv:("zone.js"===i?void 0:i)||new Ls({enableLongStackTrace:Qw(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),w=[{provide:Ls,useValue:v}];return v.run(()=>{const T=fn.create({providers:w,parent:this.injector,name:a.moduleType.name}),A=a.create(T),M=A.injector.get(Go,null);if(!M)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const P=v.onError.subscribe({next:H=>{M.handleError(H)}});A.onDestroy(()=>{ui(this._modules,A),P.unsubscribe()})}),function(i,s,a){try{const l=a();return p_(l)?l.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(M,v,()=>{const P=A.injector.get(Ep);return P.runInitializers(),P.donePromise.then(()=>(x_(A.injector.get(wp,hc)||hc),this._moduleDoBootstrap(A),A))})})}bootstrapModule(a,l=[]){const c=DD({},l);return function(i,s,a){const l=new wm(a);return Promise.resolve(l)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,c))}_moduleDoBootstrap(a){const l=a.injector.get(Pm);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!a.instance.ngDoBootstrap)throw new Error(`The module ${Q(a.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(On(fn))},i.\u0275prov=xt({token:i,factory:i.\u0275fac}),i})();function DD(i,s){return Array.isArray(s)?s.reduce(DD,i):Object.assign(Object.assign({},i),s)}let Pm=(()=>{class i{constructor(a,l,c,f,y){this._zone=a,this._injector=l,this._exceptionHandler=c,this._componentFactoryResolver=f,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new k.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),w=new k.y(T=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{Ls.assertNotInAngularZone(),Hd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Ls.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{A.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ce.T)(v,w.pipe(i=>(0,ue.x)()(function(i,s){return function(l){let c;c="function"==typeof i?i:function(){return i};const f=Object.create(l,ne.N);return f.source=l,f.subjectFactory=c,f}}(te)(i))))}bootstrap(a,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let c;c=a instanceof HI?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(c.componentType);const f=function(i){return i.isBoundToModule}(c)?void 0:this._injector.get(Od),v=c.create(fn.NULL,[],l||c.selector,f),w=v.location.nativeElement,T=v.injector.get(bD,null),A=T&&v.injector.get(DR);return T&&A&&A.registerApplication(w,T),v.onDestroy(()=>{this.detachView(v.hostView),ui(this.components,v),A&&A.unregisterApplication(w)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;ui(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(qw,[]).concat(this._bootstrapListeners).forEach(c=>c(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(On(Ls),On(fn),On(Go),On(ep),On(Ep))},i.\u0275prov=xt({token:i,factory:i.\u0275fac}),i})();function ui(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}class MR{}class kR{}const FR={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let LR=(()=>{class i{constructor(a,l){this._compiler=a,this._config=l||FR}load(a){return this.loadAndCompile(a)}loadAndCompile(a){let[l,c]=a.split("#");return void 0===c&&(c="default"),L(8255)(l).then(f=>f[c]).then(f=>Tp(f,l,c)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(a){let[l,c]=a.split("#"),f="NgFactory";return void 0===c&&(c="default",f=""),L(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(y=>y[c+f]).then(y=>Tp(y,l,c))}}return i.\u0275fac=function(a){return new(a||i)(On(Mm),On(kR,8))},i.\u0275prov=xt({token:i,factory:i.\u0275fac}),i})();function Tp(i,s,a){if(!i)throw new Error(`Cannot find '${a}' in '${s}'`);return i}const l0=function(i){return null},BR=gv(null,"core",[{provide:ov,useValue:"unknown"},{provide:Jw,deps:[fn]},{provide:DR,deps:[]},{provide:bp,deps:[]}]),zR=[{provide:Pm,useClass:Pm,deps:[Ls,fn,Go,ep,Ep]},{provide:Mx,deps:[Ls],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:Ep,useClass:Ep,deps:[[new As,Gw]]},{provide:Mm,useClass:Mm,deps:[]},rM,{provide:ip,useFactory:function(){return Wb},deps:[]},{provide:H_,useFactory:function(){return $_},deps:[]},{provide:wp,useFactory:function(i){return x_(i=i||"undefined"!=typeof $localize&&$localize.locale||hc),i},deps:[[new ju(wp),new As,new Bo]]},{provide:yD,useValue:"USD"}];let WR=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(On(Pm))},i.\u0275mod=ha({type:i}),i.\u0275inj=Mr({providers:zR}),i})()},8939:(Xe,be,L)=>{"use strict";L.d(be,{hO:()=>Q,xv:()=>te,Dh:()=>ue,GT:()=>ie,cc:()=>le,on:()=>F,pX:()=>ne});var d=L(3018),ee=L(7841),k=L(4765);Xe=L.hmd(Xe);const ce=["ngOnDestroy"],ne=(_e,ye,fe,xe={})=>new Proxy(_e,{get:(ze,ke)=>fe.runOutsideAngular(()=>{var Pt;if(_e[ke])return(null===(Pt=null==xe?void 0:xe.spy)||void 0===Pt?void 0:Pt.get)&&xe.spy.get(ke,_e[ke]),_e[ke];if(ce.indexOf(ke)>-1)return()=>{};const _t=ye.toPromise().then(wn=>{const Et=wn&&wn[ke];return"function"==typeof Et?Et.bind(wn):Et&&Et.then?Et.then(It=>fe.run(()=>It)):fe.run(()=>Et)});return new Proxy(()=>{},{get:(wn,Et)=>_t[Et],apply:(wn,Et,It)=>_t.then(mt=>{var ht;const Ft=mt&&mt(...It);return(null===(ht=null==xe?void 0:xe.spy)||void 0===ht?void 0:ht.apply)&&xe.spy.apply(ke,It,Ft),Ft})})})}),ie=(_e,ye)=>{ye.forEach(fe=>{Object.getOwnPropertyNames(fe.prototype||fe).forEach(xe=>{Object.defineProperty(_e.prototype,xe,Object.getOwnPropertyDescriptor(fe.prototype||fe,xe))})})};class ge{constructor(ye){return ye}}const ue=new d.OlP("angularfire2.app.options"),te=new d.OlP("angularfire2.app.name");function F(_e,ye,fe){const ze="object"==typeof fe&&fe||{};ze.name=ze.name||"string"==typeof fe&&fe||"[DEFAULT]";const Pt=ee.Z.apps.filter(_t=>_t&&_t.name===ze.name)[0]||ye.runOutsideAngular(()=>ee.Z.initializeApp(_e,ze));try{JSON.stringify(_e)!==JSON.stringify(Pt.options)&&V("error",`${Pt.name} Firebase App already initialized with different options${Xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(_t){}return new ge(Pt)}const V=(_e,...ye)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[_e](...ye)},J={provide:ge,useFactory:F,deps:[ue,d.R0b,[new d.FiY,te]]};let Q=(()=>{class _e{constructor(fe){ee.Z.registerVersion("angularfire",k.q4.full,"core"),ee.Z.registerVersion("angularfire",k.q4.full,"app-compat"),ee.Z.registerVersion("angular",d.q4F.full,fe.toString())}static initializeApp(fe,xe){return{ngModule:_e,providers:[{provide:ue,useValue:fe},{provide:te,useValue:xe}]}}}return _e.\u0275fac=function(fe){return new(fe||_e)(d.LFG(d.Lbi))},_e.\u0275mod=d.oAB({type:_e}),_e.\u0275inj=d.cJS({providers:[J]}),_e})();function le(_e,ye,fe,xe,ze){const[,ke,Pt]=globalThis.\u0275AngularfireInstanceCache.find(_t=>_t[0]===_e)||[];if(ke)return function(_e,ye){try{return _e.toString()===ye.toString()}catch(fe){return _e===ye}}(ze,Pt)||(K("error",`${ye} was already initialized on the ${fe} Firebase App with different settings.${he?" You may need to reload as Firebase is not HMR aware.":""}`),K("warn",{is:ze,was:Pt})),ke;{const _t=xe();return globalThis.\u0275AngularfireInstanceCache.push([_e,_t,ze]),_t}}const he=!!Xe.hot,K=(_e,...ye)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[_e](...ye)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4765:(Xe,be,L)=>{"use strict";L.d(be,{q4:()=>Th,iC:()=>es,HU:()=>ki,vb:()=>Vu,JM:()=>Lu});var d=L(3018),ee=L(2329),k=L(8239),ce=L(8026),ne=L(3854),ie=L(3910),ge=L(5422),ue=L(6676);const te="@firebase/installations",F="0.5.4",J=`w:${F}`,Q="FIS_v2",ye=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function fe(C){return C instanceof ne.ZR&&C.code.includes("request-failed")}function xe({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function ze(C){return{token:C.token,requestStatus:2,expiresIn:mt(C.expiresIn),creationTime:Date.now()}}function ke(C,S){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,k.Z)(function*(C,S){const U=(yield S.json()).error;return ye.create("request-failed",{requestName:C,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function _t({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function wn(C,{refreshToken:S}){const N=_t(C);return N.append("Authorization",function(C){return`${Q} ${C}`}(S)),N}function Et(C){return It.apply(this,arguments)}function It(){return(It=(0,k.Z)(function*(C){const S=yield C();return S.status>=500&&S.status<600?C():S})).apply(this,arguments)}function mt(C){return Number(C.replace("s","000"))}function Ft(C,S){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,k.Z)(function*(C,{fid:S}){const N=xe(C),oe={method:"POST",headers:_t(C),body:JSON.stringify({fid:S,authVersion:Q,appId:C.appId,sdkVersion:J})},Ie=yield Et(()=>fetch(N,oe));if(Ie.ok){const je=yield Ie.json();return{fid:je.fid||S,registrationStatus:2,refreshToken:je.refreshToken,authToken:ze(je.authToken)}}throw yield ke("Create Installation",Ie)})).apply(this,arguments)}function ci(C){return new Promise(S=>{setTimeout(S,C)})}const po=/^[cdef][\w-]{21}$/;function Pn(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const N=function(C){return function(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return po.test(N)?N:""}catch(C){return""}}function hs(C){return`${C.appName}!${C.appId}`}const Hs=new Map;function fs(C,S){const N=hs(C);Qn(N,S),function(C,S){const N=(!Ht&&"BroadcastChannel"in self&&(Ht=new BroadcastChannel("[Firebase] FID Change"),Ht.onmessage=C=>{Qn(C.data.key,C.data.fid)}),Ht);N&&N.postMessage({key:C,fid:S}),0===Hs.size&&Ht&&(Ht.close(),Ht=null)}(N,S)}function Qn(C,S){const N=Hs.get(C);if(N)for(const U of N)U(S)}let Ht=null;const Te="firebase-installations-store";let lr=null;function kn(){return lr||(lr=(0,ue.openDb)("firebase-installations-database",1,C=>{switch(C.oldVersion){case 0:C.createObjectStore(Te)}})),lr}function Oi(C,S){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,k.Z)(function*(C,S){const N=hs(C),Y=(yield kn()).transaction(Te,"readwrite"),oe=Y.objectStore(Te),Ie=yield oe.get(N);return yield oe.put(S,N),yield Y.complete,(!Ie||Ie.fid!==S.fid)&&fs(C,S.fid),S})).apply(this,arguments)}function Zr(C){return go.apply(this,arguments)}function go(){return(go=(0,k.Z)(function*(C){const S=hs(C),U=(yield kn()).transaction(Te,"readwrite");yield U.objectStore(Te).delete(S),yield U.complete})).apply(this,arguments)}function nt(C,S){return De.apply(this,arguments)}function De(){return(De=(0,k.Z)(function*(C,S){const N=hs(C),Y=(yield kn()).transaction(Te,"readwrite"),oe=Y.objectStore(Te),Ie=yield oe.get(N),je=S(Ie);return void 0===je?yield oe.delete(N):yield oe.put(je,N),yield Y.complete,je&&(!Ie||Ie.fid!==je.fid)&&fs(C,je.fid),je})).apply(this,arguments)}function $t(C){return ln.apply(this,arguments)}function ln(){return(ln=(0,k.Z)(function*(C){let S;const N=yield nt(C,U=>{const Y=Cn(U),oe=Bt(C,Y);return S=oe.registrationPromise,oe.installationEntry});return""===N.fid?{installationEntry:yield S}:{installationEntry:N,registrationPromise:S}})).apply(this,arguments)}function Cn(C){return bt(C||{fid:Pn(),registrationStatus:0})}function Bt(C,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(ye.create("app-offline"))};const N={fid:S.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:N,registrationPromise:function(C,S){return qe.apply(this,arguments)}(C,N)}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Pr(C)}:{installationEntry:S}}function qe(){return(qe=(0,k.Z)(function*(C,S){try{return Oi(C,yield Ft(C,S))}catch(N){throw fe(N)&&409===N.customData.serverCode?yield Zr(C):yield Oi(C,{fid:S.fid,registrationStatus:0}),N}})).apply(this,arguments)}function Pr(C){return mo.apply(this,arguments)}function mo(){return(mo=(0,k.Z)(function*(C){let S=yield Qt(C);for(;1===S.registrationStatus;)yield ci(100),S=yield Qt(C);if(0===S.registrationStatus){const{installationEntry:N,registrationPromise:U}=yield $t(C);return U||N}return S})).apply(this,arguments)}function Qt(C){return nt(C,S=>{if(!S)throw ye.create("installation-not-found");return bt(S)})}function bt(C){return function(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function cu(C,S){return q.apply(this,arguments)}function q(){return(q=(0,k.Z)(function*({appConfig:C,platformLoggerProvider:S},N){const U=z(C,N),Y=wn(C,N),oe=S.getImmediate({optional:!0});oe&&Y.append("x-firebase-client",oe.getPlatformInfoString());const je={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:J}})},He=yield Et(()=>fetch(U,je));if(He.ok)return ze(yield He.json());throw yield ke("Generate Auth Token",He)})).apply(this,arguments)}function z(C,{fid:S}){return`${xe(C)}/${S}/authTokens:generate`}function G(C){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,k.Z)(function*(C,S=!1){let N;const U=yield nt(C.appConfig,oe=>{if(!mn(oe))throw ye.create("not-registered");const Ie=oe.authToken;if(!S&&kr(Ie))return oe;if(1===Ie.requestStatus)return N=se(C,S),oe;{if(!navigator.onLine)throw ye.create("app-offline");const je=dn(oe);return N=Jt(C,je),je}});return N?yield N:U.authToken})).apply(this,arguments)}function se(C,S){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,k.Z)(function*(C,S){let N=yield Ve(C.appConfig);for(;1===N.authToken.requestStatus;)yield ci(100),N=yield Ve(C.appConfig);const U=N.authToken;return 0===U.requestStatus?G(C,S):U})).apply(this,arguments)}function Ve(C){return nt(C,S=>{if(!mn(S))throw ye.create("not-registered");return function(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Jt(C,S){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,k.Z)(function*(C,S){try{const N=yield cu(C,S),U=Object.assign(Object.assign({},S),{authToken:N});return yield Oi(C.appConfig,U),N}catch(N){if(!fe(N)||401!==N.customData.serverCode&&404!==N.customData.serverCode){const U=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield Oi(C.appConfig,U)}else yield Zr(C.appConfig);throw N}})).apply(this,arguments)}function mn(C){return void 0!==C&&2===C.registrationStatus}function kr(C){return 2===C.requestStatus&&!function(C){const S=Date.now();return S<C.creationTime||C.creationTime+C.expiresIn<S+36e5}(C)}function dn(C){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:S})}function yo(){return(yo=(0,k.Z)(function*(C){const S=C,{installationEntry:N,registrationPromise:U}=yield $t(S.appConfig);return U?U.catch(console.error):G(S).catch(console.error),N.fid})).apply(this,arguments)}function _o(){return(_o=(0,k.Z)(function*(C,S=!1){const N=C;return yield xc(N.appConfig),(yield G(N,S)).token})).apply(this,arguments)}function xc(C){return di.apply(this,arguments)}function di(){return(di=(0,k.Z)(function*(C){const{registrationPromise:S}=yield $t(C);S&&(yield S)})).apply(this,arguments)}function ur(C){return ye.create("missing-app-config-values",{valueName:C})}const Jd="installations";(0,ce._registerComponent)(new ie.wA(Jd,C=>{const S=C.getProvider("app").getImmediate();return{app:S,appConfig:function(C){if(!C||!C.options)throw ur("App Configuration");if(!C.name)throw ur("App Name");const S=["projectId","apiKey","appId"];for(const N of S)if(!C.options[N])throw ur(N);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(S),platformLoggerProvider:(0,ce._getProvider)(S,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ce._registerComponent)(new ie.wA("installations-internal",C=>{const S=C.getProvider("app").getImmediate(),N=(0,ce._getProvider)(S,Jd).getImmediate();return{getId:()=>function(C){return yo.apply(this,arguments)}(N),getToken:Y=>function(C){return _o.apply(this,arguments)}(N,Y)}},"PRIVATE")),(0,ce.registerVersion)(te,F),(0,ce.registerVersion)(te,F,"esm2017");const In="@firebase/remote-config",Fn=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ya{constructor(S,N,U,Y){this.client=S,this.storage=N,this.storageCache=U,this.logger=Y}isCachedDataFresh(S,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-N,Y=U<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${Y}.`),Y}fetch(S){var N=this;return(0,k.Z)(function*(){const[U,Y]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(Y&&N.isCachedDataFresh(S.cacheMaxAgeMillis,U))return Y;S.eTag=Y&&Y.eTag;const oe=yield N.client.fetch(S),Ie=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===oe.status&&Ie.push(N.storage.setLastSuccessfulFetchResponse(oe)),yield Promise.all(Ie),oe})()}}function Wi(C=navigator){return C.languages&&C.languages[0]||C.language}class Tn{constructor(S,N,U,Y,oe,Ie){this.firebaseInstallations=S,this.sdkVersion=N,this.namespace=U,this.projectId=Y,this.apiKey=oe,this.appId=Ie}fetch(S){var N=this;return(0,k.Z)(function*(){const[U,Y]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),Ie=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,je={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},He={sdk_version:N.sdkVersion,app_instance_id:U,app_instance_id_token:Y,app_id:N.appId,language_code:Wi()},jt={method:"POST",headers:je,body:JSON.stringify(He)},Zt=fetch(Ie,jt),rr=new Promise((Ds,Na)=>{S.signal.addEventListener(()=>{const Il=new Error("The operation was aborted.");Il.name="AbortError",Na(Il)})});let pr;try{yield Promise.race([Zt,rr]),pr=yield Zt}catch(Ds){let Na="fetch-client-network";throw"AbortError"===Ds.name&&(Na="fetch-timeout"),Fn.create(Na,{originalErrorMessage:Ds.message})}let ir=pr.status;const Ts=pr.headers.get("ETag")||void 0;let Fo,ts;if(200===pr.status){let Ds;try{Ds=yield pr.json()}catch(Na){throw Fn.create("fetch-client-parse",{originalErrorMessage:Na.message})}Fo=Ds.entries,ts=Ds.state}if("INSTANCE_STATE_UNSPECIFIED"===ts?ir=500:"NO_CHANGE"===ts?ir=304:("NO_TEMPLATE"===ts||"EMPTY_CONFIG"===ts)&&(Fo={}),304!==ir&&200!==ir)throw Fn.create("fetch-status",{httpStatus:ir});return{status:ir,eTag:Ts,config:Fo}})()}}class _a{constructor(S,N){this.client=S,this.storage=N}fetch(S){var N=this;return(0,k.Z)(function*(){const U=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(S,U)})()}attemptFetch(S,{throttleEndTimeMillis:N,backoffCount:U}){var Y=this;return(0,k.Z)(function*(){yield function(C,S){return new Promise((N,U)=>{const Y=Math.max(S-Date.now(),0),oe=setTimeout(N,Y);C.addEventListener(()=>{clearTimeout(oe),U(Fn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,N);try{const oe=yield Y.client.fetch(S);return yield Y.storage.deleteThrottleMetadata(),oe}catch(oe){if(!function(C){if(!(C instanceof ne.ZR&&C.customData))return!1;const S=Number(C.customData.httpStatus);return 429===S||500===S||503===S||504===S}(oe))throw oe;const Ie={throttleEndTimeMillis:Date.now()+(0,ne.$s)(U),backoffCount:U+1};return yield Y.storage.setThrottleMetadata(Ie),Y.attemptFetch(S,Ie)}})()}}class ey{constructor(S,N,U,Y,oe){this.app=S,this._client=N,this._storageCache=U,this._storage=Y,this._logger=oe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function va(C,S){const N=C.target.error||void 0;return Fn.create(S,{originalErrorMessage:N&&N.message})}const wo="app_namespace_store";class ty{constructor(S,N,U,Y=function(){return new Promise((C,S)=>{try{const N=indexedDB.open("firebase_remote_config",1);N.onerror=U=>{S(va(U,"storage-open"))},N.onsuccess=U=>{C(U.target.result)},N.onupgradeneeded=U=>{const Y=U.target.result;switch(U.oldVersion){case 0:Y.createObjectStore(wo,{keyPath:"compositeKey"})}}}catch(N){S(Fn.create("storage-open",{originalErrorMessage:N}))}})}()){this.appId=S,this.appName=N,this.namespace=U,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var N=this;return(0,k.Z)(function*(){const U=yield N.openDbPromise;return new Promise((Y,oe)=>{const je=U.transaction([wo],"readonly").objectStore(wo),He=N.createCompositeKey(S);try{const jt=je.get(He);jt.onerror=Zt=>{oe(va(Zt,"storage-get"))},jt.onsuccess=Zt=>{const rr=Zt.target.result;Y(rr?rr.value:void 0)}}catch(jt){oe(Fn.create("storage-get",{originalErrorMessage:jt&&jt.message}))}})})()}set(S,N){var U=this;return(0,k.Z)(function*(){const Y=yield U.openDbPromise;return new Promise((oe,Ie)=>{const He=Y.transaction([wo],"readwrite").objectStore(wo),jt=U.createCompositeKey(S);try{const Zt=He.put({compositeKey:jt,value:N});Zt.onerror=rr=>{Ie(va(rr,"storage-set"))},Zt.onsuccess=()=>{oe()}}catch(Zt){Ie(Fn.create("storage-set",{originalErrorMessage:Zt&&Zt.message}))}})})()}delete(S){var N=this;return(0,k.Z)(function*(){const U=yield N.openDbPromise;return new Promise((Y,oe)=>{const je=U.transaction([wo],"readwrite").objectStore(wo),He=N.createCompositeKey(S);try{const jt=je.delete(He);jt.onerror=Zt=>{oe(va(Zt,"storage-delete"))},jt.onsuccess=()=>{Y()}}catch(jt){oe(Fn.create("storage-delete",{originalErrorMessage:jt&&jt.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class rh{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,k.Z)(function*(){const N=S.storage.getLastFetchStatus(),U=S.storage.getLastSuccessfulFetchTimestampMillis(),Y=S.storage.getActiveConfig(),oe=yield N;oe&&(S.lastFetchStatus=oe);const Ie=yield U;Ie&&(S.lastSuccessfulFetchTimestampMillis=Ie);const je=yield Y;je&&(S.activeConfig=je)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function Nc(){return sh.apply(this,arguments)}function sh(){return(sh=(0,k.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(C){return!1}})).apply(this,arguments)}(0,ce._registerComponent)(new ie.wA("remote-config",function(S,{instanceIdentifier:N}){const U=S.getProvider("app").getImmediate(),Y=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Fn.create("registration-window");if(!(0,ne.hl)())throw Fn.create("indexed-db-unavailable");const{projectId:oe,apiKey:Ie,appId:je}=U.options;if(!oe)throw Fn.create("registration-project-id");if(!Ie)throw Fn.create("registration-api-key");if(!je)throw Fn.create("registration-app-id");const He=new ty(je,U.name,N=N||"firebase"),jt=new rh(He),Zt=new ge.Yd(In);Zt.logLevel=ge.in.ERROR;const rr=new Tn(Y,ce.SDK_VERSION,N,oe,Ie,je),pr=new _a(rr,He),ir=new ya(pr,He,jt,Zt),Ts=new ey(U,ir,jt,He,Zt);return function(C){const S=(0,ne.m9)(C);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Ts),Ts},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(In,"0.3.3"),(0,ce.registerVersion)(In,"0.3.3","esm2017");const oh="/firebase-messaging-sw.js",ry="/firebase-cloud-messaging-push-scope",rl="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",il="google.c.a.c_id",Ea="google.c.a.c_l",Ln="google.c.a.ts",Mc="google.c.a.e";var Dn=(()=>{return(C=Dn||(Dn={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Dn;var C})();function Zi(C){const S=new Uint8Array(C);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function hu(C){const N=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(N),Y=new Uint8Array(U.length);for(let oe=0;oe<U.length;++oe)Y[oe]=U.charCodeAt(oe);return Y}const sl="fcm_token_details_db",Bp="fcm_token_object_Store";function Pc(C){return ol.apply(this,arguments)}function ol(){return(ol=(0,k.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(oe=>oe.name).includes(sl))return null;let S=null;return(yield(0,ue.openDb)(sl,5,function(){var U=(0,k.Z)(function*(Y){var oe;if(Y.oldVersion<2||!Y.objectStoreNames.contains(Bp))return;const Ie=Y.transaction.objectStore(Bp),je=yield Ie.index("fcmSenderId").get(C);if(yield Ie.clear(),je)if(2===Y.oldVersion){const He=je;if(!He.auth||!He.p256dh||!He.endpoint)return;S={token:He.fcmToken,createTime:null!==(oe=He.createTime)&&void 0!==oe?oe:Date.now(),subscriptionOptions:{auth:He.auth,p256dh:He.p256dh,endpoint:He.endpoint,swScope:He.swScope,vapidKey:"string"==typeof He.vapidKey?He.vapidKey:Zi(He.vapidKey)}}}else if(3===Y.oldVersion){const He=je;S={token:He.fcmToken,createTime:He.createTime,subscriptionOptions:{auth:Zi(He.auth),p256dh:Zi(He.p256dh),endpoint:He.endpoint,swScope:He.swScope,vapidKey:Zi(He.vapidKey)}}}else if(4===Y.oldVersion){const He=je;S={token:He.fcmToken,createTime:He.createTime,subscriptionOptions:{auth:Zi(He.auth),p256dh:Zi(He.p256dh),endpoint:He.endpoint,swScope:He.swScope,vapidKey:Zi(He.vapidKey)}}}});return function(Y){return U.apply(this,arguments)}}())).close(),yield(0,ue.deleteDb)(sl),yield(0,ue.deleteDb)("fcm_vapid_details_db"),yield(0,ue.deleteDb)("undefined"),jp(S)?S:null})).apply(this,arguments)}function jp(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:S}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const Xn="firebase-messaging-store";let al=null;function Zs(){return al||(al=(0,ue.openDb)("firebase-messaging-database",1,C=>{switch(C.oldVersion){case 0:C.createObjectStore(Xn)}})),al}function ll(C){return ms.apply(this,arguments)}function ms(){return(ms=(0,k.Z)(function*(C){const S=ul(C),U=yield(yield Zs()).transaction(Xn).objectStore(Xn).get(S);if(U)return U;{const Y=yield Pc(C.appConfig.senderId);if(Y)return yield Yr(C,Y),Y}})).apply(this,arguments)}function Yr(C,S){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,k.Z)(function*(C,S){const N=ul(C),Y=(yield Zs()).transaction(Xn,"readwrite");return yield Y.objectStore(Xn).put(S,N),yield Y.complete,S})).apply(this,arguments)}function nn(C){return fu.apply(this,arguments)}function fu(){return(fu=(0,k.Z)(function*(C){const S=ul(C),U=(yield Zs()).transaction(Xn,"readwrite");yield U.objectStore(Xn).delete(S),yield U.complete})).apply(this,arguments)}function ul({appConfig:C}){return C.appId}const Rt=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function wa(C,S){return ch.apply(this,arguments)}function ch(){return(ch=(0,k.Z)(function*(C,S){const N=yield cr(C),U=Ca(S),Y={method:"POST",headers:N,body:JSON.stringify(U)};let oe;try{oe=yield(yield fetch(Gn(C.appConfig),Y)).json()}catch(Ie){throw Rt.create("token-subscribe-failed",{errorInfo:Ie})}if(oe.error)throw Rt.create("token-subscribe-failed",{errorInfo:oe.error.message});if(!oe.token)throw Rt.create("token-subscribe-no-token");return oe.token})).apply(this,arguments)}function Io(C,S){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,k.Z)(function*(C,S){const N=yield cr(C),U=Ca(S.subscriptionOptions),Y={method:"PATCH",headers:N,body:JSON.stringify(U)};let oe;try{oe=yield(yield fetch(`${Gn(C.appConfig)}/${S.token}`,Y)).json()}catch(Ie){throw Rt.create("token-update-failed",{errorInfo:Ie})}if(oe.error)throw Rt.create("token-update-failed",{errorInfo:oe.error.message});if(!oe.token)throw Rt.create("token-update-no-token");return oe.token})).apply(this,arguments)}function dh(C,S){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,k.Z)(function*(C,S){const U={method:"DELETE",headers:yield cr(C)};try{const oe=yield(yield fetch(`${Gn(C.appConfig)}/${S}`,U)).json();if(oe.error)throw Rt.create("token-unsubscribe-failed",{errorInfo:oe.error.message})}catch(Y){throw Rt.create("token-unsubscribe-failed",{errorInfo:Y})}})).apply(this,arguments)}function Gn({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function cr(C){return pu.apply(this,arguments)}function pu(){return(pu=(0,k.Z)(function*({appConfig:C,installations:S}){const N=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function Ca({p256dh:C,auth:S,endpoint:N,vapidKey:U}){const Y={web:{endpoint:N,auth:S,p256dh:C}};return U!==rl&&(Y.web.applicationPubKey=U),Y}const cl=6048e5;function ys(C){return dl.apply(this,arguments)}function dl(){return(dl=(0,k.Z)(function*(C){const S=yield mu(C.swRegistration,C.vapidKey),N={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:S.endpoint,auth:Zi(S.getKey("auth")),p256dh:Zi(S.getKey("p256dh"))},U=yield ll(C.firebaseDependencies);if(U){if(kc(U.subscriptionOptions,N))return Date.now()>=U.createTime+cl?hh(C,{token:U.token,createTime:Date.now(),subscriptionOptions:N}):U.token;try{yield dh(C.firebaseDependencies,U.token)}catch(Y){console.warn(Y)}return Ks(C.firebaseDependencies,N)}return Ks(C.firebaseDependencies,N)})).apply(this,arguments)}function gu(C){return lt.apply(this,arguments)}function lt(){return(lt=(0,k.Z)(function*(C){const S=yield ll(C.firebaseDependencies);S&&(yield dh(C.firebaseDependencies,S.token),yield nn(C.firebaseDependencies));const N=yield C.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()})).apply(this,arguments)}function hh(C,S){return _s.apply(this,arguments)}function _s(){return(_s=(0,k.Z)(function*(C,S){try{const N=yield Io(C.firebaseDependencies,S),U=Object.assign(Object.assign({},S),{token:N,createTime:Date.now()});return yield Yr(C.firebaseDependencies,U),N}catch(N){throw yield gu(C),N}})).apply(this,arguments)}function Ks(C,S){return To.apply(this,arguments)}function To(){return(To=(0,k.Z)(function*(C,S){const U={token:yield wa(C,S),createTime:Date.now(),subscriptionOptions:S};return yield Yr(C,U),U.token})).apply(this,arguments)}function mu(C,S){return vs.apply(this,arguments)}function vs(){return(vs=(0,k.Z)(function*(C,S){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:hu(S)})})).apply(this,arguments)}function kc(C,S){return S.vapidKey===C.vapidKey&&S.endpoint===C.endpoint&&S.auth===C.auth&&S.p256dh===C.p256dh}function Ce(C){const S={from:C.from,collapseKey:C.collapse_key,messageId:C.fcm_message_id};return function(C,S){if(!S.notification)return;C.notification={};const N=S.notification.title;N&&(C.notification.title=N);const U=S.notification.body;U&&(C.notification.body=U);const Y=S.notification.image;Y&&(C.notification.image=Y)}(S,C),function(C,S){!S.data||(C.data=S.data)}(S,C),function(C,S){if(!S.fcmOptions)return;C.fcmOptions={};const N=S.fcmOptions.link;N&&(C.fcmOptions.link=N);const U=S.fcmOptions.analytics_label;U&&(C.fcmOptions.analyticsLabel=U)}(S,C),S}function yu(C){return"object"==typeof C&&!!C&&il in C}function Do(C,S){const N=[];for(let U=0;U<C.length;U++)N.push(C.charAt(U)),U<S.length&&N.push(S.charAt(U));return N.join("")}function fl(C){return Rt.create("missing-app-config-values",{valueName:C})}Do("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Do("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ys{constructor(S,N,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function(C){if(!C||!C.options)throw fl("App Configuration Object");if(!C.name)throw fl("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:N}=C;for(const U of S)if(!N[U])throw fl(U);return{appName:C.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:Y,installations:N,analyticsProvider:U}}_delete(){return Promise.resolve()}}function fh(C){return _u.apply(this,arguments)}function _u(){return(_u=(0,k.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(oh,{scope:ry}),C.swRegistration.update().catch(()=>{})}catch(S){throw Rt.create("failed-service-worker-registration",{browserErrorMessage:S.message})}})).apply(this,arguments)}function Qi(C,S){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,k.Z)(function*(C,S){if(!S&&!C.swRegistration&&(yield fh(C)),S||!C.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Rt.create("invalid-sw-registration");C.swRegistration=S}})).apply(this,arguments)}function er(C,S){return mi.apply(this,arguments)}function mi(){return(mi=(0,k.Z)(function*(C,S){S?C.vapidKey=S:C.vapidKey||(C.vapidKey=rl)})).apply(this,arguments)}function Qs(){return(Qs=(0,k.Z)(function*(C,S){if(!navigator)throw Rt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Rt.create("permission-blocked");return yield er(C,null==S?void 0:S.vapidKey),yield Qi(C,null==S?void 0:S.serviceWorkerRegistration),ys(C)})).apply(this,arguments)}function Mi(C,S,N){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,k.Z)(function*(C,S,N){const U=vu(S);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:N[il],message_name:N[Ea],message_time:N[Ln],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function vu(C){switch(C){case Dn.NOTIFICATION_CLICKED:return"notification_open";case Dn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ta(){return(Ta=(0,k.Z)(function*(C,S){const N=S.data;if(!N.isFirebaseMessaging)return;C.onMessageHandler&&N.messageType===Dn.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Ce(N)):C.onMessageHandler.next(Ce(N)));const U=N.data;yu(U)&&"1"===U[Mc]&&(yield Mi(C,N.messageType,U))})).apply(this,arguments)}const bu="@firebase/messaging";function gh(){return Es.apply(this,arguments)}function Es(){return(Es=(0,k.Z)(function*(){return"undefined"!=typeof window&&(0,ne.hl)()&&(yield(0,ne.eu)())&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ce._registerComponent)(new ie.wA("messaging",C=>{const S=new Ys(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function(C,S){return Ta.apply(this,arguments)}(S,N)),S},"PUBLIC")),(0,ce._registerComponent)(new ie.wA("messaging-internal",C=>{const S=C.getProvider("messaging").getImmediate();return{getToken:U=>function(C,S){return Qs.apply(this,arguments)}(S,U)}},"PRIVATE")),(0,ce.registerVersion)(bu,"0.9.4"),(0,ce.registerVersion)(bu,"0.9.4","esm2017");const Qr="analytics",yn="firebase_id",gl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_h="https://www.googletagmanager.com/gtag/js",Vn=new ge.Yd("@firebase/analytics");function vh(C){return Promise.all(C.map(S=>S.catch(N=>N)))}function Tu(C,S){const N=document.createElement("script");N.src=`${_h}?l=${C}&id=${S}`,N.async=!0,document.head.appendChild(N)}function yl(C,S,N,U,Y,oe){return Du.apply(this,arguments)}function Du(){return(Du=(0,k.Z)(function*(C,S,N,U,Y,oe){const Ie=U[Y];try{if(Ie)yield S[Ie];else{const He=(yield vh(N)).find(jt=>jt.measurementId===Y);He&&(yield S[He.appId])}}catch(je){Vn.error(je)}C("config",Y,oe)})).apply(this,arguments)}function So(C,S,N,U,Y){return Su.apply(this,arguments)}function Su(){return(Su=(0,k.Z)(function*(C,S,N,U,Y){try{let oe=[];if(Y&&Y.send_to){let Ie=Y.send_to;Array.isArray(Ie)||(Ie=[Ie]);const je=yield vh(N);for(const He of Ie){const jt=je.find(rr=>rr.measurementId===He),Zt=jt&&S[jt.appId];if(!Zt){oe=[];break}oe.push(Zt)}}0===oe.length&&(oe=Object.values(S)),yield Promise.all(oe),C("event",U,Y||{})}catch(oe){Vn.error(oe)}})).apply(this,arguments)}function sy(){const C=window.document.getElementsByTagName("script");for(const S of Object.values(C))if(S.src&&S.src.includes(_h))return S;return null}const dr=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ay=new class{constructor(S={},N=1e3){this.throttleMetadata=S,this.intervalMillis=N}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,N){this.throttleMetadata[S]=N}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Fv(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function _l(C){return Au.apply(this,arguments)}function Au(){return(Au=(0,k.Z)(function*(C){var S;const{appId:N,apiKey:U}=C,Y={method:"GET",headers:Fv(U)},oe=gl.replace("{app-id}",N),Ie=yield fetch(oe,Y);if(200!==Ie.status&&304!==Ie.status){let je="";try{const He=yield Ie.json();(null===(S=He.error)||void 0===S?void 0:S.message)&&(je=He.error.message)}catch(He){}throw dr.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:je})}return Ie.json()})).apply(this,arguments)}function xu(C){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,k.Z)(function*(C,S=ay,N){const{appId:U,apiKey:Y,measurementId:oe}=C.options;if(!U)throw dr.create("no-app-id");if(!Y){if(oe)return{measurementId:oe,appId:U};throw dr.create("no-api-key")}const Ie=S.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},je=new El;return setTimeout((0,k.Z)(function*(){je.abort()}),void 0!==N?N:6e4),Ru({appId:U,apiKey:Y,measurementId:oe},Ie,je,S)})).apply(this,arguments)}function Ru(C,S,N){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,k.Z)(function*(C,{throttleEndTimeMillis:S,backoffCount:N},U,Y=ay){const{appId:oe,measurementId:Ie}=C;try{yield vl(U,S)}catch(je){if(Ie)return Vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ie} provided in the "measurementId" field in the local Firebase config. [${je.message}]`),{appId:oe,measurementId:Ie};throw je}try{const je=yield _l(C);return Y.deleteThrottleMetadata(oe),je}catch(je){if(!Wp(je)){if(Y.deleteThrottleMetadata(oe),Ie)return Vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ie} provided in the "measurementId" field in the local Firebase config. [${je.message}]`),{appId:oe,measurementId:Ie};throw je}const He=503===Number(je.customData.httpStatus)?(0,ne.$s)(N,Y.intervalMillis,30):(0,ne.$s)(N,Y.intervalMillis),jt={throttleEndTimeMillis:Date.now()+He,backoffCount:N+1};return Y.setThrottleMetadata(oe,jt),Vn.debug(`Calling attemptFetch again in ${He} millis`),Ru(C,jt,U,Y)}})).apply(this,arguments)}function vl(C,S){return new Promise((N,U)=>{const Y=Math.max(S-Date.now(),0),oe=setTimeout(N,Y);C.addEventListener(()=>{clearTimeout(oe),U(dr.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function Wp(C){if(!(C instanceof ne.ZR&&C.customData))return!1;const S=Number(C.customData.httpStatus);return 429===S||500===S||503===S||504===S}class El{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function Nu(){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,k.Z)(function*(){if(!(0,ne.hl)())return Vn.warn(dr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(C){return Vn.warn(dr.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function Aa(){return(Aa=(0,k.Z)(function*(C,S,N,U,Y,oe,Ie){var je;const He=xu(C);He.then(ir=>{N[ir.measurementId]=ir.appId,C.options.measurementId&&ir.measurementId!==C.options.measurementId&&Vn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${ir.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ir=>Vn.error(ir)),S.push(He);const jt=Nu().then(ir=>{if(ir)return U.getId()}),[Zt,rr]=yield Promise.all([He,jt]);sy()||Tu(oe,Zt.measurementId),Y("js",new Date);const pr=null!==(je=null==Ie?void 0:Ie.config)&&void 0!==je?je:{};return pr.origin="firebase",pr.update=!0,null!=rr&&(pr[yn]=rr),Y("config",Zt.measurementId,pr),Zt.measurementId})).apply(this,arguments)}class Mu{constructor(S){this.app=S}_delete(){return delete Wt[this.app.options.appId],Promise.resolve()}}let Wt={},ot=[];const hr={};let bl,nr,xa="dataLayer",Jr=!1;function Eh(C,S,N){!function(){const C=[];if((0,ne.ru)()&&C.push("This is a browser extension environment."),(0,ne.zI)()||C.push("Cookies are not available."),C.length>0){const S=C.map((U,Y)=>`(${Y+1}) ${U}`).join(" "),N=dr.create("invalid-analytics-context",{errorInfo:S});Vn.warn(N.message)}}();const U=C.options.appId;if(!U)throw dr.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw dr.create("no-api-key");Vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Wt[U])throw dr.create("already-exists",{id:U});if(!Jr){!function(C){let S=[];Array.isArray(window[C])?S=window[C]:window[C]=S}(xa);const{wrappedGtag:oe,gtagCore:Ie}=function(C,S,N,U,Y){let oe=function(...Ie){window[U].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(oe=window[Y]),window[Y]=function(C,S,N,U){function oe(){return(oe=(0,k.Z)(function*(Ie,je,He){try{"event"===Ie?yield So(C,S,N,je,He):"config"===Ie?yield yl(C,S,N,U,je,He):C("set",je)}catch(jt){Vn.error(jt)}})).apply(this,arguments)}return function(Ie,je,He){return oe.apply(this,arguments)}}(oe,C,S,N),{gtagCore:oe,wrappedGtag:window[Y]}}(Wt,ot,hr,xa,"gtag");nr=oe,bl=Ie,Jr=!0}return Wt[U]=function(C,S,N,U,Y,oe,Ie){return Aa.apply(this,arguments)}(C,ot,hr,S,bl,xa,N),new Mu(C)}function Lc(){return(Lc=(0,k.Z)(function*(C,S,N,U,Y){if(Y&&Y.global)C("event",N,U);else{const oe=yield S;C("event",N,Object.assign(Object.assign({},U),{send_to:oe}))}})).apply(this,arguments)}function fr(){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,k.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(C){return!1}})).apply(this,arguments)}const Ch="@firebase/analytics";(0,ce._registerComponent)(new ie.wA(Qr,(S,{options:N})=>Eh(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),N),"PUBLIC")),(0,ce._registerComponent)(new ie.wA("analytics-internal",function(S){try{const N=S.getProvider(Qr).getImmediate();return{logEvent:(U,Y,oe)=>function(C,S,N,U){C=(0,ne.m9)(C),function(C,S,N,U,Y){return Lc.apply(this,arguments)}(nr,Wt[C.app.options.appId],S,N,U).catch(Y=>Vn.error(Y))}(N,U,Y,oe)}}catch(N){throw dr.create("interop-component-reg-failed",{reason:N})}},"PRIVATE")),(0,ce.registerVersion)(Ch,"0.7.4"),(0,ce.registerVersion)(Ch,"0.7.4","esm2017");var Ih=L(7771),on=L(3637),Qp=L(3342),wl=L(3101),ku=L(309);const Th=new d.GfV("7.2.0"),yi="__angularfire_symbol__analyticsIsSupported",Sh="__angularfire_symbol__remoteConfigIsSupported",Cl="__angularfire_symbol__messagingIsSupported";function Lu(C,S,N){if(S){if(1===S.length)return S[0];const oe=S.filter(Ie=>Ie.app===N);if(1===oe.length)return oe[0]}return N.container.getProvider(C).getImmediate({optional:!0})}globalThis[yi]||(globalThis[yi]=fr().then(C=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=C)),globalThis[Cl]||(globalThis[Cl]=gh().then(C=>globalThis.__angularfire_symbol__messagingIsSupportedValue=C)),globalThis[Sh]||(globalThis[Sh]=Nc().then(C=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=C));const Vu=(C,S)=>{const N=S?[S]:(0,ee.C6)(),U=[];return N.forEach(Y=>{Y.container.getProvider(C).instances.forEach(Ie=>{U.includes(Ie)||U.push(Ie)})}),U};function Oa(){}class xh{constructor(S,N=Ih.N){this.zone=S,this.delegate=N}now(){return this.delegate.now()}schedule(S,N,U){const Y=this.zone;return this.delegate.schedule(function(Ie){Y.runGuarded(()=>{S.apply(this,[Ie])})},N,U)}}class _i{constructor(S){this.zone=S,this.task=null}call(S,N){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Oa,{},Oa,Oa)),N.pipe((0,Qp.b)({next:U,complete:U,error:U})).subscribe(S).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ki=(()=>{class C{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new xh(Zone.current)),this.insideAngular=N.run(()=>new xh(Zone.current,on.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(N){return new(N||C)(d.LFG(d.R0b))},C.\u0275prov=d.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Fi(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function es(C){return Fi(),function(C){return function(N){return(N=N.lift(new _i(C.ngZone))).pipe((0,wl.R)(C.outsideAngular),(0,ku.QV)(C.insideAngular))}}(Fi())(C)}},3854:(Xe,be,L)=>{"use strict";L.d(be,{BH:()=>Q,LL:()=>Ke,ZR:()=>Ft,zI:()=>It,US:()=>ie,tV:()=>te,$s:()=>Qt,r3:()=>gn,Sg:()=>le,ne:()=>lr,vZ:()=>Ht,ZB:()=>V,pd:()=>Ir,m9:()=>cu,z$:()=>we,jU:()=>_e,ru:()=>ye,d:()=>xe,xb:()=>Qn,w1:()=>ze,hl:()=>wn,uI:()=>he,UG:()=>K,b$:()=>fe,G6:()=>_t,Mn:()=>ke,xO:()=>tl,zd:()=>Mr,eu:()=>Et});const ce=function(q){const z=[];let G=0;for(let Ee=0;Ee<q.length;Ee++){let se=q.charCodeAt(Ee);se<128?z[G++]=se:se<2048?(z[G++]=se>>6|192,z[G++]=63&se|128):55296==(64512&se)&&Ee+1<q.length&&56320==(64512&q.charCodeAt(Ee+1))?(se=65536+((1023&se)<<10)+(1023&q.charCodeAt(++Ee)),z[G++]=se>>18|240,z[G++]=se>>12&63|128,z[G++]=se>>6&63|128,z[G++]=63&se|128):(z[G++]=se>>12|224,z[G++]=se>>6&63|128,z[G++]=63&se|128)}return z},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,z){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let se=0;se<q.length;se+=3){const Ue=q[se],Ve=se+1<q.length,Jt=Ve?q[se+1]:0,Hn=se+2<q.length,mn=Hn?q[se+2]:0;let dn=(15&Jt)<<2|mn>>6,zi=63&mn;Hn||(zi=64,Ve||(dn=64)),Ee.push(G[Ue>>2],G[(3&Ue)<<4|Jt>>4],G[dn],G[zi])}return Ee.join("")},encodeString(q,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(q):this.encodeByteArray(ce(q),z)},decodeString(q,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(q):function(q){const z=[];let G=0,Ee=0;for(;G<q.length;){const se=q[G++];if(se<128)z[Ee++]=String.fromCharCode(se);else if(se>191&&se<224){const Ue=q[G++];z[Ee++]=String.fromCharCode((31&se)<<6|63&Ue)}else if(se>239&&se<365){const Hn=((7&se)<<18|(63&q[G++])<<12|(63&q[G++])<<6|63&q[G++])-65536;z[Ee++]=String.fromCharCode(55296+(Hn>>10)),z[Ee++]=String.fromCharCode(56320+(1023&Hn))}else{const Ue=q[G++],Ve=q[G++];z[Ee++]=String.fromCharCode((15&se)<<12|(63&Ue)<<6|63&Ve)}}return z.join("")}(this.decodeStringToByteArray(q,z))},decodeStringToByteArray(q,z){this.init_();const G=z?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let se=0;se<q.length;){const Ue=G[q.charAt(se++)],Jt=se<q.length?G[q.charAt(se)]:0;++se;const mn=se<q.length?G[q.charAt(se)]:64;++se;const Lt=se<q.length?G[q.charAt(se)]:64;if(++se,null==Ue||null==Jt||null==mn||null==Lt)throw Error();Ee.push(Ue<<2|Jt>>4),64!==mn&&(Ee.push(Jt<<4&240|mn>>2),64!==Lt&&Ee.push(mn<<6&192|Lt))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},ue=function(q){return function(q){const z=ce(q);return ie.encodeByteArray(z,!0)}(q).replace(/\./g,"")},te=function(q){try{return ie.decodeString(q,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function V(q,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return z}for(const G in z)!z.hasOwnProperty(G)||!J(G)||(q[G]=V(q[G],z[G]));return q}function J(q){return"__proto__"!==q}class Q{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,G)=>{this.resolve=z,this.reject=G})}wrapCallback(z){return(G,Ee)=>{G?this.reject(G):this.resolve(Ee),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(G):z(G,Ee))}}}function le(q,z){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=z||"demo-project",se=q.iat||0,Ue=q.sub||q.user_id;if(!Ue)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ve=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:se,exp:se+3600,auth_time:se,sub:Ue,user_id:Ue,firebase:{sign_in_provider:"custom",identities:{}}},q);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(Ve)),""].join(".")}function we(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function he(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(we())}function K(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(q){return!1}}function _e(){return"object"==typeof self&&self.self===self}function ye(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function fe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function xe(){return we().indexOf("Electron/")>=0}function ze(){const q=we();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function ke(){return we().indexOf("MSAppHost/")>=0}function _t(){return!K()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wn(){return"object"==typeof indexedDB}function Et(){return new Promise((q,z)=>{try{let G=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(Ee);se.onsuccess=()=>{se.result.close(),G||self.indexedDB.deleteDatabase(Ee),q(!0)},se.onupgradeneeded=()=>{G=!1},se.onerror=()=>{var Ue;z((null===(Ue=se.error)||void 0===Ue?void 0:Ue.message)||"")}}catch(G){z(G)}})}function It(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ft extends Error{constructor(z,G,Ee){super(G),this.code=z,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,Ft.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ke.prototype.create)}}class Ke{constructor(z,G,Ee){this.service=z,this.serviceName=G,this.errors=Ee}create(z,...G){const Ee=G[0]||{},se=`${this.service}/${z}`,Ue=this.errors[z],Ve=Ue?function(q,z){return q.replace(Bs,(G,Ee)=>{const se=z[Ee];return null!=se?String(se):`<${Ee}?>`})}(Ue,Ee):"Error";return new Ft(se,`${this.serviceName}: ${Ve} (${se}).`,Ee)}}const Bs=/\{\$([^}]+)}/g;function gn(q,z){return Object.prototype.hasOwnProperty.call(q,z)}function Qn(q){for(const z in q)if(Object.prototype.hasOwnProperty.call(q,z))return!1;return!0}function Ht(q,z){if(q===z)return!0;const G=Object.keys(q),Ee=Object.keys(z);for(const se of G){if(!Ee.includes(se))return!1;const Ue=q[se],Ve=z[se];if(xt(Ue)&&xt(Ve)){if(!Ht(Ue,Ve))return!1}else if(Ue!==Ve)return!1}for(const se of Ee)if(!G.includes(se))return!1;return!0}function xt(q){return null!==q&&"object"==typeof q}function tl(q){const z=[];for(const[G,Ee]of Object.entries(q))Array.isArray(Ee)?Ee.forEach(se=>{z.push(encodeURIComponent(G)+"="+encodeURIComponent(se))}):z.push(encodeURIComponent(G)+"="+encodeURIComponent(Ee));return z.length?"&"+z.join("&"):""}function Mr(q){const z={};return q.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[se,Ue]=Ee.split("=");z[decodeURIComponent(se)]=decodeURIComponent(Ue)}}),z}function Ir(q){const z=q.indexOf("?");if(!z)return"";const G=q.indexOf("#",z);return q.substring(z,G>0?G:void 0)}function lr(q,z){const G=new kn(q,z);return G.subscribe.bind(G)}class kn{constructor(z,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{z(this)}).catch(Ee=>{this.error(Ee)})}next(z){this.forEachObserver(G=>{G.next(z)})}error(z){this.forEachObserver(G=>{G.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,G,Ee){let se;if(void 0===z&&void 0===G&&void 0===Ee)throw new Error("Missing Observer.");se=function(q,z){if("object"!=typeof q||null===q)return!1;for(const G of["next","error","complete"])if(G in q&&"function"==typeof q[G])return!0;return!1}(z)?z:{next:z,error:G,complete:Ee},void 0===se.next&&(se.next=Zr),void 0===se.error&&(se.error=Zr),void 0===se.complete&&(se.complete=Zr);const Ue=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch(Ve){}}),this.observers.push(se),Ue}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,z)}sendOne(z,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{G(this.observers[z])}catch(Ee){"undefined"!=typeof console&&console.error&&console.error(Ee)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zr(){}function Qt(q,z=1e3,G=2){const Ee=z*Math.pow(G,q),se=Math.round(.5*Ee*(Math.random()-.5)*2);return Math.min(144e5,Ee+se)}function cu(q){return q&&q._delegate?q._delegate:q}},2329:(Xe,be,L)=>{"use strict";L.d(be,{Mq:()=>d.getApp,C6:()=>d.getApps});var d=L(8026);(0,d.registerVersion)("firebase","9.5.0","app")},7841:(Xe,be,L)=>{"use strict";L.d(be,{Z:()=>d.Z});var d=L(3394);d.Z.registerVersion("firebase","9.5.0","app-compat")},941:(Xe,be,L)=>{"use strict";L.r(be);var d=L(8239),ee=L(3394),k=L(3854),ce=L(8026);function ue(_,p){var g={};for(var E in _)Object.prototype.hasOwnProperty.call(_,E)&&p.indexOf(E)<0&&(g[E]=_[E]);if(null!=_&&"function"==typeof Object.getOwnPropertySymbols){var D=0;for(E=Object.getOwnPropertySymbols(_);D<E.length;D++)p.indexOf(E[D])<0&&Object.prototype.propertyIsEnumerable.call(_,E[D])&&(g[E[D]]=_[E[D]])}return g}var Ft=L(5422),Ke=L(3910);const Hs=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},fs=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},gn=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qn=new Ft.Yd("@firebase/auth");function $s(_,...p){Qn.logLevel<=Ft.in.ERROR&&Qn.error(`Auth (${ce.SDK_VERSION}): ${_}`,...p)}function Ht(_,...p){throw Ir(_,...p)}function xt(_,...p){return Ir(_,...p)}function tl(_,p,g){const E=Object.assign(Object.assign({},fs()),{[p]:g});return new k.LL("auth","Firebase",E).create(p,{appName:_.name})}function Mr(_,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Ht(_,"argument-error"),tl(_,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ir(_,...p){if("string"!=typeof _){const g=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=_.name),_._errorFactory.create(g,...E)}return gn.create(_,...p)}function Te(_,p,...g){if(!_)throw Ir(p,...g)}function lr(_){const p="INTERNAL ASSERTION FAILED: "+_;throw $s(p),new Error(p)}function kn(_,p){_||lr(p)}const Oi=new Map;function Vt(_){kn(_ instanceof Function,"Expected a class definition");let p=Oi.get(_);return p?(kn(p instanceof _,"Instance stored in cache mismatched with class"),p):(p=new _,Oi.set(_,p),p)}function nt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function De(){return"http:"===$t()||"https:"===$t()}function $t(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Bt{constructor(p,g){this.shortDelay=p,this.longDelay=g,kn(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(De()||(0,k.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ye(_,p){kn(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class qe{static initialize(p,g,E){this.fetchImpl=p,g&&(this.headersImpl=g),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Pr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},mo=new Bt(3e4,6e4);function Qt(_,p){return _.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:_.tenantId}):p}function bt(_,p,g,E){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,d.Z)(function*(_,p,g,E,D={}){return cu(_,D,()=>{let R={},$={};E&&("GET"===p?$=E:R={body:JSON.stringify(E)});const re=(0,k.xO)(Object.assign({key:_.config.apiKey},$)).slice(1),Me=new(qe.headers());return Me.set("Content-Type","application/json"),Me.set("X-Client-Version",_._getSdkClientVersion()),_.languageCode&&Me.set("X-Firebase-Locale",_.languageCode),qe.fetch()(Ee(_,_.config.apiHost,g,re),Object.assign({method:p,headers:Me,referrerPolicy:"no-referrer"},R))})})).apply(this,arguments)}function cu(_,p,g){return q.apply(this,arguments)}function q(){return(q=(0,d.Z)(function*(_,p,g){_._canInitEmulator=!1;const E=Object.assign(Object.assign({},Pr),p);try{const D=new se(_),R=yield Promise.race([g(),D.promise]);D.clearNetworkTimeout();const $=yield R.json();if("needConfirmation"in $)throw Ue(_,"account-exists-with-different-credential",$);if(R.ok&&!("errorMessage"in $))return $;{const re=R.ok?$.errorMessage:$.error.message,[Me,Re]=re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Me)throw Ue(_,"credential-already-in-use",$);if("EMAIL_EXISTS"===Me)throw Ue(_,"email-already-in-use",$);const $e=E[Me]||Me.toLowerCase().replace(/[_\s]+/g,"-");if(Re)throw tl(_,$e,Re);Ht(_,$e)}}catch(D){if(D instanceof k.ZR)throw D;Ht(_,"network-request-failed")}})).apply(this,arguments)}function z(_,p,g,E){return G.apply(this,arguments)}function G(){return(G=(0,d.Z)(function*(_,p,g,E,D={}){const R=yield bt(_,p,g,E,D);return"mfaPendingCredential"in R&&Ht(_,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Ee(_,p,g,E){const D=`${p}${g}?${E}`;return _.config.emulator?Ye(_.config,D):`${_.config.apiScheme}://${D}`}class se{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,E)=>{this.timer=setTimeout(()=>E(xt(this.auth,"timeout")),mo.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ue(_,p,g){const E={appName:_.name};g.email&&(E.email=g.email),g.phoneNumber&&(E.phoneNumber=g.phoneNumber);const D=xt(_,p,E);return D.customData._tokenResponse=g,D}function Jt(){return(Jt=(0,d.Z)(function*(_,p){return bt(_,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Hn(_,p){return mn.apply(this,arguments)}function mn(){return(mn=(0,d.Z)(function*(_,p){return bt(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function kr(_,p){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,d.Z)(function*(_,p){return bt(_,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function dn(_){if(_)try{const p=new Date(Number(_));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function yo(){return(yo=(0,d.Z)(function*(_,p=!1){const g=(0,k.m9)(_),E=yield g.getIdToken(p),D=_o(E);Te(D&&D.exp&&D.auth_time&&D.iat,g.auth,"internal-error");const R="object"==typeof D.firebase?D.firebase:void 0,$=null==R?void 0:R.sign_in_provider;return{claims:D,token:E,authTime:dn(Ac(D.auth_time)),issuedAtTime:dn(Ac(D.iat)),expirationTime:dn(Ac(D.exp)),signInProvider:$||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function Ac(_){return 1e3*Number(_)}function _o(_){const[p,g,E]=_.split(".");if(void 0===p||void 0===g||void 0===E)return $s("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,k.tV)(g);return D?JSON.parse(D):($s("Failed to decode base64 JWT payload"),null)}catch(D){return $s("Caught error parsing JWT payload as JSON",D),null}}function di(_,p){return ha.apply(this,arguments)}function ha(){return(ha=(0,d.Z)(function*(_,p,g=!1){if(g)return p;try{return yield p}catch(E){throw E instanceof k.ZR&&vo(E)&&_.auth.currentUser===_&&(yield _.auth.signOut()),E}})).apply(this,arguments)}function vo({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class fa{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const D=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,d.Z)(function*(){yield g.iteration()}),E)}iteration(){var p=this;return(0,d.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class Qd{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=dn(this.lastLoginAt),this.creationTime=dn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Gs(_){return $n.apply(this,arguments)}function $n(){return($n=(0,d.Z)(function*(_){var p;const g=_.auth,E=yield _.getIdToken(),D=yield di(_,kr(g,{idToken:E}));Te(null==D?void 0:D.users.length,g,"internal-error");const R=D.users[0];_._notifyReloadListener(R);const $=(null===(p=R.providerUserInfo)||void 0===p?void 0:p.length)?Jd(R.providerUserInfo):[],re=ur(_.providerData,$),$e=!!_.isAnonymous&&!(_.email&&R.passwordHash||(null==re?void 0:re.length)),We={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:re,metadata:new Qd(R.createdAt,R.lastLoginAt),isAnonymous:$e};Object.assign(_,We)})).apply(this,arguments)}function ps(){return(ps=(0,d.Z)(function*(_){const p=(0,k.m9)(_);yield Gs(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function ur(_,p){return[..._.filter(E=>!p.some(D=>D.providerId===E.providerId)),...p]}function Jd(_){return _.map(p=>{var{providerId:g}=p,E=ue(p,["providerId"]);return{providerId:g,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Fe(){return(Fe=(0,d.Z)(function*(_,p){const g=yield cu(_,{},()=>{const E=(0,k.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:D,apiKey:R}=_.config,$=Ee(_,D,"/v1/token",`key=${R}`);return qe.fetch()($,{method:"POST",headers:{"X-Client-Version":_._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:E})});return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class ft{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Te(p.idToken,"internal-error"),Te(void 0!==p.idToken,"internal-error"),Te(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(_){const p=_o(_);return Te(p,"internal-error"),Te(void 0!==p.exp,"internal-error"),Te(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var E=this;return(0,d.Z)(function*(){return Te(!E.accessToken||E.refreshToken,p,"user-token-expired"),g||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var E=this;return(0,d.Z)(function*(){const{accessToken:D,refreshToken:R,expiresIn:$}=yield function(_,p){return Fe.apply(this,arguments)}(p,g);E.updateTokensAndExpiration(D,R,Number($))})()}updateTokensAndExpiration(p,g,E){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,g){const{refreshToken:E,accessToken:D,expirationTime:R}=g,$=new ft;return E&&(Te("string"==typeof E,"internal-error",{appName:p}),$.refreshToken=E),D&&(Te("string"==typeof D,"internal-error",{appName:p}),$.accessToken=D),R&&(Te("number"==typeof R,"internal-error",{appName:p}),$.expirationTime=R),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new ft,this.toJSON())}_performRefresh(){return lr("not implemented")}}function Gt(_,p){Te("string"==typeof _||void 0===_,"internal-error",{appName:p})}class In{constructor(p){var{uid:g,auth:E,stsTokenManager:D}=p,R=ue(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new fa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=E,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.metadata=new Qd(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,d.Z)(function*(){const E=yield di(g,g.stsTokenManager.getToken(g.auth,p));return Te(E,g.auth,"internal-error"),g.accessToken!==E&&(g.accessToken=E,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),E})()}getIdTokenResult(p){return function(_){return yo.apply(this,arguments)}(this,p)}reload(){return function(_){return ps.apply(this,arguments)}(this)}_assign(p){this!==p&&(Te(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new In(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var E=this;return(0,d.Z)(function*(){let D=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),D=!0),g&&(yield Gs(E)),yield E.auth._persistUserIfCurrent(E),D&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,d.Z)(function*(){const g=yield p.getIdToken();return yield di(p,function(_,p){return Jt.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var E,D,R,$,re,Me,Re,$e;const We=null!==(E=g.displayName)&&void 0!==E?E:void 0,Mt=null!==(D=g.email)&&void 0!==D?D:void 0,Un=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,Os=null!==($=g.photoURL)&&void 0!==$?$:void 0,id=null!==(re=g.tenantId)&&void 0!==re?re:void 0,Ny=null!==(Me=g._redirectEventId)&&void 0!==Me?Me:void 0,Ml=null!==(Re=g.createdAt)&&void 0!==Re?Re:void 0,tf=null!==($e=g.lastLoginAt)&&void 0!==$e?$e:void 0,{uid:nf,emailVerified:rf,isAnonymous:sf,providerData:cg,stsTokenManager:My}=g;Te(nf&&My,p,"internal-error");const dg=ft.fromJSON(this.name,My);Te("string"==typeof nf,p,"internal-error"),Gt(We,p.name),Gt(Mt,p.name),Te("boolean"==typeof rf,p,"internal-error"),Te("boolean"==typeof sf,p,"internal-error"),Gt(Un,p.name),Gt(Os,p.name),Gt(id,p.name),Gt(Ny,p.name),Gt(Ml,p.name),Gt(tf,p.name);const of=new In({uid:nf,auth:p,email:Mt,emailVerified:rf,displayName:We,isAnonymous:sf,photoURL:Os,phoneNumber:Un,tenantId:id,stsTokenManager:dg,createdAt:Ml,lastLoginAt:tf});return cg&&Array.isArray(cg)&&(of.providerData=cg.map(iE=>Object.assign({},iE))),Ny&&(of._redirectEventId=Ny),of}static _fromIdTokenResponse(p,g,E=!1){return(0,d.Z)(function*(){const D=new ft;D.updateFromServerResponse(g);const R=new In({uid:g.localId,auth:p,stsTokenManager:D,isAnonymous:E});return yield Gs(R),R})()}}const cn=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(g,E){var D=this;return(0,d.Z)(function*(){D.storage[g]=E})()}_get(g){var E=this;return(0,d.Z)(function*(){const D=E.storage[g];return void 0===D?null:D})()}_remove(g){var E=this;return(0,d.Z)(function*(){delete E.storage[g]})()}_addListener(g,E){}_removeListener(g,E){}}return _.type="NONE",_})();function Jn(_,p,g){return`firebase:${_}:${p}:${g}`}class en{constructor(p,g,E){this.persistence=p,this.auth=g,this.userKey=E;const{config:D,name:R}=this.auth;this.fullUserKey=Jn(this.userKey,D.apiKey,R),this.fullPersistenceKey=Jn("persistence",D.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?In._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,d.Z)(function*(){if(g.persistence===p)return;const E=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,E?g.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,E="authUser"){return(0,d.Z)(function*(){if(!g.length)return new en(Vt(cn),p,E);const D=(yield Promise.all(g.map(function(){var Re=(0,d.Z)(function*($e){if(yield $e._isAvailable())return $e});return function($e){return Re.apply(this,arguments)}}()))).filter(Re=>Re);let R=D[0]||Vt(cn);const $=Jn(E,p.config.apiKey,p.name);let re=null;for(const Re of g)try{const $e=yield Re._get($);if($e){const We=In._fromJSON(p,$e);Re!==R&&(re=We),R=Re;break}}catch($e){}const Me=D.filter(Re=>Re._shouldAllowMigration);return R._shouldAllowMigration&&Me.length?(R=Me[0],re&&(yield R._set($,re.toJSON())),yield Promise.all(g.map(function(){var Re=(0,d.Z)(function*($e){if($e!==R)try{yield $e._remove($)}catch(We){}});return function($e){return Re.apply(this,arguments)}}())),new en(R,p,E)):new en(R,p,E)})()}}function Fn(_){const p=_.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(qs(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(pa(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Kr(p))return"Blackberry";if(Dr(p))return"Webos";if(pt(p))return"Safari";if((p.includes("chrome/")||fi(p))&&!p.includes("edge/"))return"Chrome";if(bo(p))return"Android";{const E=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function pa(_=(0,k.z$)()){return/firefox\//i.test(_)}function pt(_=(0,k.z$)()){const p=_.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function fi(_=(0,k.z$)()){return/crios\//i.test(_)}function qs(_=(0,k.z$)()){return/iemobile/i.test(_)}function bo(_=(0,k.z$)()){return/android/i.test(_)}function Kr(_=(0,k.z$)()){return/blackberry/i.test(_)}function Dr(_=(0,k.z$)()){return/webos/i.test(_)}function qi(_=(0,k.z$)()){return/iphone|ipad|ipod/i.test(_)}function ga(_=(0,k.z$)()){return qi(_)||bo(_)||Dr(_)||Kr(_)||/windows phone/i.test(_)||qs(_)}function du(_,p=[]){let g;switch(_){case"Browser":g=Fn((0,k.z$)());break;case"Worker":g=`${Fn((0,k.z$)())}-${_}`;break;default:g=_}const E=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${ce.SDK_VERSION}/${E}`}class eh{constructor(p,g){this.app=p,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gs(this),this.idTokenSubscription=new gs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(p,g){var E=this;return g&&(this._popupRedirectResolver=Vt(g)),this._initializationPromise=this.queue((0,d.Z)(function*(){var D,R;E._deleted||(E.persistenceManager=yield en.create(E,p),!E._deleted&&((null===(D=E._popupRedirectResolver)||void 0===D?void 0:D._shouldInitProactively)&&(yield E._popupRedirectResolver._initialize(E)),yield E.initializeCurrentUser(g),E.lastNotifiedUid=(null===(R=E.currentUser)||void 0===R?void 0:R.uid)||null,!E._deleted&&(E._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,d.Z)(function*(){var E;let D=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const R=null===(E=g.redirectUser)||void 0===E?void 0:E._redirectEventId,$=null==D?void 0:D._redirectEventId,re=yield g.tryRedirectSignIn(p);(!R||R===$)&&(null==re?void 0:re.user)&&(D=re.user)}return D?D._redirectEventId?(Te(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===D._redirectEventId?g.directlySetCurrentUser(D):g.reloadAndSetCurrentUserOrClear(D)):g.reloadAndSetCurrentUserOrClear(D):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,d.Z)(function*(){let E=null;try{E=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(D){yield g._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,d.Z)(function*(){try{yield Gs(p)}catch(E){if("auth/network-request-failed"!==E.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var p=this;return(0,d.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,d.Z)(function*(){const E=p?(0,k.m9)(p):null;return E&&Te(E.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(E&&E._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,d.Z)(function*(){if(!g._deleted)return p&&Te(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,d.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,d.Z)(function*(){yield g.assertedPersistence.setPersistence(Vt(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new k.LL("auth","Firebase",p())}onAuthStateChanged(p,g,E){return this.registerStateListener(this.authStateSubscription,p,g,E)}onIdTokenChanged(p,g,E){return this.registerStateListener(this.idTokenSubscription,p,g,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var E=this;return(0,d.Z)(function*(){const D=yield E.getOrInitRedirectPersistenceManager(g);return null===p?D.removeCurrentUser():D.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,d.Z)(function*(){if(!g.redirectPersistenceManager){const E=p&&Vt(p)||g._popupRedirectResolver;Te(E,g,"argument-error"),g.redirectPersistenceManager=yield en.create(g,[Vt(E._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,d.Z)(function*(){var E,D;return g._isInitialized&&(yield g.queue((0,d.Z)(function*(){}))),(null===(E=g._currentUser)||void 0===E?void 0:E._redirectEventId)===p?g._currentUser:(null===(D=g.redirectUser)||void 0===D?void 0:D._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,d.Z)(function*(){if(p===g.currentUser)return g.queue((0,d.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,E,D){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),$=this._isInitialized?Promise.resolve():this._initializationPromise;return Te($,this,"internal-error"),$.then(()=>R(this.currentUser)),"function"==typeof g?p.addObserver(g,E,D):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,d.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=du(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Rn(_){return(0,k.m9)(_)}class gs{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,k.ne)(g=>this.observer=g)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function hn(_){const p=_.indexOf(":");return p<0?"":_.substr(0,p+1)}function Wi(_){if(!_)return null;const p=Number(_);return isNaN(p)?null:p}class Ws{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return lr("not implemented")}_getIdTokenResponse(p){return lr("not implemented")}_linkToIdToken(p,g){return lr("not implemented")}_getReauthenticationResolver(p){return lr("not implemented")}}function nl(_,p){return _a.apply(this,arguments)}function _a(){return(_a=(0,d.Z)(function*(_,p){return bt(_,"POST","/v1/accounts:resetPassword",Qt(_,p))})).apply(this,arguments)}function pi(_,p){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,d.Z)(function*(_,p){return bt(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ey(_,p){return va.apply(this,arguments)}function va(){return(va=(0,d.Z)(function*(_,p){return bt(_,"POST","/v1/accounts:update",Qt(_,p))})).apply(this,arguments)}function th(){return(th=(0,d.Z)(function*(_,p){return z(_,"POST","/v1/accounts:signInWithPassword",Qt(_,p))})).apply(this,arguments)}function Oc(_,p){return nh.apply(this,arguments)}function nh(){return(nh=(0,d.Z)(function*(_,p){return bt(_,"POST","/v1/accounts:sendOobCode",Qt(_,p))})).apply(this,arguments)}function ty(_,p){return rh.apply(this,arguments)}function rh(){return(rh=(0,d.Z)(function*(_,p){return Oc(_,p)})).apply(this,arguments)}function ny(_,p){return Up.apply(this,arguments)}function Up(){return(Up=(0,d.Z)(function*(_,p){return Oc(_,p)})).apply(this,arguments)}function ih(_,p){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,d.Z)(function*(_,p){return Oc(_,p)})).apply(this,arguments)}function sh(_,p){return oh.apply(this,arguments)}function oh(){return(oh=(0,d.Z)(function*(_,p){return Oc(_,p)})).apply(this,arguments)}function rl(){return(rl=(0,d.Z)(function*(_,p){return z(_,"POST","/v1/accounts:signInWithEmailLink",Qt(_,p))})).apply(this,arguments)}function il(){return(il=(0,d.Z)(function*(_,p){return z(_,"POST","/v1/accounts:signInWithEmailLink",Qt(_,p))})).apply(this,arguments)}class Ea extends Ws{constructor(p,g,E,D=null){super("password",E),this._email=p,this._password=g,this._tenantId=D}static _fromEmailAndPassword(p,g){return new Ea(p,g,"password")}static _fromEmailAndCode(p,g,E=null){return new Ea(p,g,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,d.Z)(function*(){switch(g.signInMethod){case"password":return function(_,p){return th.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(_,p){return rl.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Ht(p,"internal-error")}})()}_linkToIdToken(p,g){var E=this;return(0,d.Z)(function*(){switch(E.signInMethod){case"password":return pi(p,{idToken:g,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(_,p){return il.apply(this,arguments)}(p,{idToken:g,email:E._email,oobCode:E._password});default:Ht(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Ln(_,p){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,d.Z)(function*(_,p){return z(_,"POST","/v1/accounts:signInWithIdp",Qt(_,p))})).apply(this,arguments)}class Dn extends Ws{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Dn(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Ht("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:D}=g,R=ue(g,["providerId","signInMethod"]);if(!E||!D)return null;const $=new Dn(E,D);return $.idToken=R.idToken||void 0,$.accessToken=R.accessToken||void 0,$.secret=R.secret,$.nonce=R.nonce,$.pendingToken=R.pendingToken||null,$}_getIdTokenResponse(p){return Ln(p,this.buildRequest())}_linkToIdToken(p,g){const E=this.buildRequest();return E.idToken=g,Ln(p,E)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Ln(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,k.xO)(g)}return p}}function Zi(_,p){return hu.apply(this,arguments)}function hu(){return(hu=(0,d.Z)(function*(_,p){return bt(_,"POST","/v1/accounts:sendVerificationCode",Qt(_,p))})).apply(this,arguments)}function lh(){return(lh=(0,d.Z)(function*(_,p){return z(_,"POST","/v1/accounts:signInWithPhoneNumber",Qt(_,p))})).apply(this,arguments)}function Pc(){return(Pc=(0,d.Z)(function*(_,p){const g=yield z(_,"POST","/v1/accounts:signInWithPhoneNumber",Qt(_,p));if(g.temporaryProof)throw Ue(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const ol={USER_NOT_FOUND:"user-not-found"};function ba(){return(ba=(0,d.Z)(function*(_,p){return z(_,"POST","/v1/accounts:signInWithPhoneNumber",Qt(_,Object.assign(Object.assign({},p),{operation:"REAUTH"})),ol)})).apply(this,arguments)}class Co extends Ws{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Co({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Co({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function(_,p){return lh.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function(_,p){return Pc.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(_,p){return ba.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:E,verificationCode:D}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:E,code:D}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:E,phoneNumber:D,temporaryProof:R}=p;return E||g||D||R?new Co({verificationId:g,verificationCode:E,phoneNumber:D,temporaryProof:R}):null}}class Zs{constructor(p){var g,E,D,R,$,re;const Me=(0,k.zd)((0,k.pd)(p)),Re=null!==(g=Me.apiKey)&&void 0!==g?g:null,$e=null!==(E=Me.oobCode)&&void 0!==E?E:null,We=function(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Me.mode)&&void 0!==D?D:null);Te(Re&&$e&&We,"argument-error"),this.apiKey=Re,this.operation=We,this.code=$e,this.continueUrl=null!==(R=Me.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==($=Me.languageCode)&&void 0!==$?$:null,this.tenantId=null!==(re=Me.tenantId)&&void 0!==re?re:null}static parseLink(p){const g=function(_){const p=(0,k.zd)((0,k.pd)(_)).link,g=p?(0,k.zd)((0,k.pd)(p)).deep_link_id:null,E=(0,k.zd)((0,k.pd)(_)).deep_link_id;return(E?(0,k.zd)((0,k.pd)(E)).link:null)||E||g||p||_}(p);try{return new Zs(g)}catch(E){return null}}}let ms=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,E){return Ea._fromEmailAndPassword(g,E)}static credentialWithLink(g,E){const D=Zs.parseLink(E);return Te(D,"argument-error"),Ea._fromEmailAndCode(g,D.code,D.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Yr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ki extends Yr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class nn extends Ki{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return Te("providerId"in g&&"signInMethod"in g,"argument-error"),Dn._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Te(p.idToken||p.accessToken,"argument-error"),Dn._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return nn.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return nn.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:E,oauthTokenSecret:D,pendingToken:R,nonce:$,providerId:re}=p;if(!E&&!D&&!g&&!R||!re)return null;try{return new nn(re)._credential({idToken:g,accessToken:E,nonce:$,pendingToken:R})}catch(Me){return null}}}let fu=(()=>{class _ extends Ki{constructor(){super("facebook.com")}static credential(g){return Dn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(E){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),ul=(()=>{class _ extends Ki{constructor(){super("google.com"),this.addScope("profile")}static credential(g,E){return Dn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:E})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:E,oauthAccessToken:D}=g;if(!E&&!D)return null;try{return _.credential(E,D)}catch(R){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),uh=(()=>{class _ extends Ki{constructor(){super("github.com")}static credential(g){return Dn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(E){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class wa extends Ws{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Ln(p,this.buildRequest())}_linkToIdToken(p,g){const E=this.buildRequest();return E.idToken=g,Ln(p,E)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Ln(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:D,pendingToken:R}=g;return E&&D&&R&&E===D?new wa(E,R):null}static _create(p,g){return new wa(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Io extends Yr{constructor(p){Te(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Io.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Io.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=wa.fromJSON(p);return Te(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:E}=p;if(!g||!E)return null;try{return wa._create(E,g)}catch(D){return null}}}let Fr=(()=>{class _ extends Ki{constructor(){super("twitter.com")}static credential(g,E){return Dn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:E})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:E,oauthTokenSecret:D}=g;if(!E||!D)return null;try{return _.credential(E,D)}catch(R){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function dh(_,p){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,d.Z)(function*(_,p){return z(_,"POST","/v1/accounts:signUp",Qt(_,p))})).apply(this,arguments)}class Gn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,E,D=!1){return(0,d.Z)(function*(){const R=yield In._fromIdTokenResponse(p,E,D),$=cr(E);return new Gn({user:R,providerId:$,_tokenResponse:E,operationType:g})})()}static _forOperation(p,g,E){return(0,d.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const D=cr(E);return new Gn({user:p,providerId:D,_tokenResponse:E,operationType:g})})()}}function cr(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Ca(){return(Ca=(0,d.Z)(function*(_){var p;const g=Rn(_);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new Gn({user:g.currentUser,providerId:null,operationType:"signIn"});const E=yield dh(g,{returnSecureToken:!0}),D=yield Gn._fromIdTokenResponse(g,"signIn",E,!0);return yield g._updateCurrentUser(D.user),D})).apply(this,arguments)}class cl extends k.ZR{constructor(p,g,E,D){var R;super(g.code,g.message),this.operationType=E,this.user=D,Object.setPrototypeOf(this,cl.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,g,E,D){return new cl(p,g,E,D)}}function ys(_,p,g,E){return("reauthenticate"===p?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?cl._fromErrorAndOperation(_,R,p,E):R})}function dl(_){return new Set(_.map(({providerId:p})=>p).filter(p=>!!p))}function lt(){return(lt=(0,d.Z)(function*(_,p){const g=(0,k.m9)(_);yield Ks(!0,g,p);const{providerUserInfo:E}=yield Hn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),D=dl(E||[]);return g.providerData=g.providerData.filter(R=>D.has(R.providerId)),D.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function hh(_,p){return _s.apply(this,arguments)}function _s(){return(_s=(0,d.Z)(function*(_,p,g=!1){const E=yield di(_,p._linkToIdToken(_.auth,yield _.getIdToken()),g);return Gn._forOperation(_,"link",E)})).apply(this,arguments)}function Ks(_,p,g){return To.apply(this,arguments)}function To(){return(To=(0,d.Z)(function*(_,p,g){yield Gs(p);const D=!1===_?"provider-already-linked":"no-such-provider";Te(dl(p.providerData).has(g)===_,p.auth,D)})).apply(this,arguments)}function mu(_,p){return vs.apply(this,arguments)}function vs(){return(vs=(0,d.Z)(function*(_,p,g=!1){const{auth:E}=_,D="reauthenticate";try{const R=yield di(_,ys(E,D,p,_),g);Te(R.idToken,E,"internal-error");const $=_o(R.idToken);Te($,E,"internal-error");const{sub:re}=$;return Te(_.uid===re,E,"user-mismatch"),Gn._forOperation(_,D,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&Ht(E,"user-mismatch"),R}})).apply(this,arguments)}function kc(_,p){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,d.Z)(function*(_,p,g=!1){const E="signIn",D=yield ys(_,E,p),R=yield Gn._fromIdTokenResponse(_,E,D);return g||(yield _._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Tt(_,p){return hl.apply(this,arguments)}function hl(){return(hl=(0,d.Z)(function*(_,p){return kc(Rn(_),p)})).apply(this,arguments)}function Sn(_,p){return yu.apply(this,arguments)}function yu(){return(yu=(0,d.Z)(function*(_,p){const g=(0,k.m9)(_);return yield Ks(!1,g,p.providerId),hh(g,p)})).apply(this,arguments)}function Do(_,p){return gi.apply(this,arguments)}function gi(){return(gi=(0,d.Z)(function*(_,p){return mu((0,k.m9)(_),p)})).apply(this,arguments)}function fl(_,p){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,d.Z)(function*(_,p){return z(_,"POST","/v1/accounts:signInWithCustomToken",Qt(_,p))})).apply(this,arguments)}function _u(){return(_u=(0,d.Z)(function*(_,p){const g=Rn(_),E=yield fl(g,{token:p,returnSecureToken:!0}),D=yield Gn._fromIdTokenResponse(g,"signIn",E);return yield g._updateCurrentUser(D.user),D})).apply(this,arguments)}class Qi{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Ji._fromServerResponse(p,g):Ht(p,"internal-error")}}class Ji extends Qi{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Ji(g)}}function er(_,p,g){var E;Te((null===(E=g.url)||void 0===E?void 0:E.length)>0,_,"invalid-continue-uri"),Te(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Te(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(Te(g.android.packageName.length>0,_,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Ia(){return(Ia=(0,d.Z)(function*(_,p,g){const E=(0,k.m9)(_),D={requestType:"PASSWORD_RESET",email:p};g&&er(E,D,g),yield ny(E,D)})).apply(this,arguments)}function Mi(){return(Mi=(0,d.Z)(function*(_,p,g){yield nl((0,k.m9)(_),{oobCode:p,newPassword:g})})).apply(this,arguments)}function vu(){return(vu=(0,d.Z)(function*(_,p){yield ey((0,k.m9)(_),{oobCode:p})})).apply(this,arguments)}function Eu(_,p){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,d.Z)(function*(_,p){const g=(0,k.m9)(_),E=yield nl(g,{oobCode:p}),D=E.requestType;switch(Te(D,g,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Te(E.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Te(E.mfaInfo,g,"internal-error");default:Te(E.email,g,"internal-error")}let R=null;return E.mfaInfo&&(R=Qi._fromServerResponse(Rn(g),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:R},operation:D}})).apply(this,arguments)}function Da(){return(Da=(0,d.Z)(function*(_,p){const{data:g}=yield Eu((0,k.m9)(_),p);return g.email})).apply(this,arguments)}function wu(){return(wu=(0,d.Z)(function*(_,p,g){const E=Rn(_),D=yield dh(E,{returnSecureToken:!0,email:p,password:g}),R=yield Gn._fromIdTokenResponse(E,"signIn",D);return yield E._updateCurrentUser(R.user),R})).apply(this,arguments)}function Es(){return(Es=(0,d.Z)(function*(_,p,g){const E=(0,k.m9)(_),D={requestType:"EMAIL_SIGNIN",email:p};Te(g.handleCodeInApp,E,"argument-error"),g&&er(E,D,g),yield ih(E,D)})).apply(this,arguments)}function pl(){return(pl=(0,d.Z)(function*(_,p,g){const E=(0,k.m9)(_),D=ms.credentialWithLink(p,g||nt());return Te(D._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Tt(E,D)})).apply(this,arguments)}function iy(_,p){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,d.Z)(function*(_,p){return bt(_,"POST","/v1/accounts:createAuthUri",Qt(_,p))})).apply(this,arguments)}function $p(){return($p=(0,d.Z)(function*(_,p){const E={identifier:p,continueUri:De()?nt():"http://localhost"},{signinMethods:D}=yield iy((0,k.m9)(_),E);return D||[]})).apply(this,arguments)}function Qr(){return(Qr=(0,d.Z)(function*(_,p){const g=(0,k.m9)(_),D={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};p&&er(g.auth,D,p);const{email:R}=yield ty(g.auth,D);R!==_.email&&(yield _.reload())})).apply(this,arguments)}function Sa(){return(Sa=(0,d.Z)(function*(_,p,g){const E=(0,k.m9)(_),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:p};g&&er(E.auth,R,g);const{email:$}=yield sh(E.auth,R);$!==_.email&&(yield _.reload())})).apply(this,arguments)}function Gp(_,p){return gl.apply(this,arguments)}function gl(){return(gl=(0,d.Z)(function*(_,p){return bt(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Vn(){return(Vn=(0,d.Z)(function*(_,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const E=(0,k.m9)(_),R={idToken:yield E.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},$=yield di(E,Gp(E.auth,R));E.displayName=$.displayName||null,E.photoURL=$.photoUrl||null;const re=E.providerData.find(({providerId:Me})=>"password"===Me);re&&(re.displayName=E.displayName,re.photoURL=E.photoURL),yield E._updateTokensIfNecessary($)})).apply(this,arguments)}function ml(_,p,g){return yl.apply(this,arguments)}function yl(){return(yl=(0,d.Z)(function*(_,p,g){const{auth:E}=_,R={idToken:yield _.getIdToken(),returnSecureToken:!0};p&&(R.email=p),g&&(R.password=g);const $=yield di(_,pi(E,R));yield _._updateTokensIfNecessary($,!0)})).apply(this,arguments)}class So{constructor(p,g,E={}){this.isNewUser=p,this.providerId=g,this.profile=E}}class Su extends So{constructor(p,g,E,D){super(p,g,E),this.username=D}}class Js extends So{constructor(p,g){super(p,"facebook.com",g)}}class Ao extends Su{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class sy extends So{constructor(p,g){super(p,"google.com",g)}}class zp extends Su{constructor(p,g,E){super(p,"twitter.com",g,E)}}function dr(_){const{user:p,_tokenResponse:g}=_;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(_){var p,g;if(!_)return null;const{providerId:E}=_,D=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},R=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!E&&(null==_?void 0:_.idToken)){const $=null===(g=null===(p=_o(_.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if($)return new So(R,"anonymous"!==$&&"custom"!==$?$:null)}if(!E)return null;switch(E){case"facebook.com":return new Js(R,D);case"github.com":return new Ao(R,D);case"google.com":return new sy(R,D);case"twitter.com":return new zp(R,D,_.screenName||null);case"custom":case"anonymous":return new So(R,null);default:return new So(R,E,D)}}(g)}class Pi{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new Pi("enroll",p)}static _fromMfaPendingCredential(p){return new Pi("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,E;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Pi._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(E=p.multiFactorSession)||void 0===E?void 0:E.idToken)return Pi._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Ru{constructor(p,g,E){this.session=p,this.hints=g,this.signInResolver=E}static _fromError(p,g){const E=Rn(p),D=g.customData._serverResponse,R=(D.mfaInfo||[]).map(re=>Qi._fromServerResponse(E,re));Te(D.mfaPendingCredential,E,"internal-error");const $=Pi._fromMfaPendingCredential(D.mfaPendingCredential);return new Ru($,R,function(){var re=(0,d.Z)(function*(Me){const Re=yield Me._process(E,$);delete D.mfaInfo,delete D.mfaPendingCredential;const $e=Object.assign(Object.assign({},D),{idToken:Re.idToken,refreshToken:Re.refreshToken});switch(g.operationType){case"signIn":const We=yield Gn._fromIdTokenResponse(E,g.operationType,$e);return yield E._updateCurrentUser(We.user),We;case"reauthenticate":return Te(g.user,E,"internal-error"),Gn._forOperation(g.user,g.operationType,$e);default:Ht(E,"internal-error")}});return function(Me){return re.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,d.Z)(function*(){return g.signInResolver(p)})()}}function vl(_,p){return bt(_,"POST","/v2/accounts/mfaEnrollment:start",Qt(_,p))}class Nu{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(E=>Qi._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new Nu(p)}getSession(){var p=this;return(0,d.Z)(function*(){return Pi._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var E=this;return(0,d.Z)(function*(){const D=p,R=yield E.getSession(),$=yield di(E.user,D._process(E.user.auth,R,g));return yield E.user._updateTokensIfNecessary($),E.user.reload()})()}unenroll(p){var g=this;return(0,d.Z)(function*(){const E="string"==typeof p?p:p.uid,D=yield g.user.getIdToken(),R=yield di(g.user,function(_,p){return bt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Qt(_,p))}(g.user.auth,{idToken:D,mfaEnrollmentId:E}));g.enrolledFactors=g.enrolledFactors.filter(({uid:$})=>$!==E),yield g.user._updateTokensIfNecessary(R);try{yield g.user.reload()}catch($){if("auth/user-token-expired"!==$.code)throw $}})()}}const Ro=new WeakMap,Aa="__sak";class Mu{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Aa,"1"),this.storage.removeItem(Aa),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const tr=(()=>{class _ extends Mu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,E)=>this.onStorageEvent(g,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const _=(0,k.z$)();return pt(_)||qi(_)}()&&function(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=ga(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const E of Object.keys(this.listeners)){const D=this.storage.getItem(E),R=this.localCache[E];D!==R&&g(E,R,D)}}onStorageEvent(g,E=!1){if(!g.key)return void this.forAllChangedKeys((re,Me,Re)=>{this.notifyListeners(re,Re)});const D=g.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const re=this.storage.getItem(D);if(g.newValue!==re)null!==g.newValue?this.storage.setItem(D,g.newValue):this.storage.removeItem(D);else if(this.localCache[D]===g.newValue&&!E)return}const R=()=>{const re=this.storage.getItem(D);!E&&this.localCache[D]===re||this.notifyListeners(D,re)},$=this.storage.getItem(D);(0,k.w1)()&&10===document.documentMode&&$!==g.newValue&&g.newValue!==g.oldValue?setTimeout(R,10):R()}notifyListeners(g,E){this.localCache[g]=E;const D=this.listeners[g];if(D)for(const R of Array.from(D))R(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,E,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:E,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,E){var D=()=>super._set,R=this;return(0,d.Z)(function*(){yield D().call(R,g,E),R.localCache[g]=JSON.stringify(E)})()}_get(g){var E=()=>super._get,D=this;return(0,d.Z)(function*(){const R=yield E().call(D,g);return D.localCache[g]=JSON.stringify(R),R})()}_remove(g){var E=()=>super._remove,D=this;return(0,d.Z)(function*(){yield E().call(D,g),delete D.localCache[g]})()}}return _.type="LOCAL",_})(),nr=(()=>{class _ extends Mu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,E){}_removeListener(g,E){}}return _.type="SESSION",_})();let Zp=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const E=this.receivers.find(R=>R.isListeningto(g));if(E)return E;const D=new _(g);return this.receivers.push(D),D}isListeningto(g){return this.eventTarget===g}handleEvent(g){var E=this;return(0,d.Z)(function*(){const D=g,{eventId:R,eventType:$,data:re}=D.data,Me=E.handlersMap[$];if(!(null==Me?void 0:Me.size))return;D.ports[0].postMessage({status:"ack",eventId:R,eventType:$});const Re=Array.from(Me).map(function(){var We=(0,d.Z)(function*(Mt){return Mt(D.origin,re)});return function(Mt){return We.apply(this,arguments)}}()),$e=yield function(_){return Promise.all(_.map(function(){var p=(0,d.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(E){return{fulfilled:!1,reason:E}}});return function(g){return p.apply(this,arguments)}}()))}(Re);D.ports[0].postMessage({status:"done",eventId:R,eventType:$,response:$e})})()}_subscribe(g,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(E)}_unsubscribe(g,E){this.handlersMap[g]&&E&&this.handlersMap[g].delete(E),(!E||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Ra(_="",p=10){let g="";for(let E=0;E<p;E++)g+=Math.floor(10*Math.random());return _+g}class Eh{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,E=50){var D=this;return(0,d.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let $,re;return new Promise((Me,Re)=>{const $e=Ra("",20);R.port1.start();const We=setTimeout(()=>{Re(new Error("unsupported_event"))},E);re={messageChannel:R,onMessage(Mt){const Un=Mt;if(Un.data.eventId===$e)switch(Un.data.status){case"ack":clearTimeout(We),$=setTimeout(()=>{Re(new Error("timeout"))},3e3);break;case"done":clearTimeout($),Me(Un.data.response);break;default:clearTimeout(We),clearTimeout($),Re(new Error("invalid_response"))}}},D.handlers.add(re),R.port1.addEventListener("message",re.onMessage),D.target.postMessage({eventType:p,eventId:$e,data:g},[R.port2])}).finally(()=>{re&&D.removeMessageHandler(re)})})()}}function zt(){return window}function Vc(){return void 0!==zt().WorkerGlobalScope&&"function"==typeof zt().importScripts}function No(){return(No=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Pu="firebaseLocalStorageDb",Xi="firebaseLocalStorage",Bc="fbase_key";class ws{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function fr(_,p){return _.transaction([Xi],p?"readwrite":"readonly").objectStore(Xi)}function Mo(){const _=indexedDB.open(Pu,1);return new Promise((p,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const E=_.result;try{E.createObjectStore(Xi,{keyPath:Bc})}catch(D){g(D)}}),_.addEventListener("success",(0,d.Z)(function*(){const E=_.result;E.objectStoreNames.contains(Xi)?p(E):(E.close(),yield function(){const _=indexedDB.deleteDatabase(Pu);return new ws(_).toPromise()}(),p(yield Mo()))}))})}function ct(_,p,g){return Is.apply(this,arguments)}function Is(){return(Is=(0,d.Z)(function*(_,p,g){const E=fr(_,!0).put({[Bc]:p,value:g});return new ws(E).toPromise()})).apply(this,arguments)}function wh(){return(wh=(0,d.Z)(function*(_,p){const g=fr(_,!1).get(p),E=yield new ws(g).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Ch(_,p){const g=fr(_,!0).delete(p);return new ws(g).toPromise()}const on=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,d.Z)(function*(){return g.db||(g.db=yield Mo()),g.db})()}_withRetries(g){var E=this;return(0,d.Z)(function*(){let D=0;for(;;)try{const R=yield E._openDb();return yield g(R)}catch(R){if(D++>3)throw R;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,d.Z)(function*(){return Vc()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,d.Z)(function*(){g.receiver=Zp._getInstance(Vc()?self:null),g.receiver._subscribe("keyChanged",function(){var E=(0,d.Z)(function*(D,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(D,R){return E.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var E=(0,d.Z)(function*(D,R){return["keyChanged"]});return function(D,R){return E.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,d.Z)(function*(){var E,D;if(g.activeServiceWorker=yield function(){return No.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Eh(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);!R||(null===(E=R[0])||void 0===E?void 0:E.fulfilled)&&(null===(D=R[0])||void 0===D?void 0:D.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var E=this;return(0,d.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:g},E.serviceWorkerReceiverAvailable?800:50)}catch(D){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Mo();return yield ct(g,Aa,"1"),yield Ch(g,Aa),!0}catch(g){}return!1})()}_withPendingWrite(g){var E=this;return(0,d.Z)(function*(){E.pendingWrites++;try{yield g()}finally{E.pendingWrites--}})()}_set(g,E){var D=this;return(0,d.Z)(function*(){return D._withPendingWrite((0,d.Z)(function*(){return yield D._withRetries(R=>ct(R,g,E)),D.localCache[g]=E,D.notifyServiceWorker(g)}))})()}_get(g){var E=this;return(0,d.Z)(function*(){const D=yield E._withRetries(R=>function(_,p){return wh.apply(this,arguments)}(R,g));return E.localCache[g]=D,D})()}_remove(g){var E=this;return(0,d.Z)(function*(){return E._withPendingWrite((0,d.Z)(function*(){return yield E._withRetries(D=>Ch(D,g)),delete E.localCache[g],E.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,d.Z)(function*(){const E=yield g._withRetries($=>{const re=fr($,!1).getAll();return new ws(re).toPromise()});if(!E)return[];if(0!==g.pendingWrites)return[];const D=[],R=new Set;for(const{fbase_key:$,value:re}of E)R.add($),JSON.stringify(g.localCache[$])!==JSON.stringify(re)&&(g.notifyListeners($,re),D.push($));for(const $ of Object.keys(g.localCache))g.localCache[$]&&!R.has($)&&(g.notifyListeners($,null),D.push($));return D})()}notifyListeners(g,E){this.localCache[g]=E;const D=this.listeners[g];if(D)for(const R of Array.from(D))R(E)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Qp(_,p){return bt(_,"POST","/v2/accounts/mfaSignIn:start",Qt(_,p))}function Th(){return(Th=(0,d.Z)(function*(_){return(yield bt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function yi(_){return new Promise((p,g)=>{const E=document.createElement("script");E.setAttribute("src",_),E.onload=p,E.onerror=D=>{const R=xt("internal-error");R.customData=D,g(R)},E.type="text/javascript",E.charset="UTF-8",function(){var _,p;return null!==(p=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==p?p:document}().appendChild(E)})}function Dh(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Cl=1e12;class Ah{constructor(p){this.auth=p,this.counter=Cl,this._widgets=new Map}render(p,g){const E=this.counter;return this._widgets.set(E,new zn(p,this.auth.name,g||{})),this.counter++,E}reset(p){var g;const E=p||Cl;null===(g=this._widgets.get(E))||void 0===g||g.delete(),this._widgets.delete(E)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Cl))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,d.Z)(function*(){var E;return null===(E=g._widgets.get(p||Cl))||void 0===E||E.execute(),""})()}}class zn{constructor(p,g,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof p?document.getElementById(p):p;Te(D,"argument-error",{appName:g}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(_){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<50;E++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}();const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const _n=Dh("rcb"),Lu=new Bt(3e4,6e4);class Oa{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!zt().grecaptcha}load(p,g=""){return Te((_=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(zt().grecaptcha):new Promise((E,D)=>{const R=zt().setTimeout(()=>{D(xt(p,"network-request-failed"))},Lu.get());zt()[_n]=()=>{zt().clearTimeout(R),delete zt()[_n];const re=zt().grecaptcha;if(!re)return void D(xt(p,"internal-error"));const Me=re.render;re.render=(Re,$e)=>{const We=Me(Re,$e);return this.counter++,We},this.hostLanguage=g,E(re)},yi(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:_n,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),D(xt(p,"internal-error"))})});var _}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!zt().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _i{load(p){return(0,d.Z)(function*(){return new Ah(p)})()}clearedOneInstance(){}}const ki="recaptcha",Fi={theme:"light",type:"image"};class ko{constructor(p,g=Object.assign({},Fi),E){this.parameters=g,this.type=ki,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Rn(E),this.isInvisible="invisible"===this.parameters.size,Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof p?document.getElementById(p):p;Te(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _i:new Oa,this.validateStartingState()}verify(){var p=this;return(0,d.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(g)||new Promise(R=>{const $=re=>{!re||(p.tokenChangeListeners.delete($),R(re))};p.tokenChangeListeners.add($),p.isInvisible&&E.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Te(!this.parameters.sitekey,this.auth,"argument-error"),Te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(E=>E(g)),"function"==typeof p)p(g);else if("string"==typeof p){const E=zt()[p];"function"==typeof E&&E(g)}}}assertNotDestroyed(){Te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const E=document.createElement("div");g.appendChild(E),g=E}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.Z)(function*(){Te(De()&&!Vc(),p.auth,"internal-error"),yield function(){let _=null;return new Promise(p=>{"complete"!==document.readyState?(_=()=>p(),window.addEventListener("load",_)):p()}).catch(p=>{throw _&&window.removeEventListener("load",_),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function(_){return Th.apply(this,arguments)}(p.auth);Te(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return Te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Uu{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Co._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function es(){return(es=(0,d.Z)(function*(_,p,g){const E=Rn(_),D=yield S(E,p,(0,k.m9)(g));return new Uu(D,R=>Tt(E,R))})).apply(this,arguments)}function Rh(){return(Rh=(0,d.Z)(function*(_,p,g){const E=(0,k.m9)(_);yield Ks(!1,E,"phone");const D=yield S(E.auth,p,(0,k.m9)(g));return new Uu(D,R=>Sn(E,R))})).apply(this,arguments)}function C(){return(C=(0,d.Z)(function*(_,p,g){const E=(0,k.m9)(_),D=yield S(E.auth,p,(0,k.m9)(g));return new Uu(D,R=>Do(E,R))})).apply(this,arguments)}function S(_,p,g){return N.apply(this,arguments)}function N(){return(N=(0,d.Z)(function*(_,p,g){var E;const D=yield g.verify();try{let R;if(Te("string"==typeof D,_,"argument-error"),Te(g.type===ki,_,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const $=R.session;if("phoneNumber"in R)return Te("enroll"===$.type,_,"internal-error"),(yield vl(_,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{Te("signin"===$.type,_,"internal-error");const re=(null===(E=R.multiFactorHint)||void 0===E?void 0:E.uid)||R.multiFactorUid;return Te(re,_,"missing-multi-factor-info"),(yield Qp(_,{mfaPendingCredential:$.credential,mfaEnrollmentId:re,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield Zi(_,{phoneNumber:R.phoneNumber,recaptchaToken:D});return $}}finally{g._reset()}})).apply(this,arguments)}function Y(){return(Y=(0,d.Z)(function*(_,p){yield hh((0,k.m9)(_),p)})).apply(this,arguments)}let oe=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=Rn(g)}verifyPhoneNumber(g,E){return S(this.auth,g,(0,k.m9)(E))}static credential(g,E){return Co._fromVerification(g,E)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:E,temporaryProof:D}=g;return E&&D?Co._fromTokenResponse(E,D):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Ie(_,p){return p?Vt(p):(Te(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class je extends Ws{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Ln(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Ln(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Ln(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function He(_){return kc(_.auth,new je(_),_.bypassAuthState)}function jt(_){const{auth:p,user:g}=_;return Te(g,p,"internal-error"),mu(g,new je(_),_.bypassAuthState)}function Zt(_){return rr.apply(this,arguments)}function rr(){return(rr=(0,d.Z)(function*(_){const{auth:p,user:g}=_;return Te(g,p,"internal-error"),hh(g,new je(_),_.bypassAuthState)})).apply(this,arguments)}class pr{constructor(p,g,E,D,R=!1){this.auth=p,this.resolver=E,this.user=D,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,d.Z)(function*(E,D){p.pendingPromise={resolve:E,reject:D};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(E,D){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,d.Z)(function*(){const{urlResponse:E,sessionId:D,postBody:R,tenantId:$,error:re,type:Me}=p;if(re)return void g.reject(re);const Re={auth:g.auth,requestUri:E,sessionId:D,tenantId:$||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Me)(Re))}catch($e){g.reject($e)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return He;case"linkViaPopup":case"linkViaRedirect":return Zt;case"reauthViaPopup":case"reauthViaRedirect":return jt;default:Ht(this.auth,"internal-error")}}resolve(p){kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ir=new Bt(2e3,1e4);function Fo(){return(Fo=(0,d.Z)(function*(_,p,g){const E=Rn(_);Mr(_,p,Yr);const D=Ie(E,g);return new wt(E,"signInViaPopup",p,D).executeNotNull()})).apply(this,arguments)}function Ds(){return(Ds=(0,d.Z)(function*(_,p,g){const E=(0,k.m9)(_);Mr(E.auth,p,Yr);const D=Ie(E.auth,g);return new wt(E.auth,"reauthViaPopup",p,D,E).executeNotNull()})).apply(this,arguments)}function Il(){return(Il=(0,d.Z)(function*(_,p,g){const E=(0,k.m9)(_);Mr(E.auth,p,Yr);const D=Ie(E.auth,g);return new wt(E.auth,"linkViaPopup",p,D,E).executeNotNull()})).apply(this,arguments)}let wt=(()=>{class _ extends pr{constructor(g,E,D,R,$){super(g,E,R,$),this.provider=D,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,d.Z)(function*(){const E=yield g.execute();return Te(E,g.auth,"internal-error"),E})()}onExecution(){var g=this;return(0,d.Z)(function*(){kn(1===g.filter.length,"Popup operations only handle one event");const E=Ra();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],E),g.authWindow.associatedEvent=E,g.resolver._originValidation(g.auth).catch(D=>{g.reject(D)}),g.resolver._isIframeWebStorageSupported(g.auth,D=>{D||g.reject(xt(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(xt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var E,D;this.pollId=(null===(D=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===D?void 0:D.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(xt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,ir.get())};g()}}return _.currentPopupAction=null,_})();const Ss=new Map;class Bu extends pr{constructor(p,g,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,d.Z)(function*(){let E=Ss.get(g.auth._key());if(!E){try{const R=(yield function(_,p){return Xp.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;E=()=>Promise.resolve(R)}catch(D){E=()=>Promise.reject(D)}Ss.set(g.auth._key(),E)}return g.bypassAuthState||Ss.set(g.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,E=this;return(0,d.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(E,p);if("unknown"!==p.type){if(p.eventId){const D=yield E.auth._redirectUserForId(p.eventId);if(D)return E.user=D,g().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Xp(){return(Xp=(0,d.Z)(function*(_,p){const g=Tl(p),E=Vo(_);if(!(yield E._isAvailable()))return!1;const D="true"===(yield E._get(g));return yield E._remove(g),D})).apply(this,arguments)}function On(_,p){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,d.Z)(function*(_,p){return Vo(_)._set(Tl(p),"true")})).apply(this,arguments)}function Vo(_){return Vt(_._redirectPersistence)}function Tl(_){return Jn("pendingRedirect",_.config.apiKey,_.name)}function qn(){return(qn=(0,d.Z)(function*(_,p,g){const E=Rn(_);Mr(_,p,Yr);const D=Ie(E,g);return yield On(D,E),D._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function As(){return(As=(0,d.Z)(function*(_,p,g){const E=(0,k.m9)(_);Mr(E.auth,p,Yr);const D=Ie(E.auth,g);yield On(D,E.auth);const R=yield Gc(E);return D._openRedirect(E.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function eg(){return(eg=(0,d.Z)(function*(_,p,g){const E=(0,k.m9)(_);Mr(E.auth,p,Yr);const D=Ie(E.auth,g);yield Ks(!1,E,p.providerId),yield On(D,E.auth);const R=yield Gc(E);return D._openRedirect(E.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function Hc(){return(Hc=(0,d.Z)(function*(_,p){return yield Rn(_)._initializationPromise,Pa(_,p,!1)})).apply(this,arguments)}function Pa(_,p){return $c.apply(this,arguments)}function $c(){return($c=(0,d.Z)(function*(_,p,g=!1){const E=Rn(_),D=Ie(E,p),$=yield new Bu(E,D,g).execute();return $&&!g&&(delete $.user._redirectEventId,yield E._persistUserIfCurrent($.user),yield E._setRedirectUser(null,p)),$})).apply(this,arguments)}function Gc(_){return jo.apply(this,arguments)}function jo(){return(jo=(0,d.Z)(function*(_){const p=Ra(`${_.uid}:::`);return _._redirectEventId=p,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),p})).apply(this,arguments)}class Xs{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(g=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Dl(_);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var E;if(p.error&&!Dl(p)){const D=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";g.onError(xt(this.auth,D))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const E=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(dy(p))}saveEventToCache(p){this.cachedEventUids.add(dy(p)),this.lastProcessedEventTime=Date.now()}}function dy(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(p=>p).join("-")}function Dl({type:_,error:p}){return"unknown"===_&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Mh(_){return ng.apply(this,arguments)}function ng(){return(ng=(0,d.Z)(function*(_,p={}){return bt(_,"GET","/v1/projects",p)})).apply(this,arguments)}const Vv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ph=/^https?/;function Sl(){return(Sl=(0,d.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:p}=yield Mh(_);for(const g of p)try{if(Hu(g))return}catch(E){}Ht(_,"unauthorized-domain")})).apply(this,arguments)}function Hu(_){const p=nt(),{protocol:g,hostname:E}=new URL(p);if(_.startsWith("chrome-extension://")){const $=new URL(_);return""===$.hostname&&""===E?"chrome-extension:"===g&&_.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&$.hostname===E}if(!Ph.test(g))return!1;if(Vv.test(_))return E===_;const D=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(E)}const $u=new Bt(3e4,6e4);function kh(){const _=zt().___jsl;if(null==_?void 0:_.H)for(const p of Object.keys(_.H))if(_.H[p].r=_.H[p].r||[],_.H[p].L=_.H[p].L||[],_.H[p].r=[..._.H[p].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Lh=null;function qc(_){return Lh=Lh||function(_){return new Promise((p,g)=>{var E,D,R;function $(){kh(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{kh(),g(xt(_,"network-request-failed"))},timeout:$u.get()})}if(null===(D=null===(E=zt().gapi)||void 0===E?void 0:E.iframes)||void 0===D?void 0:D.Iframe)p(gapi.iframes.getContext());else{if(!(null===(R=zt().gapi)||void 0===R?void 0:R.load)){const re=Dh("iframefcb");return zt()[re]=()=>{gapi.load?$():g(xt(_,"network-request-failed"))},yi(`https://apis.google.com/js/api.js?onload=${re}`)}$()}}).catch(p=>{throw Lh=null,p})}(_),Lh}const rg=new Bt(5e3,15e3),Wc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Al=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uv(_){const p=_.config;Te(p.authDomain,_,"auth-domain-config-required");const g=p.emulator?Ye(p,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,E={apiKey:p.apiKey,appName:_.name,v:ce.SDK_VERSION},D=Al.get(_.config.apiHost);D&&(E.eid=D);const R=_._getFrameworks();return R.length&&(E.fw=R.join(",")),`${g}?${(0,k.xO)(E).slice(1)}`}function ig(){return(ig=(0,d.Z)(function*(_){const p=yield qc(_),g=zt().gapi;return Te(g,_,"internal-error"),p.open({where:document.body,url:Uv(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wc,dontclear:!0},E=>new Promise(function(){var D=(0,d.Z)(function*(R,$){yield E.restyle({setHideOnLeave:!1});const re=xt(_,"network-request-failed"),Me=zt().setTimeout(()=>{$(re)},rg.get());function Re(){zt().clearTimeout(Me),R(E)}E.ping(Re).then(Re,()=>{$(re)})});return function(R,$){return D.apply(this,arguments)}}()))})).apply(this,arguments)}const jv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Gu{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Zc(_,p,g,E,D,R){Te(_.config.authDomain,_,"auth-domain-config-required"),Te(_.config.apiKey,_,"invalid-api-key");const $={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:E,v:ce.SDK_VERSION,eventId:D};if(p instanceof Yr){p.setDefaultLanguage(_.languageCode),$.providerId=p.providerId||"",(0,k.xb)(p.getCustomParameters())||($.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Me,Re]of Object.entries(R||{}))$[Me]=Re}if(p instanceof Ki){const Me=p.getScopes().filter(Re=>""!==Re);Me.length>0&&($.scopes=Me.join(","))}_.tenantId&&($.tid=_.tenantId);const re=$;for(const Me of Object.keys(re))void 0===re[Me]&&delete re[Me];return`${function({config:_}){return _.emulator?Ye(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,k.xO)(re).slice(1)}`}const qu="webStorageSupport";class Kc extends class{constructor(p){this.factorId=p}_process(p,g,E){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,E);case"signin":return this._finalizeSignIn(p,g.credential);default:return lr("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Kc(p)}_finalizeEnroll(p,g,E){return function(_,p){return bt(_,"POST","/v2/accounts/mfaEnrollment:finalize",Qt(_,p))}(p,{idToken:g,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function(_,p){return bt(_,"POST","/v2/accounts/mfaSignIn:finalize",Qt(_,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let xl=(()=>{class _{constructor(){}static assertion(g){return Kc._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var _,sg="@firebase/auth";class Wu{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,d.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(E=>{var D;p((null===(D=E)||void 0===D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ho(){return window}function Zu(){return(Zu=(0,d.Z)(function*(_,p,g){var E;const{BuildInfo:D}=Ho();kn(p.sessionId,"AuthEvent did not contain a session ID");const R=yield Cy(p.sessionId),$={};return qi()?$.ibi=D.packageName:bo()?$.apn=D.packageName:Ht(_,"operation-not-supported-in-this-environment"),D.displayName&&($.appDisplayName=D.displayName),$.sessionId=R,Zc(_,g,p.type,void 0,null!==(E=p.eventId)&&void 0!==E?E:void 0,$)})).apply(this,arguments)}function Yc(){return(Yc=(0,d.Z)(function*(_){const{BuildInfo:p}=Ho(),g={};qi()?g.iosBundleId=p.packageName:bo()?g.androidPackageName=p.packageName:Ht(_,"operation-not-supported-in-this-environment"),yield Mh(_,g)})).apply(this,arguments)}function jh(){return(jh=(0,d.Z)(function*(_,p,g){const{cordova:E}=Ho();let D=()=>{};try{yield new Promise((R,$)=>{let re=null;function Me(){var We;R();const Mt=null===(We=E.plugins.browsertab)||void 0===We?void 0:We.close;"function"==typeof Mt&&Mt(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Re(){re||(re=window.setTimeout(()=>{$(xt(_,"redirect-cancelled-by-user"))},2e3))}function $e(){"visible"===(null==document?void 0:document.visibilityState)&&Re()}p.addPassiveListener(Me),document.addEventListener("resume",Re,!1),bo()&&document.addEventListener("visibilitychange",$e,!1),D=()=>{p.removePassiveListener(Me),document.removeEventListener("resume",Re,!1),document.removeEventListener("visibilitychange",$e,!1),re&&window.clearTimeout(re)}})}finally{D()}})).apply(this,arguments)}function Cy(_){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,d.Z)(function*(_){const p=Wv(_),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Wv(_){if(kn(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const p=new ArrayBuffer(_.length),g=new Uint8Array(p);for(let E=0;E<_.length;E++)g[E]=_.charCodeAt(E);return g}_="Browser",(0,ce._registerComponent)(new Ke.wA("auth",(p,{options:g})=>{const E=p.getProvider("app").getImmediate(),{apiKey:D,authDomain:R}=E.options;return($=>{Te(D&&!D.includes(":"),"invalid-api-key",{appName:$.name}),Te(!(null==R?void 0:R.includes(":")),"argument-error",{appName:$.name});const re={apiKey:D,authDomain:R,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:du(_)},Me=new eh($,re);return function(_,p){const g=(null==p?void 0:p.persistence)||[],E=(Array.isArray(g)?g:[g]).map(Vt);(null==p?void 0:p.errorMap)&&_._updateErrorMap(p.errorMap),_._initializeWithPersistence(E,null==p?void 0:p.popupRedirectResolver)}(Me,g),Me})(E)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,E)=>{p.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new Ke.wA("auth-internal",p=>{const g=Rn(p.getProvider("auth").getImmediate());return new Wu(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(sg,"0.19.3",void 0),(0,ce.registerVersion)(sg,"0.19.3","esm2017");class $h extends Xs{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,d.Z)(function*(){yield p.initPromise})()}}function Iy(_){return vn.apply(this,arguments)}function vn(){return(vn=(0,d.Z)(function*(_){const p=yield Rl()._get(Rs(_));return p&&(yield Rl()._remove(Rs(_))),p})).apply(this,arguments)}function Zv(){const _=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const E=Math.floor(Math.random()*p.length);_.push(p.charAt(E))}return _.join("")}function Rl(){return Vt(tr)}function Rs(_){return Jn("authEvent",_.config.apiKey,_.name)}function zh(_){if(!(null==_?void 0:_.includes("?")))return{};const[p,...g]=_.split("?");return(0,k.zd)(g.join("?"))}function Qc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:xt("no-auth-event")}}function Jc(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function Ar(_=(0,k.z$)()){return!("file:"!==Jc()&&"ionic:"!==Jc()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sy(){try{const _=self.localStorage,p=Ra();if(_)return _.setItem(p,"1"),_.removeItem(p),!function(_=(0,k.z$)()){return(0,k.w1)()&&11===(null==document?void 0:document.documentMode)||function(_=(0,k.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,k.hl)()}catch(_){return Kh()&&(0,k.hl)()}return!1}function Kh(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function lg(){return("http:"===Jc()||"https:"===Jc()||(0,k.ru)()||Ar())&&!((0,k.b$)()||(0,k.UG)())&&Sy()&&!Kh()}function ug(){return Ar()&&"undefined"!=typeof document}function Qh(){return(Qh=(0,d.Z)(function*(){return!!ug()&&new Promise(_=>{const p=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),_(!0)})})})).apply(this,arguments)}const bi={LOCAL:"local",NONE:"none",SESSION:"session"},to=Te,ed="persistence";function Jh(_){return Ay.apply(this,arguments)}function Ay(){return(Ay=(0,d.Z)(function*(_){yield _._initializationPromise;const p=nd(),g=Jn(ed,_.config.apiKey,_.name);(null==p?void 0:p.sessionStorage)&&p.sessionStorage.setItem(g,_._getPersistence())})).apply(this,arguments)}function nd(){return"undefined"!=typeof window?window:null}const Jv=Te;class Fa{constructor(){this.browserResolver=Vt(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nr,this._completeRedirectFn=Pa}_openPopup(p,g,E,D){var R=this;return(0,d.Z)(function*(){var $;kn(null===($=R.eventManagers[p._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const re=Zc(p,g,E,nt(),D);return function(_,p,g,E=500,D=600){const R=Math.max((window.screen.availHeight-D)/2,0).toString(),$=Math.max((window.screen.availWidth-E)/2,0).toString();let re="";const Me=Object.assign(Object.assign({},jv),{width:E.toString(),height:D.toString(),top:R,left:$}),Re=(0,k.z$)().toLowerCase();g&&(re=fi(Re)?"_blank":g),pa(Re)&&(p=p||"http://localhost",Me.scrollbars="yes");const $e=Object.entries(Me).reduce((Mt,[Un,Os])=>`${Mt}${Un}=${Os},`,"");if(function(_=(0,k.z$)()){var p;return qi(_)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Re)&&"_self"!==re)return function(_,p){const g=document.createElement("a");g.href=_,g.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(E)}(p||"",re),new Gu(null);const We=window.open(p||"",re,$e);Te(We,_,"popup-blocked");try{We.focus()}catch(Mt){}return new Gu(We)}(p,re,Ra())})()}_openRedirect(p,g,E,D){var R=this;return(0,d.Z)(function*(){return yield R._originValidation(p),_=Zc(p,g,E,nt(),D),zt().location.href=_,new Promise(()=>{});var _})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:D,promise:R}=this.eventManagers[g];return D?Promise.resolve(D):(kn(R,"If manager is not set, promise should be"),R)}const E=this.initAndGetManager(p);return this.eventManagers[g]={promise:E},E}initAndGetManager(p){var g=this;return(0,d.Z)(function*(){const E=yield function(_){return ig.apply(this,arguments)}(p),D=new Xs(p);return E.register("authEvent",R=>(Te(null==R?void 0:R.authEvent,p,"invalid-auth-event"),{status:D.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:D},g.iframes[p._key()]=E,D})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(qu,{type:qu},D=>{var R;const $=null===(R=null==D?void 0:D[0])||void 0===R?void 0:R[qu];void 0!==$&&g(!!$),Ht(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(_){return Sl.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return ga()||pt()||qi()}}),this.cordovaResolver=Vt(class{constructor(){this._redirectPersistence=nr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Pa}_initialize(p){var g=this;return(0,d.Z)(function*(){const E=p._key();let D=g.eventManagers.get(E);return D||(D=new $h(p),g.eventManagers.set(E,D),g.attachCallbackListeners(p,D)),D})()}_openPopup(p){Ht(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,E,D){var R=this;return(0,d.Z)(function*(){!function(_){var p,g,E,D,R,$,re,Me,Re,$e;const We=Ho();Te("function"==typeof(null===(p=null==We?void 0:We.universalLinks)||void 0===p?void 0:p.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Te(void 0!==(null===(g=null==We?void 0:We.BuildInfo)||void 0===g?void 0:g.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Te("function"==typeof(null===(R=null===(D=null===(E=null==We?void 0:We.cordova)||void 0===E?void 0:E.plugins)||void 0===D?void 0:D.browsertab)||void 0===R?void 0:R.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Te("function"==typeof(null===(Me=null===(re=null===($=null==We?void 0:We.cordova)||void 0===$?void 0:$.plugins)||void 0===re?void 0:re.browsertab)||void 0===Me?void 0:Me.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Te("function"==typeof(null===($e=null===(Re=null==We?void 0:We.cordova)||void 0===Re?void 0:Re.InAppBrowser)||void 0===$e?void 0:$e.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const $=yield R._initialize(p);yield $.initialized(),$.resetRedirect(),Ss.clear(),yield R._originValidation(p);const re=function(_,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Zv(),postBody:null,tenantId:_.tenantId,error:xt(_,"no-auth-event")}}(p,E,D);yield function(_,p){return Rl()._set(Rs(_),p)}(p,re);const Me=yield function(_,p,g){return Zu.apply(this,arguments)}(p,re,g),Re=yield function(_){const{cordova:p}=Ho();return new Promise(g=>{p.plugins.browsertab.isAvailable(E=>{let D=null;E?p.plugins.browsertab.openUrl(_):D=p.InAppBrowser.open(_,function(_=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(D)})})}(Me);return function(_,p,g){return jh.apply(this,arguments)}(p,$,Re)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(_){return Yc.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:E,handleOpenURL:D,BuildInfo:R}=Ho(),$=setTimeout((0,d.Z)(function*(){yield Iy(p),g.onEvent(Qc())}),500),re=function(){var $e=(0,d.Z)(function*(We){clearTimeout($);const Mt=yield Iy(p);let Un=null;Mt&&(null==We?void 0:We.url)&&(Un=function(_,p){var g,E;const D=function(_){const p=zh(_),g=p.link?decodeURIComponent(p.link):void 0,E=zh(g).link,D=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return zh(D).link||D||E||g||_}(p);if(D.includes("/__/auth/callback")){const R=zh(D),$=R.firebaseError?function(_){try{return JSON.parse(_)}catch(p){return null}}(decodeURIComponent(R.firebaseError)):null,re=null===(E=null===(g=null==$?void 0:$.code)||void 0===g?void 0:g.split("auth/"))||void 0===E?void 0:E[1],Me=re?xt(re):null;return Me?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Me,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:D,postBody:null}}return null}(Mt,We.url)),g.onEvent(Un||Qc())});return function(Mt){return $e.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,re);const Me=D,Re=`${R.packageName.toLowerCase()}://`;Ho().handleOpenURL=function(){var $e=(0,d.Z)(function*(We){if(We.toLowerCase().startsWith(Re)&&re({url:We}),"function"==typeof Me)try{Me(We)}catch(Mt){console.error(Mt)}});return function(We){return $e.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=nr,this._completeRedirectFn=Pa}_initialize(p){var g=this;return(0,d.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,E,D){var R=this;return(0,d.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,g,E,D)})()}_openRedirect(p,g,E,D){var R=this;return(0,d.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,g,E,D)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return ug()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Jv(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,d.Z)(function*(){if(p.underlyingResolver)return;const g=yield function(){return Qh.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Go(_){return _.unwrap()}function Ry(_){return Oy(_)}function Oy(_){const{_tokenResponse:p}=_ instanceof k.ZR?_.customData:_;if(!p)return null;if(!(_ instanceof k.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return oe.credentialFromResult(_);const g=p.providerId;if(!g||"password"===g)return null;let E;switch(g){case"google.com":E=ul;break;case"facebook.com":E=fu;break;case"github.com":E=uh;break;case"twitter.com":E=Fr;break;default:const{oauthIdToken:D,oauthAccessToken:R,oauthTokenSecret:$,pendingToken:re,nonce:Me}=p;return R||$||D||re?re?g.startsWith("saml.")?wa._create(g,re):Dn._fromParams({providerId:g,signInMethod:g,pendingToken:re,idToken:D,accessToken:R}):new nn(g).credential({idToken:D,accessToken:R,rawNonce:Me}):null}return _ instanceof k.ZR?E.credentialFromError(_):E.credentialFromResult(_)}function wi(_,p){return p.catch(g=>{throw g instanceof k.ZR&&function(_,p){var g;const E=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new Yu(_,function(_,p){var g;const E=(0,k.m9)(_),D=p;return Te(p.customData.operationType,E,"argument-error"),Te(null===(g=D.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,E,"argument-error"),Ru._fromError(E,D)}(_,p));else if(E){const D=Oy(p),R=p;D&&(R.credential=D,R.tenantId=E.tenantId||void 0,R.email=E.email||void 0,R.phoneNumber=E.phoneNumber||void 0)}}(_,g),g}).then(g=>{const D=g.user;return{operationType:g.operationType,credential:Ry(g),additionalUserInfo:dr(g),user:qo.getOrCreate(D)}})}function zo(_,p){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,d.Z)(function*(_,p){const g=yield p;return{verificationId:g.verificationId,confirm:E=>wi(_,g.confirm(E))}})).apply(this,arguments)}class Yu{constructor(p,g){this.resolver=g,this.auth=function(_){return _.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return wi(Go(this.auth),this.resolver.resolveSignIn(p))}}class qo{constructor(p){this._delegate=p,this.multiFactor=function(_){const p=(0,k.m9)(_);return Ro.has(p)||Ro.set(p,Nu._fromUser(p)),Ro.get(p)}(p)}static getOrCreate(p){return qo.USER_MAP.has(p)||qo.USER_MAP.set(p,new qo(p)),qo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,d.Z)(function*(){return wi(g.auth,Sn(g._delegate,p))})()}linkWithPhoneNumber(p,g){var E=this;return(0,d.Z)(function*(){return zo(E.auth,function(_,p,g){return Rh.apply(this,arguments)}(E._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,d.Z)(function*(){return wi(g.auth,function(_,p,g){return Il.apply(this,arguments)}(g._delegate,p,Fa))})()}linkWithRedirect(p){var g=this;return(0,d.Z)(function*(){return yield Jh(Rn(g.auth)),function(_,p,g){return function(_,p,g){return eg.apply(this,arguments)}(_,p,g)}(g._delegate,p,Fa)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,d.Z)(function*(){return wi(g.auth,Do(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return zo(this.auth,function(_,p,g){return C.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return wi(this.auth,function(_,p,g){return Ds.apply(this,arguments)}(this._delegate,p,Fa))}reauthenticateWithRedirect(p){var g=this;return(0,d.Z)(function*(){return yield Jh(Rn(g.auth)),function(_,p,g){return function(_,p,g){return As.apply(this,arguments)}(_,p,g)}(g._delegate,p,Fa)})()}sendEmailVerification(p){return function(_,p){return Qr.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,d.Z)(function*(){return yield function(_,p){return lt.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function(_,p){return ml((0,k.m9)(_),p,null)}(this._delegate,p)}updatePassword(p){return function(_,p){return ml((0,k.m9)(_),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function(_,p){return Y.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function(_,p){return Vn.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function(_,p,g){return Sa.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}qo.USER_MAP=new WeakMap;const rd=Te;let Nl=(()=>{class _{constructor(g,E){if(this.app=g,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=g.options;rd(D,"invalid-api-key",{appName:g.name});let R=[cn];if("undefined"!=typeof window){R=function(_,p){const g=nd();if(!(null==g?void 0:g.sessionStorage))return[];const E=Jn(ed,_,p);switch(g.sessionStorage.getItem(E)){case bi.NONE:return[cn];case bi.LOCAL:return[on,nr];case bi.SESSION:return[nr];default:return[]}}(D,g.name);for(const re of[on,tr,nr])R.includes(re)||R.push(re)}rd(D,"invalid-api-key",{appName:g.name});const $="undefined"!=typeof window?Fa:void 0;this._delegate=E.initialize({options:{persistence:R,popupRedirectResolver:$}}),this._delegate._updateErrorMap(Hs),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?qo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,E){!function(_,p,g){const E=Rn(_);Te(E._canInitEmulator,E,"emulator-config-failed"),Te(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const D=!!(null==g?void 0:g.disableWarnings),R=hn(p),{host:$,port:re}=function(_){const p=hn(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(p.length));if(!g)return{host:"",port:null};const E=g[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(E);if(D){const R=D[1];return{host:R,port:Wi(E.substr(R.length+1))}}{const[R,$]=E.split(":");return{host:R,port:Wi($)}}}(p);E.config.emulator={url:`${R}//${$}${null===re?"":`:${re}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:$,port:re,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function(){function _(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,E)}applyActionCode(g){return function(_,p){return vu.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Eu(this._delegate,g)}confirmPasswordReset(g,E){return function(_,p,g){return Mi.apply(this,arguments)}(this._delegate,g,E)}createUserWithEmailAndPassword(g,E){var D=this;return(0,d.Z)(function*(){return wi(D._delegate,function(_,p,g){return wu.apply(this,arguments)}(D._delegate,g,E))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(_,p){return $p.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(_,p){const g=Zs.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,d.Z)(function*(){rd(lg(),g._delegate,"operation-not-supported-in-this-environment");const E=yield function(_,p){return Hc.apply(this,arguments)}(g._delegate,Fa);return E?wi(g._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(_,p){Rn(_)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,E,D){const{next:R,error:$,complete:re}=eE(g,E,D);return this._delegate.onAuthStateChanged(R,$,re)}onIdTokenChanged(g,E,D){const{next:R,error:$,complete:re}=eE(g,E,D);return this._delegate.onIdTokenChanged(R,$,re)}sendSignInLinkToEmail(g,E){return function(_,p,g){return Es.apply(this,arguments)}(this._delegate,g,E)}sendPasswordResetEmail(g,E){return function(_,p,g){return Ia.apply(this,arguments)}(this._delegate,g,E||void 0)}setPersistence(g){var E=this;return(0,d.Z)(function*(){let D;switch(function(_,p){to(Object.values(bi).includes(p),_,"invalid-persistence-type"),(0,k.b$)()?to(p!==bi.SESSION,_,"unsupported-persistence-type"):(0,k.UG)()?to(p===bi.NONE,_,"unsupported-persistence-type"):Kh()?to(p===bi.NONE||p===bi.LOCAL&&(0,k.hl)(),_,"unsupported-persistence-type"):to(p===bi.NONE||Sy(),_,"unsupported-persistence-type")}(E._delegate,g),g){case bi.SESSION:D=nr;break;case bi.LOCAL:D=(yield Vt(on)._isAvailable())?on:tr;break;case bi.NONE:D=cn;break;default:return Ht("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return wi(this._delegate,function(_){return Ca.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return wi(this._delegate,Tt(this._delegate,g))}signInWithCustomToken(g){return wi(this._delegate,function(_,p){return _u.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,E){return wi(this._delegate,function(_,p,g){return Tt((0,k.m9)(_),ms.credential(p,g))}(this._delegate,g,E))}signInWithEmailLink(g,E){return wi(this._delegate,function(_,p,g){return pl.apply(this,arguments)}(this._delegate,g,E))}signInWithPhoneNumber(g,E){return zo(this._delegate,function(_,p,g){return es.apply(this,arguments)}(this._delegate,g,E))}signInWithPopup(g){var E=this;return(0,d.Z)(function*(){return rd(lg(),E._delegate,"operation-not-supported-in-this-environment"),wi(E._delegate,function(_,p,g){return Fo.apply(this,arguments)}(E._delegate,g,Fa))})()}signInWithRedirect(g){var E=this;return(0,d.Z)(function*(){return rd(lg(),E._delegate,"operation-not-supported-in-this-environment"),yield Jh(E._delegate),function(_,p,g){return function(_,p,g){return qn.apply(this,arguments)}(_,p,g)}(E._delegate,g,Fa)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(_,p){return Da.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=bi,_})();function eE(_,p,g){let E=_;"function"!=typeof _&&({next:E,error:p,complete:g}=_);const D=E;return{next:$=>D($&&qo.getOrCreate($)),error:p,complete:g}}class ef{constructor(){this.providerId="phone",this._delegate=new oe(Go(ee.Z.auth()))}static credential(p,g){return oe.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}ef.PHONE_SIGN_IN_METHOD=oe.PHONE_SIGN_IN_METHOD,ef.PROVIDER_ID=oe.PROVIDER_ID;const tE=Te;class nE{constructor(p,g,E=ee.Z.app()){var D;tE(null===(D=E.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new ko(p,g,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(_){_.INTERNAL.registerComponent(new Ke.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),E=p.getProvider("auth");return new Nl(g,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ms,FacebookAuthProvider:fu,GithubAuthProvider:uh,GoogleAuthProvider:ul,OAuthProvider:nn,SAMLAuthProvider:Io,PhoneAuthProvider:ef,PhoneMultiFactorGenerator:xl,RecaptchaVerifier:nE,TwitterAuthProvider:Fr,Auth:Nl,AuthCredential:Ws,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.3")}(ee.Z)},6676:function(Xe,be){!function(L){"use strict";function d(K){return Array.prototype.slice.call(K)}function ee(K){return new Promise(function(_e,ye){K.onsuccess=function(){_e(K.result)},K.onerror=function(){ye(K.error)}})}function k(K,_e,ye){var fe,xe=new Promise(function(ze,ke){ee(fe=K[_e].apply(K,ye)).then(ze,ke)});return xe.request=fe,xe}function ce(K,_e,ye){var fe=k(K,_e,ye);return fe.then(function(xe){if(xe)return new F(xe,fe.request)})}function ne(K,_e,ye){ye.forEach(function(fe){Object.defineProperty(K.prototype,fe,{get:function(){return this[_e][fe]},set:function(xe){this[_e][fe]=xe}})})}function ie(K,_e,ye,fe){fe.forEach(function(xe){xe in ye.prototype&&(K.prototype[xe]=function(){return k(this[_e],xe,arguments)})})}function ge(K,_e,ye,fe){fe.forEach(function(xe){xe in ye.prototype&&(K.prototype[xe]=function(){return this[_e][xe].apply(this[_e],arguments)})})}function ue(K,_e,ye,fe){fe.forEach(function(xe){xe in ye.prototype&&(K.prototype[xe]=function(){return ce(this[_e],xe,arguments)})})}function te(K){this._index=K}function F(K,_e){this._cursor=K,this._request=_e}function V(K){this._store=K}function J(K){this._tx=K,this.complete=new Promise(function(_e,ye){K.oncomplete=function(){_e()},K.onerror=function(){ye(K.error)},K.onabort=function(){ye(K.error)}})}function Q(K,_e,ye){this._db=K,this.oldVersion=_e,this.transaction=new J(ye)}function le(K){this._db=K}ne(te,"_index",["name","keyPath","multiEntry","unique"]),ie(te,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ue(te,"_index",IDBIndex,["openCursor","openKeyCursor"]),ne(F,"_cursor",["direction","key","primaryKey","value"]),ie(F,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(K){K in IDBCursor.prototype&&(F.prototype[K]=function(){var _e=this,ye=arguments;return Promise.resolve().then(function(){return _e._cursor[K].apply(_e._cursor,ye),ee(_e._request).then(function(fe){if(fe)return new F(fe,_e._request)})})})}),V.prototype.createIndex=function(){return new te(this._store.createIndex.apply(this._store,arguments))},V.prototype.index=function(){return new te(this._store.index.apply(this._store,arguments))},ne(V,"_store",["name","keyPath","indexNames","autoIncrement"]),ie(V,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ue(V,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ge(V,"_store",IDBObjectStore,["deleteIndex"]),J.prototype.objectStore=function(){return new V(this._tx.objectStore.apply(this._tx,arguments))},ne(J,"_tx",["objectStoreNames","mode"]),ge(J,"_tx",IDBTransaction,["abort"]),Q.prototype.createObjectStore=function(){return new V(this._db.createObjectStore.apply(this._db,arguments))},ne(Q,"_db",["name","version","objectStoreNames"]),ge(Q,"_db",IDBDatabase,["deleteObjectStore","close"]),le.prototype.transaction=function(){return new J(this._db.transaction.apply(this._db,arguments))},ne(le,"_db",["name","version","objectStoreNames"]),ge(le,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(K){[V,te].forEach(function(_e){K in _e.prototype&&(_e.prototype[K.replace("open","iterate")]=function(){var ye=d(arguments),fe=ye[ye.length-1],xe=this._store||this._index,ze=xe[K].apply(xe,ye.slice(0,-1));ze.onsuccess=function(){fe(ze.result)}})})}),[te,V].forEach(function(K){K.prototype.getAll||(K.prototype.getAll=function(_e,ye){var fe=this,xe=[];return new Promise(function(ze){fe.iterateCursor(_e,function(ke){ke?(xe.push(ke.value),void 0===ye||xe.length!=ye?ke.continue():ze(xe)):ze(xe)})})})}),L.openDb=function(K,_e,ye){var fe=k(indexedDB,"open",[K,_e]),xe=fe.request;return xe&&(xe.onupgradeneeded=function(ze){ye&&ye(new Q(xe.result,ze.oldVersion,xe.transaction))}),fe.then(function(ze){return new le(ze)})},L.deleteDb=function(K){return k(indexedDB,"deleteDatabase",[K])},Object.defineProperty(L,"__esModule",{value:!0})}(be)},7574:(Xe,be,L)=>{"use strict";L.d(be,{y:()=>V});var d=L(7393),k=L(9181),ce=L(6490),ie=L(6554),ge=L(4487);var F=L(2494);let V=(()=>{class Q{constructor(we){this._isScalar=!1,we&&(this._subscribe=we)}lift(we){const he=new Q;return he.source=this,he.operator=we,he}subscribe(we,he,K){const{operator:_e}=this,ye=function(Q,le,we){if(Q){if(Q instanceof d.L)return Q;if(Q[k.b])return Q[k.b]()}return Q||le||we?new d.L(Q,le,we):new d.L(ce.c)}(we,he,K);if(ye.add(_e?_e.call(ye,this.source):this.source||F.v.useDeprecatedSynchronousErrorHandling&&!ye.syncErrorThrowable?this._subscribe(ye):this._trySubscribe(ye)),F.v.useDeprecatedSynchronousErrorHandling&&ye.syncErrorThrowable&&(ye.syncErrorThrowable=!1,ye.syncErrorThrown))throw ye.syncErrorValue;return ye}_trySubscribe(we){try{return this._subscribe(we)}catch(he){F.v.useDeprecatedSynchronousErrorHandling&&(we.syncErrorThrown=!0,we.syncErrorValue=he),function(Q){for(;Q;){const{closed:le,destination:we,isStopped:he}=Q;if(le||he)return!1;Q=we&&we instanceof d.L?we:null}return!0}(we)?we.error(he):console.warn(he)}}forEach(we,he){return new(he=J(he))((K,_e)=>{let ye;ye=this.subscribe(fe=>{try{we(fe)}catch(xe){_e(xe),ye&&ye.unsubscribe()}},_e,K)})}_subscribe(we){const{source:he}=this;return he&&he.subscribe(we)}[ie.L](){return this}pipe(...we){return 0===we.length?this:function(Q){return 0===Q.length?ge.y:1===Q.length?Q[0]:function(we){return Q.reduce((he,K)=>K(he),we)}}(we)(this)}toPromise(we){return new(we=J(we))((he,K)=>{let _e;this.subscribe(ye=>_e=ye,ye=>K(ye),()=>he(_e))})}}return Q.create=le=>new Q(le),Q})();function J(Q){if(Q||(Q=F.v.Promise||Promise),!Q)throw new Error("no Promise impl found");return Q}},6490:(Xe,be,L)=>{"use strict";L.d(be,{c:()=>k});var d=L(2494),ee=L(4449);const k={closed:!0,next(ce){},error(ce){if(d.v.useDeprecatedSynchronousErrorHandling)throw ce;(0,ee.z)(ce)},complete(){}}},9765:(Xe,be,L)=>{"use strict";L.d(be,{Yc:()=>ge,xQ:()=>ue});var d=L(7574),ee=L(7393),k=L(5319),ce=L(7971),ne=L(8858),ie=L(9181);class ge extends ee.L{constructor(V){super(V),this.destination=V}}let ue=(()=>{class F extends d.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ie.b](){return new ge(this)}lift(J){const Q=new te(this,this);return Q.operator=J,Q}next(J){if(this.closed)throw new ce.N;if(!this.isStopped){const{observers:Q}=this,le=Q.length,we=Q.slice();for(let he=0;he<le;he++)we[he].next(J)}}error(J){if(this.closed)throw new ce.N;this.hasError=!0,this.thrownError=J,this.isStopped=!0;const{observers:Q}=this,le=Q.length,we=Q.slice();for(let he=0;he<le;he++)we[he].error(J);this.observers.length=0}complete(){if(this.closed)throw new ce.N;this.isStopped=!0;const{observers:J}=this,Q=J.length,le=J.slice();for(let we=0;we<Q;we++)le[we].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(J){if(this.closed)throw new ce.N;return super._trySubscribe(J)}_subscribe(J){if(this.closed)throw new ce.N;return this.hasError?(J.error(this.thrownError),k.w.EMPTY):this.isStopped?(J.complete(),k.w.EMPTY):(this.observers.push(J),new ne.W(this,J))}asObservable(){const J=new d.y;return J.source=this,J}}return F.create=(V,J)=>new te(V,J),F})();class te extends ue{constructor(V,J){super(),this.destination=V,this.source=J}next(V){const{destination:J}=this;J&&J.next&&J.next(V)}error(V){const{destination:J}=this;J&&J.error&&this.destination.error(V)}complete(){const{destination:V}=this;V&&V.complete&&this.destination.complete()}_subscribe(V){const{source:J}=this;return J?this.source.subscribe(V):k.w.EMPTY}}},8858:(Xe,be,L)=>{"use strict";L.d(be,{W:()=>ee});var d=L(5319);class ee extends d.w{constructor(ce,ne){super(),this.subject=ce,this.subscriber=ne,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ce=this.subject,ne=ce.observers;if(this.subject=null,!ne||0===ne.length||ce.isStopped||ce.closed)return;const ie=ne.indexOf(this.subscriber);-1!==ie&&ne.splice(ie,1)}}},7393:(Xe,be,L)=>{"use strict";L.d(be,{L:()=>ge});var d=L(9105),ee=L(6490),k=L(5319),ce=L(9181),ne=L(2494),ie=L(4449);class ge extends k.w{constructor(F,V,J){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ee.c;break;case 1:if(!F){this.destination=ee.c;break}if("object"==typeof F){F instanceof ge?(this.syncErrorThrowable=F.syncErrorThrowable,this.destination=F,F.add(this)):(this.syncErrorThrowable=!0,this.destination=new ue(this,F));break}default:this.syncErrorThrowable=!0,this.destination=new ue(this,F,V,J)}}[ce.b](){return this}static create(F,V,J){const Q=new ge(F,V,J);return Q.syncErrorThrowable=!1,Q}next(F){this.isStopped||this._next(F)}error(F){this.isStopped||(this.isStopped=!0,this._error(F))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(F){this.destination.next(F)}_error(F){this.destination.error(F),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:F}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=F,this}}class ue extends ge{constructor(F,V,J,Q){super(),this._parentSubscriber=F;let le,we=this;(0,d.m)(V)?le=V:V&&(le=V.next,J=V.error,Q=V.complete,V!==ee.c&&(we=Object.create(V),(0,d.m)(we.unsubscribe)&&this.add(we.unsubscribe.bind(we)),we.unsubscribe=this.unsubscribe.bind(this))),this._context=we,this._next=le,this._error=J,this._complete=Q}next(F){if(!this.isStopped&&this._next){const{_parentSubscriber:V}=this;ne.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?this.__tryOrSetError(V,this._next,F)&&this.unsubscribe():this.__tryOrUnsub(this._next,F)}}error(F){if(!this.isStopped){const{_parentSubscriber:V}=this,{useDeprecatedSynchronousErrorHandling:J}=ne.v;if(this._error)J&&V.syncErrorThrowable?(this.__tryOrSetError(V,this._error,F),this.unsubscribe()):(this.__tryOrUnsub(this._error,F),this.unsubscribe());else if(V.syncErrorThrowable)J?(V.syncErrorValue=F,V.syncErrorThrown=!0):(0,ie.z)(F),this.unsubscribe();else{if(this.unsubscribe(),J)throw F;(0,ie.z)(F)}}}complete(){if(!this.isStopped){const{_parentSubscriber:F}=this;if(this._complete){const V=()=>this._complete.call(this._context);ne.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?(this.__tryOrSetError(F,V),this.unsubscribe()):(this.__tryOrUnsub(V),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(F,V){try{F.call(this._context,V)}catch(J){if(this.unsubscribe(),ne.v.useDeprecatedSynchronousErrorHandling)throw J;(0,ie.z)(J)}}__tryOrSetError(F,V,J){if(!ne.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{V.call(this._context,J)}catch(Q){return ne.v.useDeprecatedSynchronousErrorHandling?(F.syncErrorValue=Q,F.syncErrorThrown=!0,!0):((0,ie.z)(Q),!0)}return!1}_unsubscribe(){const{_parentSubscriber:F}=this;this._context=null,this._parentSubscriber=null,F.unsubscribe()}}},5319:(Xe,be,L)=>{"use strict";L.d(be,{w:()=>ie});var d=L(9796),ee=L(1555),k=L(9105);const ne=(()=>{function ue(te){return Error.call(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((F,V)=>`${V+1}) ${F.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te,this}return ue.prototype=Object.create(Error.prototype),ue})();class ie{constructor(te){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,te&&(this._ctorUnsubscribe=!0,this._unsubscribe=te)}unsubscribe(){let te;if(this.closed)return;let{_parentOrParents:F,_ctorUnsubscribe:V,_unsubscribe:J,_subscriptions:Q}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,F instanceof ie)F.remove(this);else if(null!==F)for(let le=0;le<F.length;++le)F[le].remove(this);if((0,k.m)(J)){V&&(this._unsubscribe=void 0);try{J.call(this)}catch(le){te=le instanceof ne?ge(le.errors):[le]}}if((0,d.k)(Q)){let le=-1,we=Q.length;for(;++le<we;){const he=Q[le];if((0,ee.K)(he))try{he.unsubscribe()}catch(K){te=te||[],K instanceof ne?te=te.concat(ge(K.errors)):te.push(K)}}}if(te)throw new ne(te)}add(te){let F=te;if(!te)return ie.EMPTY;switch(typeof te){case"function":F=new ie(te);case"object":if(F===this||F.closed||"function"!=typeof F.unsubscribe)return F;if(this.closed)return F.unsubscribe(),F;if(!(F instanceof ie)){const Q=F;F=new ie,F._subscriptions=[Q]}break;default:throw new Error("unrecognized teardown "+te+" added to Subscription.")}let{_parentOrParents:V}=F;if(null===V)F._parentOrParents=this;else if(V instanceof ie){if(V===this)return F;F._parentOrParents=[V,this]}else{if(-1!==V.indexOf(this))return F;V.push(this)}const J=this._subscriptions;return null===J?this._subscriptions=[F]:J.push(F),F}remove(te){const F=this._subscriptions;if(F){const V=F.indexOf(te);-1!==V&&F.splice(V,1)}}}var ue;function ge(ue){return ue.reduce((te,F)=>te.concat(F instanceof ne?F.errors:F),[])}ie.EMPTY=((ue=new ie).closed=!0,ue)},2494:(Xe,be,L)=>{"use strict";L.d(be,{v:()=>ee});let d=!1;const ee={Promise:void 0,set useDeprecatedSynchronousErrorHandling(k){if(k){const ce=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ce.stack)}else d&&console.log("RxJS: Back to a better error behavior. Thank you. <3");d=k},get useDeprecatedSynchronousErrorHandling(){return d}}},5345:(Xe,be,L)=>{"use strict";L.d(be,{IY:()=>ce,Ds:()=>ie,ft:()=>ue});var d=L(7393),ee=L(7574),k=L(7444);class ce extends d.L{constructor(F){super(),this.parent=F}_next(F){this.parent.notifyNext(F)}_error(F){this.parent.notifyError(F),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ie extends d.L{notifyNext(F){this.destination.next(F)}notifyError(F){this.destination.error(F)}notifyComplete(){this.destination.complete()}}function ue(te,F){if(F.closed)return;if(te instanceof ee.y)return te.subscribe(F);let V;try{V=(0,k.s)(te)(F)}catch(J){F.error(J)}return V}},2441:(Xe,be,L)=>{"use strict";L.d(be,{c:()=>ne,N:()=>ie});var d=L(9765),ee=L(7574),k=L(5319),ce=L(1307);class ne extends ee.y{constructor(V,J){super(),this.source=V,this.subjectFactory=J,this._refCount=0,this._isComplete=!1}_subscribe(V){return this.getSubject().subscribe(V)}getSubject(){const V=this._subject;return(!V||V.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let V=this._connection;return V||(this._isComplete=!1,V=this._connection=new k.w,V.add(this.source.subscribe(new ge(this.getSubject(),this))),V.closed&&(this._connection=null,V=k.w.EMPTY)),V}refCount(){return(0,ce.x)()(this)}}const ie=(()=>{const F=ne.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:F._subscribe},_isComplete:{value:F._isComplete,writable:!0},getSubject:{value:F.getSubject},connect:{value:F.connect},refCount:{value:F.refCount}}})();class ge extends d.Yc{constructor(V,J){super(V),this.connectable=J}_error(V){this._unsubscribe(),super._error(V)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const V=this.connectable;if(V){this.connectable=null;const J=V._connection;V._refCount=0,V._subject=null,V._connection=null,J&&J.unsubscribe()}}}},9193:(Xe,be,L)=>{"use strict";L.d(be,{E:()=>ee,c:()=>k});var d=L(7574);const ee=new d.y(ne=>ne.complete());function k(ne){return ne?function(ne){return new d.y(ie=>ne.schedule(()=>ie.complete()))}(ne):ee}},4402:(Xe,be,L)=>{"use strict";L.d(be,{D:()=>we});var d=L(7574),ee=L(7444),k=L(5319),ce=L(6554),ge=L(4087),ue=L(377),V=L(4072),J=L(9489);function we(he,K){return K?function(he,K){if(null!=he){if(function(he){return he&&"function"==typeof he[ce.L]}(he))return function(he,K){return new d.y(_e=>{const ye=new k.w;return ye.add(K.schedule(()=>{const fe=he[ce.L]();ye.add(fe.subscribe({next(xe){ye.add(K.schedule(()=>_e.next(xe)))},error(xe){ye.add(K.schedule(()=>_e.error(xe)))},complete(){ye.add(K.schedule(()=>_e.complete()))}}))})),ye})}(he,K);if((0,V.t)(he))return function(he,K){return new d.y(_e=>{const ye=new k.w;return ye.add(K.schedule(()=>he.then(fe=>{ye.add(K.schedule(()=>{_e.next(fe),ye.add(K.schedule(()=>_e.complete()))}))},fe=>{ye.add(K.schedule(()=>_e.error(fe)))}))),ye})}(he,K);if((0,J.z)(he))return(0,ge.r)(he,K);if(function(he){return he&&"function"==typeof he[ue.hZ]}(he)||"string"==typeof he)return function(he,K){if(!he)throw new Error("Iterable cannot be null");return new d.y(_e=>{const ye=new k.w;let fe;return ye.add(()=>{fe&&"function"==typeof fe.return&&fe.return()}),ye.add(K.schedule(()=>{fe=he[ue.hZ](),ye.add(K.schedule(function(){if(_e.closed)return;let xe,ze;try{const ke=fe.next();xe=ke.value,ze=ke.done}catch(ke){return void _e.error(ke)}ze?_e.complete():(_e.next(xe),this.schedule())}))})),ye})}(he,K)}throw new TypeError((null!==he&&typeof he||he)+" is not observable")}(he,K):he instanceof d.y?he:new d.y((0,ee.s)(he))}},6693:(Xe,be,L)=>{"use strict";L.d(be,{n:()=>ce});var d=L(7574),ee=L(5015),k=L(4087);function ce(ne,ie){return ie?(0,k.r)(ne,ie):new d.y((0,ee.V)(ne))}},6682:(Xe,be,L)=>{"use strict";L.d(be,{T:()=>ne});var d=L(7574),ee=L(4869),k=L(3282),ce=L(6693);function ne(...ie){let ge=Number.POSITIVE_INFINITY,ue=null,te=ie[ie.length-1];return(0,ee.K)(te)?(ue=ie.pop(),ie.length>1&&"number"==typeof ie[ie.length-1]&&(ge=ie.pop())):"number"==typeof te&&(ge=ie.pop()),null===ue&&1===ie.length&&ie[0]instanceof d.y?ie[0]:(0,k.J)(ge)((0,ce.n)(ie,ue))}},5917:(Xe,be,L)=>{"use strict";L.d(be,{of:()=>ce});var d=L(4869),ee=L(6693),k=L(4087);function ce(...ne){let ie=ne[ne.length-1];return(0,d.K)(ie)?(ne.pop(),(0,k.r)(ne,ie)):(0,ee.n)(ne)}},8002:(Xe,be,L)=>{"use strict";L.d(be,{U:()=>ee});var d=L(7393);function ee(ne,ie){return function(ue){if("function"!=typeof ne)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ue.lift(new k(ne,ie))}}class k{constructor(ie,ge){this.project=ie,this.thisArg=ge}call(ie,ge){return ge.subscribe(new ce(ie,this.project,this.thisArg))}}class ce extends d.L{constructor(ie,ge,ue){super(ie),this.project=ge,this.count=0,this.thisArg=ue||this}_next(ie){let ge;try{ge=this.project.call(this.thisArg,ie,this.count++)}catch(ue){return void this.destination.error(ue)}this.destination.next(ge)}}},3282:(Xe,be,L)=>{"use strict";L.d(be,{J:()=>k});var d=L(9773),ee=L(4487);function k(ce=Number.POSITIVE_INFINITY){return(0,d.zg)(ee.y,ce)}},9773:(Xe,be,L)=>{"use strict";L.d(be,{zg:()=>ce});var d=L(8002),ee=L(4402),k=L(5345);function ce(ue,te,F=Number.POSITIVE_INFINITY){return"function"==typeof te?V=>V.pipe(ce((J,Q)=>(0,ee.D)(ue(J,Q)).pipe((0,d.U)((le,we)=>te(J,le,Q,we))),F)):("number"==typeof te&&(F=te),V=>V.lift(new ne(ue,F)))}class ne{constructor(te,F=Number.POSITIVE_INFINITY){this.project=te,this.concurrent=F}call(te,F){return F.subscribe(new ie(te,this.project,this.concurrent))}}class ie extends k.Ds{constructor(te,F,V=Number.POSITIVE_INFINITY){super(te),this.project=F,this.concurrent=V,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(te){this.active<this.concurrent?this._tryNext(te):this.buffer.push(te)}_tryNext(te){let F;const V=this.index++;try{F=this.project(te,V)}catch(J){return void this.destination.error(J)}this.active++,this._innerSub(F)}_innerSub(te){const F=new k.IY(this),V=this.destination;V.add(F);const J=(0,k.ft)(te,F);J!==F&&V.add(J)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(te){this.destination.next(te)}notifyComplete(){const te=this.buffer;this.active--,te.length>0?this._next(te.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Xe,be,L)=>{"use strict";L.d(be,{ht:()=>V,QV:()=>te});var d=L(7393),ee=L(9193),k=L(5917),ce=L(7574);class ue{constructor(le,we,he){this.kind=le,this.value=we,this.error=he,this.hasValue="N"===le}observe(le){switch(this.kind){case"N":return le.next&&le.next(this.value);case"E":return le.error&&le.error(this.error);case"C":return le.complete&&le.complete()}}do(le,we,he){switch(this.kind){case"N":return le&&le(this.value);case"E":return we&&we(this.error);case"C":return he&&he()}}accept(le,we,he){return le&&"function"==typeof le.next?this.observe(le):this.do(le,we,he)}toObservable(){switch(this.kind){case"N":return(0,k.of)(this.value);case"E":return Q=this.error,new ce.y(we=>we.error(Q));case"C":return(0,ee.c)()}var Q;throw new Error("unexpected notification kind value")}static createNext(le){return void 0!==le?new ue("N",le):ue.undefinedValueNotification}static createError(le){return new ue("E",void 0,le)}static createComplete(){return ue.completeNotification}}function te(Q,le=0){return function(he){return he.lift(new F(Q,le))}}ue.completeNotification=new ue("C"),ue.undefinedValueNotification=new ue("N",void 0);class F{constructor(le,we=0){this.scheduler=le,this.delay=we}call(le,we){return we.subscribe(new V(le,this.scheduler,this.delay))}}class V extends d.L{constructor(le,we,he=0){super(le),this.scheduler=we,this.delay=he}static dispatch(le){const{notification:we,destination:he}=le;we.observe(he),this.unsubscribe()}scheduleMessage(le){this.destination.add(this.scheduler.schedule(V.dispatch,this.delay,new J(le,this.destination)))}_next(le){this.scheduleMessage(ue.createNext(le))}_error(le){this.scheduleMessage(ue.createError(le)),this.unsubscribe()}_complete(){this.scheduleMessage(ue.createComplete()),this.unsubscribe()}}class J{constructor(le,we){this.notification=le,this.destination=we}}},1307:(Xe,be,L)=>{"use strict";L.d(be,{x:()=>ee});var d=L(7393);function ee(){return function(ie){return ie.lift(new k(ie))}}class k{constructor(ie){this.connectable=ie}call(ie,ge){const{connectable:ue}=this;ue._refCount++;const te=new ce(ie,ue),F=ge.subscribe(te);return te.closed||(te.connection=ue.connect()),F}}class ce extends d.L{constructor(ie,ge){super(ie),this.connectable=ge}_unsubscribe(){const{connectable:ie}=this;if(!ie)return void(this.connection=null);this.connectable=null;const ge=ie._refCount;if(ge<=0)return void(this.connection=null);if(ie._refCount=ge-1,ge>1)return void(this.connection=null);const{connection:ue}=this,te=ie._connection;this.connection=null,te&&(!ue||te===ue)&&te.unsubscribe()}}},3101:(Xe,be,L)=>{"use strict";L.d(be,{R:()=>K});var d=L(7574);let ee=1;const k=Promise.resolve(),ce={};function ne(ye){return ye in ce&&(delete ce[ye],!0)}const ie={setImmediate(ye){const fe=ee++;return ce[fe]=!0,k.then(()=>ne(fe)&&ye()),fe},clearImmediate(ye){ne(ye)}};var ue=L(6465),F=L(6102);const Q=new class extends F.v{flush(fe){this.active=!0,this.scheduled=void 0;const{actions:xe}=this;let ze,ke=-1,Pt=xe.length;fe=fe||xe.shift();do{if(ze=fe.execute(fe.state,fe.delay))break}while(++ke<Pt&&(fe=xe.shift()));if(this.active=!1,ze){for(;++ke<Pt&&(fe=xe.shift());)fe.unsubscribe();throw ze}}}(class extends ue.o{constructor(fe,xe){super(fe,xe),this.scheduler=fe,this.work=xe}requestAsyncId(fe,xe,ze=0){return null!==ze&&ze>0?super.requestAsyncId(fe,xe,ze):(fe.actions.push(this),fe.scheduled||(fe.scheduled=ie.setImmediate(fe.flush.bind(fe,null))))}recycleAsyncId(fe,xe,ze=0){if(null!==ze&&ze>0||null===ze&&this.delay>0)return super.recycleAsyncId(fe,xe,ze);0===fe.actions.length&&(ie.clearImmediate(xe),fe.scheduled=void 0)}});var le=L(9796);class he extends d.y{constructor(fe,xe=0,ze=Q){var ye;super(),this.source=fe,this.delayTime=xe,this.scheduler=ze,(!(!(0,le.k)(ye=xe)&&ye-parseFloat(ye)+1>=0)||xe<0)&&(this.delayTime=0),(!ze||"function"!=typeof ze.schedule)&&(this.scheduler=Q)}static create(fe,xe=0,ze=Q){return new he(fe,xe,ze)}static dispatch(fe){const{source:xe,subscriber:ze}=fe;return this.add(xe.subscribe(ze))}_subscribe(fe){return this.scheduler.schedule(he.dispatch,this.delayTime,{source:this.source,subscriber:fe})}}function K(ye,fe=0){return function(ze){return ze.lift(new _e(ye,fe))}}class _e{constructor(fe,xe){this.scheduler=fe,this.delay=xe}call(fe,xe){return new he(xe,this.delay,this.scheduler).subscribe(fe)}}},3342:(Xe,be,L)=>{"use strict";L.d(be,{b:()=>ce});var d=L(7393);function ee(){}var k=L(9105);function ce(ge,ue,te){return function(V){return V.lift(new ne(ge,ue,te))}}class ne{constructor(ue,te,F){this.nextOrObserver=ue,this.error=te,this.complete=F}call(ue,te){return te.subscribe(new ie(ue,this.nextOrObserver,this.error,this.complete))}}class ie extends d.L{constructor(ue,te,F,V){super(ue),this._tapNext=ee,this._tapError=ee,this._tapComplete=ee,this._tapError=F||ee,this._tapComplete=V||ee,(0,k.m)(te)?(this._context=this,this._tapNext=te):te&&(this._context=te,this._tapNext=te.next||ee,this._tapError=te.error||ee,this._tapComplete=te.complete||ee)}_next(ue){try{this._tapNext.call(this._context,ue)}catch(te){return void this.destination.error(te)}this.destination.next(ue)}_error(ue){try{this._tapError.call(this._context,ue)}catch(te){return void this.destination.error(te)}this.destination.error(ue)}_complete(){try{this._tapComplete.call(this._context)}catch(ue){return void this.destination.error(ue)}return this.destination.complete()}}},4087:(Xe,be,L)=>{"use strict";L.d(be,{r:()=>k});var d=L(7574),ee=L(5319);function k(ce,ne){return new d.y(ie=>{const ge=new ee.w;let ue=0;return ge.add(ne.schedule(function(){ue!==ce.length?(ie.next(ce[ue++]),ie.closed||ge.add(this.schedule())):ie.complete()})),ge})}},6465:(Xe,be,L)=>{"use strict";L.d(be,{o:()=>k});var d=L(5319);class ee extends d.w{constructor(ne,ie){super()}schedule(ne,ie=0){return this}}class k extends ee{constructor(ne,ie){super(ne,ie),this.scheduler=ne,this.work=ie,this.pending=!1}schedule(ne,ie=0){if(this.closed)return this;this.state=ne;const ge=this.id,ue=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(ue,ge,ie)),this.pending=!0,this.delay=ie,this.id=this.id||this.requestAsyncId(ue,this.id,ie),this}requestAsyncId(ne,ie,ge=0){return setInterval(ne.flush.bind(ne,this),ge)}recycleAsyncId(ne,ie,ge=0){if(null!==ge&&this.delay===ge&&!1===this.pending)return ie;clearInterval(ie)}execute(ne,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(ne,ie);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,ie){let ue,ge=!1;try{this.work(ne)}catch(te){ge=!0,ue=!!te&&te||new Error(te)}if(ge)return this.unsubscribe(),ue}_unsubscribe(){const ne=this.id,ie=this.scheduler,ge=ie.actions,ue=ge.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ue&&ge.splice(ue,1),null!=ne&&(this.id=this.recycleAsyncId(ie,ne,null)),this.delay=null}}},6102:(Xe,be,L)=>{"use strict";L.d(be,{v:()=>ee});let d=(()=>{class k{constructor(ne,ie=k.now){this.SchedulerAction=ne,this.now=ie}schedule(ne,ie=0,ge){return new this.SchedulerAction(this,ne).schedule(ge,ie)}}return k.now=()=>Date.now(),k})();class ee extends d{constructor(ce,ne=d.now){super(ce,()=>ee.delegate&&ee.delegate!==this?ee.delegate.now():ne()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ce,ne=0,ie){return ee.delegate&&ee.delegate!==this?ee.delegate.schedule(ce,ne,ie):super.schedule(ce,ne,ie)}flush(ce){const{actions:ne}=this;if(this.active)return void ne.push(ce);let ie;this.active=!0;do{if(ie=ce.execute(ce.state,ce.delay))break}while(ce=ne.shift());if(this.active=!1,ie){for(;ce=ne.shift();)ce.unsubscribe();throw ie}}}},3637:(Xe,be,L)=>{"use strict";L.d(be,{z:()=>k});var d=L(6465);const k=new(L(6102).v)(d.o)},7771:(Xe,be,L)=>{"use strict";L.d(be,{c:()=>ie,N:()=>ne});var d=L(6465),k=L(6102);const ne=new class extends k.v{}(class extends d.o{constructor(ue,te){super(ue,te),this.scheduler=ue,this.work=te}schedule(ue,te=0){return te>0?super.schedule(ue,te):(this.delay=te,this.state=ue,this.scheduler.flush(this),this)}execute(ue,te){return te>0||this.closed?super.execute(ue,te):this._execute(ue,te)}requestAsyncId(ue,te,F=0){return null!==F&&F>0||null===F&&this.delay>0?super.requestAsyncId(ue,te,F):ue.flush(this)}}),ie=ne},377:(Xe,be,L)=>{"use strict";L.d(be,{hZ:()=>ee});const ee="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Xe,be,L)=>{"use strict";L.d(be,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Xe,be,L)=>{"use strict";L.d(be,{b:()=>d});const d="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Xe,be,L)=>{"use strict";L.d(be,{N:()=>ee});const ee=(()=>{function k(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return k.prototype=Object.create(Error.prototype),k})()},4449:(Xe,be,L)=>{"use strict";function d(ee){setTimeout(()=>{throw ee},0)}L.d(be,{z:()=>d})},4487:(Xe,be,L)=>{"use strict";function d(ee){return ee}L.d(be,{y:()=>d})},9796:(Xe,be,L)=>{"use strict";L.d(be,{k:()=>d});const d=Array.isArray||(ee=>ee&&"number"==typeof ee.length)},9489:(Xe,be,L)=>{"use strict";L.d(be,{z:()=>d});const d=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},9105:(Xe,be,L)=>{"use strict";function d(ee){return"function"==typeof ee}L.d(be,{m:()=>d})},1555:(Xe,be,L)=>{"use strict";function d(ee){return null!==ee&&"object"==typeof ee}L.d(be,{K:()=>d})},4072:(Xe,be,L)=>{"use strict";function d(ee){return!!ee&&"function"!=typeof ee.subscribe&&"function"==typeof ee.then}L.d(be,{t:()=>d})},4869:(Xe,be,L)=>{"use strict";function d(ee){return ee&&"function"==typeof ee.schedule}L.d(be,{K:()=>d})},7444:(Xe,be,L)=>{"use strict";L.d(be,{s:()=>V});var d=L(5015),ee=L(4449),ce=L(377),ie=L(6554),ue=L(9489),te=L(4072),F=L(1555);const V=J=>{if(J&&"function"==typeof J[ie.L])return(J=>Q=>{const le=J[ie.L]();if("function"!=typeof le.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return le.subscribe(Q)})(J);if((0,ue.z)(J))return(0,d.V)(J);if((0,te.t)(J))return(J=>Q=>(J.then(le=>{Q.closed||(Q.next(le),Q.complete())},le=>Q.error(le)).then(null,ee.z),Q))(J);if(J&&"function"==typeof J[ce.hZ])return(J=>Q=>{const le=J[ce.hZ]();for(;;){let we;try{we=le.next()}catch(he){return Q.error(he),Q}if(we.done){Q.complete();break}if(Q.next(we.value),Q.closed)break}return"function"==typeof le.return&&Q.add(()=>{le.return&&le.return()}),Q})(J);{const le=`You provided ${(0,F.K)(J)?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(le)}}},5015:(Xe,be,L)=>{"use strict";L.d(be,{V:()=>d});const d=ee=>k=>{for(let ce=0,ne=ee.length;ce<ne&&!k.closed;ce++)k.next(ee[ce]);k.complete()}},8141:(Xe,be,L)=>{"use strict";var d=L(3018);let ee=null;function k(){return ee}const ge=new d.OlP("DocumentToken");let ue=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,d.Yz7)({factory:te,token:n,providedIn:"platform"}),n})();function te(){return(0,d.LFG)(V)}const F=new d.OlP("Location Initialized");let V=(()=>{class n extends ue{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){J()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){J()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ge))},n.\u0275prov=(0,d.Yz7)({factory:Q,token:n,providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function Q(){return new V((0,d.LFG)(ge))}function le(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function we(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function he(n){return n&&"?"!==n[0]?"?"+n:n}let K=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,d.Yz7)({factory:_e,token:n,providedIn:"root"}),n})();function _e(n){const e=(0,d.LFG)(ge).location;return new fe((0,d.LFG)(ue),e&&e.origin||"")}const ye=new d.OlP("appBaseHref");let fe=(()=>{class n extends K{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return le(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+he(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const h=this.prepareExternalUrl(o+he(u));this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,u){const h=this.prepareExternalUrl(o+he(u));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue),d.LFG(ye,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),xe=(()=>{class n extends K{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=le(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let h=this.prepareExternalUrl(o+he(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,u){let h=this.prepareExternalUrl(o+he(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue),d.LFG(ye,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),ze=(()=>{class n{constructor(t,r){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=we(_t(o)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+he(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,_t(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+he(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+he(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(K),d.LFG(ue))},n.normalizeQueryParams=he,n.joinWithSlash=le,n.stripTrailingSlash=we,n.\u0275prov=(0,d.Yz7)({factory:ke,token:n,providedIn:"root"}),n})();function ke(){return new ze((0,d.LFG)(K),(0,d.LFG)(ue))}function _t(n){return n.replace(/\/index.html$/,"")}var It=(()=>((It=It||{})[It.Zero=0]="Zero",It[It.One=1]="One",It[It.Two=2]="Two",It[It.Few=3]="Few",It[It.Many=4]="Many",It[It.Other=5]="Other",It))();const Ir=d.kL8;class Jn{}let Fn=(()=>{class n extends Jn{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Ir(r||this.locale)(t)){case It.Zero:return"zero";case It.One:return"one";case It.Two:return"two";case It.Few:return"few";case It.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.soG))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function pt(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}let fi=(()=>{class n{constructor(t,r,o,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class bo{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Kr=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((o,u,h)=>{if(null==o.previousIndex){const m=this._viewContainer.createEmbeddedView(this._template,new bo(null,this._ngForOf,-1,-1),null===h?void 0:h),b=new Dr(o,m);r.push(b)}else if(null==h)this._viewContainer.remove(null===u?void 0:u);else if(null!==u){const m=this._viewContainer.get(u);this._viewContainer.move(m,h);const b=new Dr(o,m);r.push(b)}});for(let o=0;o<r.length;o++)this._perViewChange(r[o].view,r[o].record);for(let o=0,u=this._viewContainer.length;o<u;o++){const h=this._viewContainer.get(o);h.context.index=o,h.context.count=u,h.context.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{this._viewContainer.get(o.currentIndex).context.$implicit=o.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Dr{constructor(e,t){this.record=e,this.view=t}}let Sr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Ni,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){tn("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){tn("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Ni{constructor(){this.$implicit=null,this.ngIf=null}}function tn(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}let hn=(()=>{class n{constructor(t,r,o){this._ngEl=t,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[o,u]=t.split(".");null!=(r=null!=r&&u?`${r}${u}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,o,r):this._renderer.removeStyle(this._ngEl.nativeElement,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.aQg),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),ya=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[d.TTD]}),n})(),Ln=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[{provide:Jn,useClass:Fn}]}),n})();function sl(n){return"server"===n}let ol=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new jp((0,d.LFG)(ge),window)}),n})();class jp{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const h=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ba(this.window.history)||ba(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function ba(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class al{}class ll extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new ll,ee||(ee=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(ms=ms||document.querySelector("base"),ms?ms.getAttribute("href"):null);return null==t?null:function(n){Ki=Ki||document.createElement("a"),Ki.setAttribute("href",n);const e=Ki.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ms=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return pt(document.cookie,e)}}let Ki,ms=null;const fu=new d.OlP("TRANSITION_ID"),uh=[{provide:d.ip1,useFactory:function(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=k(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[fu,ge,d.zs3],multi:!0}];class Rt{static init(){(0,d.VLi)(new Rt)}addToWindow(e){d.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const o=d.dqk.getAllAngularTestabilities();let u=o.length,h=!1;const m=function(b){h=h||b,u--,0==u&&r(h)};o.forEach(function(b){b.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let wa=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const _s=new d.OlP("EventManagerPlugins");let Ks=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const h=o[u];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(_s),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class To{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=k().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let mu=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),vs=(()=>{class n extends mu{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const h=this._doc.createElement("style");h.textContent=u,o.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(kc),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(kc))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ge))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function kc(n){k().remove(n)}const Ce={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Tt=/%COMP%/g;function Ys(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?Ys(n,o,t):(o=o.replace(Tt,n),t.push(o))}return t}function fh(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Qi=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Ji(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case d.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Qs(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case d.ifc.ShadowDom:return new Mi(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Ys(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ks),d.LFG(vs),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Ji{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Ce[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=Ce[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Ce[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,o&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,fh(r)):this.eventManager.addEventListener(e,t,fh(r))}}class Qs extends Ji{constructor(e,t,r,o){super(e),this.component=r;const u=Ys(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr="_ngcontent-%COMP%".replace(Tt,o+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Tt,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Mi extends Ji{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Ys(o.id,o.styles,[]);for(let h=0;h<u.length;h++){const m=document.createElement("style");m.textContent=u[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Fc=(()=>{class n extends To{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ge))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Es=["alt","control","meta","shift"],Cu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Lr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Qr=(()=>{class n extends To{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),h=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,u.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let h="";if(Es.forEach(b=>{const I=r.indexOf(b);I>-1&&(r.splice(I,1),h+=b+".")}),h+=u,0!=r.length||0===u.length)return null;const m={};return m.domEventName=o,m.fullKey=h,m}static getEventFullKey(t){let r="",o=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&pl.hasOwnProperty(e)&&(e=pl[e]))}return Cu[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Es.forEach(u=>{u!=o&&Lr[u](t)&&(r+=u+".")}),r+=o,r}static eventCallback(t,r,o){return u=>{n.getEventFullKey(u)===t&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ge))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Sa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,d.Yz7)({factory:function(){return(0,d.LFG)(gl)},token:n,providedIn:"root"}),n})(),gl=(()=>{class n extends Sa{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case d.q3G.NONE:return r;case d.q3G.HTML:return(0,d.qzn)(r,"HTML")?(0,d.z3N)(r):(0,d.EiD)(this._doc,String(r)).toString();case d.q3G.STYLE:return(0,d.qzn)(r,"Style")?(0,d.z3N)(r):r;case d.q3G.SCRIPT:if((0,d.qzn)(r,"Script"))return(0,d.z3N)(r);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.yhl)(r),(0,d.qzn)(r,"URL")?(0,d.z3N)(r):(0,d.mCW)(String(r));case d.q3G.RESOURCE_URL:if((0,d.qzn)(r,"ResourceURL"))return(0,d.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,d.JVY)(t)}bypassSecurityTrustStyle(t){return(0,d.L6k)(t)}bypassSecurityTrustScript(t){return(0,d.eBb)(t)}bypassSecurityTrustUrl(t){return(0,d.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,d.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ge))},n.\u0275prov=(0,d.Yz7)({factory:function(){return function(n){return new gl(n.get(ge))}((0,d.LFG)(d.gxx))},token:n,providedIn:"root"}),n})();const Su=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function(){ll.makeCurrent(),Rt.init()},multi:!0},{provide:ge,useFactory:function(){return(0,d.RDi)(document),document},deps:[]}]),Js=[[],{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function(){return new d.qLn},deps:[]},{provide:_s,useClass:Fc,multi:!0,deps:[ge,d.R0b,d.Lbi]},{provide:_s,useClass:Qr,multi:!0,deps:[ge]},[],{provide:Qi,useClass:Qi,deps:[Ks,vs,d.AFp]},{provide:d.FYo,useExisting:Qi},{provide:mu,useExisting:vs},{provide:vs,useClass:vs,deps:[ge]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:Ks,useClass:Ks,deps:[_s,d.R0b]},{provide:al,useClass:wa,deps:[]},[]];let Ao=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:fu,useExisting:d.AFp},uh]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(n,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:Js,imports:[Ln,d.hGG]}),n})();"undefined"!=typeof window&&window;const Mu_firebase={apiKey:"AIzaSyDdr1qlprejKXoAFZMlQjFyydpQVwPEnxo",authDomain:"discord-317517.firebaseapp.com",projectId:"gmail-discord-317517",storageBucket:"gmail-discord-317517.appspot.com",messagingSenderId:"655120290017",appId:"1:655120290017:web:cca0478008d95becfca7a0",measurementId:"G-DY24J5LXSF",databaseURL:"https://gmail-discord-317517.firebaseio.com"};var Wt=L(4402),ot=L(5917),hr=L(9765),xa=L(7971);class tr extends hr.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new xa.N;return this._value}next(e){super.next(this._value=e)}}var bl=L(4869),nr=L(9796),Jr=L(7393);class Zp extends Jr.L{notifyNext(e,t,r,o,u){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Ra extends Jr.L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Eh=L(7444),zt=L(7574);function Lc(n,e,t,r,o=new Ra(n,t,r)){if(!o.closed)return e instanceof zt.y?e.subscribe(o):(0,Eh.s)(e)(o)}var Vc=L(6693);const Oo={};class Uc{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new bh(e,this.resultSelector))}}class bh extends Zp{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Oo),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(Lc(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const o=this.values,h=this.toRespond?o[r]===Oo?--this.toRespond:this.toRespond:0;o[r]=t,0===h&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const bs=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var Xi=L(3282);function ws(...n){return(0,Xi.J)(1)((0,ot.of)(...n))}var fr=L(9193);function Cs(n){return new zt.y(e=>{let t;try{t=n()}catch(o){return void e.error(o)}return(t?(0,Wt.D)(t):(0,fr.c)()).subscribe(e)})}var Mo=L(2441),ct=L(8002),Is=L(5345);function An(n,e){return"function"==typeof e?t=>t.pipe(An((r,o)=>(0,Wt.D)(n(r,o)).pipe((0,ct.U)((u,h)=>e(r,u,o,h))))):t=>t.lift(new wh(n))}class wh{constructor(e){this.project=e}call(e,t){return t.subscribe(new Ch(e,this.project))}}class Ch extends Is.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(o){return void this.destination.error(o)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new Is.IY(this),o=this.destination;o.add(r),this.innerSubscription=(0,Is.ft)(e,r),this.innerSubscription!==r&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const Yp=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function Ih(n){return e=>0===n?(0,fr.c)():e.lift(new on(n))}class on{constructor(e){if(this.total=e,this.total<0)throw new Yp}call(e,t){return t.subscribe(new Qp(e,this.total))}}class Qp extends Jr.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function wl(...n){const e=n[n.length-1];return(0,bl.K)(e)?(n.pop(),t=>ws(n,t,e)):t=>ws(n,t)}function ku(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(o){return o.lift(new Th(n,e,t))}}class Th{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new Jp(e,this.accumulator,this.seed,this.hasSeed))}}class Jp extends Jr.L{constructor(e,t,r,o){super(e),this.accumulator=t,this._seed=r,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(o){this.destination.error(o)}this.seed=r,this.destination.next(r)}}function yi(n,e){return function(r){return r.lift(new Dh(n,e))}}class Dh{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Sh(e,this.predicate,this.thisArg))}}class Sh extends Jr.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function Po(n){return function(t){const r=new Cl(n),o=t.lift(r);return r.caught=o}}class Cl{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Ah(e,this.selector,this.caught))}}class Ah extends Is.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(u){return void super.error(u)}this._unsubscribeAndRecycle();const r=new Is.IY(this);this.add(r);const o=(0,Is.ft)(t,r);o!==r&&this.add(o)}}}var zn=L(9773);function Fu(n,e){return(0,zn.zg)(n,e,1)}function _n(n){return function(t){return 0===n?(0,fr.c)():t.lift(new Lu(n))}}class Lu{constructor(e){if(this.total=e,this.total<0)throw new Yp}call(e,t){return t.subscribe(new Vu(e,this.total))}}class Vu extends Jr.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,o=this.count++;t.length<r?t.push(e):t[o%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,o=this.ring;for(let u=0;u<r;u++){const h=t++%r;e.next(o[h])}}e.complete()}}function Oa(n=ki){return e=>e.lift(new xh(n))}class xh{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new _i(e,this.errorFactory))}}class _i extends Jr.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function ki(){return new bs}function Fi(n=null){return e=>e.lift(new ko(n))}class ko{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Vr(e,this.defaultValue))}}class Vr extends Jr.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Uu=L(4487);function es(n,e){const t=arguments.length>=2;return r=>r.pipe(n?yi((o,u)=>n(o,u,r)):Uu.y,Ih(1),t?Fi(e):Oa(()=>new bs))}var vi=L(3342),Rh=L(1307),Oh=L(5319);class S{constructor(e){this.callback=e}call(e,t){return t.subscribe(new N(e,this.callback))}}class N extends Jr.L{constructor(e,t){super(e),this.add(new Oh.w(t))}}class U{constructor(e,t){this.id=e,this.url=t}}class Y extends U{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class oe extends U{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ie extends U{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class je extends U{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class He extends U{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jt extends U{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zt extends U{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rr extends U{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pr extends U{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ir{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ts{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Fo{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ts{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ds{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Na{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Il{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const wt="primary";class k0{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ss(n){return new k0(n)}const Bu="ngNavigationCancelingError";function Ma(n){const e=Error("NavigationCancelingError: "+n);return e[Bu]=!0,e}function On(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const h=r[u],m=n[u];if(h.startsWith(":"))o[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Lo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!Vo(n[o],e[o]))return!1;return!0}function Vo(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function Tl(n){return Array.prototype.concat.apply([],n)}function cy(n){return n.length>0?n[n.length-1]:null}function qn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Uo(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,Wt.D)(Promise.resolve(n)):(0,ot.of)(n)}const As={exact:function tg(n,e,t){if(!Dl(n.segments,e.segments)||!Gc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!tg(n.children[r],e.children[r],t))return!1;return!0},subset:Pa},jc={exact:function(n,e){return Lo(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Vo(n[t],e[t]))},ignored:()=>!0};function Bo(n,e,t){return As[t.paths](n.root,e.root,t.matrixParams)&&jc[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Pa(n,e,t){return $c(n,e,e.segments,t)}function $c(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Dl(o,t)||e.hasChildren()||!Gc(o,t,r))}if(n.segments.length===t.length){if(!Dl(n.segments,t)||!Gc(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!Pa(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Dl(n.segments,o)&&Gc(n.segments,o,r)&&n.children[wt])&&$c(n.children[wt],e,u,r)}}function Gc(n,e,t){return e.every((r,o)=>jc[t](n[o].parameters,r.parameters))}class jo{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ss(this.queryParams)),this._queryParamMap}toString(){return Vv.serialize(this)}}class Dt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,qn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ph(this)}}class Xs{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ss(this.parameters)),this._parameterMap}toString(){return qc(this)}}function Dl(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Mh{}class ng{parse(e){const t=new jv(e);return new jo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var n;return`${`/${zc(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Hu(t)}=${Hu(o)}`).join("&"):`${Hu(t)}=${Hu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const Vv=new ng;function Ph(n){return n.segments.map(e=>qc(e)).join("/")}function zc(n,e){if(!n.hasChildren())return Ph(n);if(e){const t=n.children[wt]?zc(n.children[wt],!1):"",r=[];return qn(n.children,(o,u)=>{u!==wt&&r.push(`${u}:${zc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return qn(n.children,(r,o)=>{o===wt&&(t=t.concat(e(r,o)))}),qn(n.children,(r,o)=>{o!==wt&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===wt?[zc(n.children[wt],!1)]:[`${o}:${zc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[wt]?`${Ph(n)}/${t[0]}`:`${Ph(n)}/(${t.join("//")})`}}function Sl(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hu(n){return Sl(n).replace(/%3B/gi,";")}function kh(n){return Sl(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fh(n){return decodeURIComponent(n)}function Lh(n){return Fh(n.replace(/\+/g,"%20"))}function qc(n){return`${kh(n.path)}${function(n){return Object.keys(n).map(e=>`;${kh(e)}=${kh(n[e])}`).join("")}(n.parameters)}`}const py=/^[^\/()?;=#]+/;function Wc(n){const e=n.match(py);return e?e[0]:""}const Al=/^[^=?&#]+/,Bv=/^[^?&#]+/;class jv{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[wt]=new Dt(e,t)),r}parseSegment(){const e=Wc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Xs(Fh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Wc(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Wc(this.remaining);o&&(r=o,this.capture(r))}e[Fh(t)]=Fh(r)}parseQueryParam(e){const t=function(n){const e=n.match(Al);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function(n){const e=n.match(Bv);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=Lh(t),u=Lh(r);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Wc(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=wt);const h=this.parseChildren();t[u]=1===Object.keys(h).length?h[wt]:new Dt([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class gy{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=xs(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=xs(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ka(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return ka(e,this._root).map(t=>t.value)}}function xs(n,e){if(n===e.value)return e;for(const t of e.children){const r=xs(n,t);if(r)return r}return null}function ka(n,e){if(n===e.value)return[e];for(const t of e.children){const r=ka(n,t);if(r.length)return r.unshift(e),r}return[]}class eo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Gu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class my extends gy{constructor(e,t){super(e),this.snapshot=t,Vh(this,e)}toString(){return this.snapshot.toString()}}function yy(n,e){const t=function(n,e){const h=new qu([],{},{},"",{},wt,e,null,n.root,-1,{});return new _y("",new eo(h,[]))}(n,e),r=new tr([new Xs("",{})]),o=new tr({}),u=new tr({}),h=new tr({}),m=new tr(""),b=new zu(r,o,h,m,u,wt,e,t.root);return b.snapshot=t.root,new my(new eo(b,[]),t)}class zu{constructor(e,t,r,o,u,h,m,b){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=h,this.component=m,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ct.U)(e=>Ss(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ct.U)(e=>Ss(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zc(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class qu{constructor(e,t,r,o,u,h,m,b,I,x,O){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=h,this.component=m,this.routeConfig=b,this._urlSegment=I,this._lastPathIndex=x,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ss(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ss(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _y extends gy{constructor(e,t){super(t),this.url=e,Vh(this,t)}toString(){return Gv(this._root)}}function Vh(n,e){e.value._routerState=n,e.children.forEach(t=>Vh(n,t))}function Gv(n){const e=n.children.length>0?` { ${n.children.map(Gv).join(", ")} } `:"";return`${n.value}${e}`}function Kc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Lo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Lo(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Lo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Lo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function xl(n,e){return Lo(n.params,e.params)&&function(n,e){return Dl(n,e)&&n.every((t,r)=>Lo(t.parameters,e[r].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||xl(n.parent,e.parent))}function Ei(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Ei(n,r,o);return Ei(n,r)})}(n,e,t);return new eo(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const h=u.route;return Wu(e,h),h}}const r=function(n){return new zu(new tr(n.url),new tr(n.params),new tr(n.queryParams),new tr(n.fragment),new tr(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>Ei(n,u));return new eo(r,o)}}function Wu(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)Wu(n.children[t],e.children[t])}function Ho(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Uh(n){return"object"==typeof n&&null!=n&&n.outlets}function by(n,e,t,r,o){let u={};return r&&qn(r,(h,m)=>{u[m]=Array.isArray(h)?h.map(b=>`${b}`):`${h}`}),new jo(t.root===n?e:Zu(t.root,n,e),u,o)}function Zu(n,e,t){const r={};return qn(n.children,(o,u)=>{r[u]=o===e?t:Zu(o,e,t)}),new Dt(n.segments,r)}class Bh{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ho(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(Uh);if(o&&o!==cy(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wy{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Cy(n,e,t){if(n||(n=new Dt([],{})),0===n.segments.length&&n.hasChildren())return Ku(n,e,t);const r=function(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const h=n.segments[o],m=t[r];if(Uh(m))break;const b=`${m}`,I=r<t.length-1?t[r+1]:null;if(o>0&&void 0===b)break;if(b&&I&&"object"==typeof I&&void 0===I.outlets){if(!Gh(b,I,h))return u;r+=2}else{if(!Gh(b,{},h))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Dt(n.segments.slice(0,r.pathIndex),{});return u.children[wt]=new Dt(n.segments.slice(r.pathIndex),n.children),Ku(u,0,o)}return r.match&&0===o.length?new Dt(n.segments,{}):r.match&&!n.hasChildren()?Hh(n,e,t):r.match?Ku(n,0,o):Hh(n,e,t)}function Ku(n,e,t){if(0===t.length)return new Dt(n.segments,{});{const r=function(n){return Uh(n[0])?n[0].outlets:{[wt]:n}}(t),o={};return qn(r,(u,h)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[h]=Cy(n.children[h],e,u))}),qn(n.children,(u,h)=>{void 0===r[h]&&(o[h]=u)}),new Dt(n.segments,o)}}function Hh(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(Uh(u)){const b=$h(u.outlets);return new Dt(r,b)}if(0===o&&Ho(t[0])){r.push(new Xs(n.segments[e].path,og(t[0]))),o++;continue}const h=Uh(u)?u.outlets[wt]:`${u}`,m=o<t.length-1?t[o+1]:null;h&&m&&Ho(m)?(r.push(new Xs(h,og(m))),o+=2):(r.push(new Xs(h,{})),o++)}return new Dt(r,{})}function $h(n){const e={};return qn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Hh(new Dt([],{}),0,t))}),e}function og(n){const e={};return qn(n,(t,r)=>e[r]=`${t}`),e}function Gh(n,e,t){return n==t.path&&Lo(e,t.parameters)}class vn{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Kc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Gu(t);e.children.forEach(u=>{const h=u.value.outlet;this.deactivateRoutes(u,o[h],r),delete o[h]}),qn(o,(u,h)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const o=r.outlet.detach(),u=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:u})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Gu(e);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Gu(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new Na(u.value.snapshot))}),e.children.length&&this.forwardEvent(new ts(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(Kc(o),o===u)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),ag(m.route)}else{const m=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),b=m?m.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=b,h.outlet&&h.outlet.activateWith(o,b),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}function ag(n){Kc(n.value),n.children.forEach(ag)}class Rl{constructor(e,t){this.routes=e,this.module=t}}function Rs(n){return"function"==typeof n}function Ol(n){return n instanceof jo}const Qc=Symbol("INITIAL_VALUE");function $o(){return An(n=>function(...n){let e,t;return(0,bl.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,nr.k)(n[0])&&(n=n[0]),(0,Vc.n)(n,t).lift(new Uc(e))}(n.map(e=>e.pipe(Ih(1),wl(Qc)))).pipe(ku((e,t)=>{let r=!1;return t.reduce((o,u,h)=>o!==Qc?o:(u===Qc&&(r=!0),r||!1!==u&&h!==t.length-1&&!Ol(u)?o:u),e)},Qc),yi(e=>e!==Qc),(0,ct.U)(e=>Ol(e)?e:!0===e),Ih(1)))}let Ur=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},directives:function(){return[ky]},encapsulation:2}),n})();function qh(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Ty(r,Jc(e,r))}}function Ty(n,e){n.children&&qh(n.children,e)}function Jc(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function gr(n){const e=n.children&&n.children.map(gr),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==wt&&(t.component=Ur),t}function Ar(n){return n.outlet||wt}function Wh(n,e){const t=n.filter(r=>Ar(r)===e);return t.push(...n.filter(r=>Ar(r)!==e)),t}const Dy={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Zh(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Dy):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const u=(e.matcher||On)(t,n,e);if(!u)return Object.assign({},Dy);const h={};qn(u.posParams,(b,I)=>{h[I]=b.path});const m=u.consumed.length>0?Object.assign(Object.assign({},h),u.consumed[u.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:u.consumed,lastChild:u.consumed.length,parameters:m,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function Xc(n,e,t,r,o="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>Yh(n,e,r)&&Ar(r)!==wt)}(n,t,r)){const h=new Dt(e,function(n,e,t,r){const o={};o[wt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Ar(u)!==wt){const h=new Dt([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[Ar(u)]=h}return o}(n,e,r,new Dt(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>Yh(n,e,r))}(n,t,r)){const h=new Dt(n.segments,function(n,e,t,r,o,u){const h={};for(const m of r)if(Yh(n,t,m)&&!o[Ar(m)]){const b=new Dt([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===u?n.segments.length:e.length,h[Ar(m)]=b}return Object.assign(Object.assign({},o),h)}(n,e,t,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const u=new Dt(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function Yh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Qh(n,e,t,r){return!!(Ar(n)===r||r!==wt&&Yh(e,t,n))&&("**"===n.path||Zh(e,n,t).matched)}function bi(n,e,t){return 0===e.length&&!n.children[t]}class to{constructor(e){this.segmentGroup=e||null}}class ed{constructor(e){this.urlTree=e}}function td(n){return new zt.y(e=>e.error(new to(n)))}function Jh(n){return new zt.y(e=>e.error(new ed(n)))}function Ay(n){return new zt.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Jv{constructor(e,t,r,o,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(d.h0i)}apply(){const e=Xc(this.urlTree.root,[],[],this.config).segmentGroup,t=new Dt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,wt).pipe((0,ct.U)(u=>this.createUrlTree(Go(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Po(u=>{if(u instanceof ed)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof to?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,wt).pipe((0,ct.U)(o=>this.createUrlTree(Go(o),e.queryParams,e.fragment))).pipe(Po(o=>{throw o instanceof to?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new Dt([],{[wt]:e}):e;return new jo(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,ct.U)(u=>new Dt([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,Wt.D)(o).pipe(Fu(u=>{const h=r.children[u],m=Wh(t,u);return this.expandSegmentGroup(e,m,h,u).pipe((0,ct.U)(b=>({segment:b,outlet:u})))}),ku((u,h)=>(u[h.outlet]=h.segment,u),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?yi((o,u)=>n(o,u,r)):Uu.y,_n(1),t?Fi(e):Oa(()=>new bs))}())}expandSegment(e,t,r,o,u,h){return(0,Wt.D)(r).pipe(Fu(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,u,h).pipe(Po(I=>{if(I instanceof to)return(0,ot.of)(null);throw I}))),es(m=>!!m),Po((m,b)=>{if(m instanceof bs||"EmptyError"===m.name){if(bi(t,o,u))return(0,ot.of)(new Dt([],{}));throw new to(t)}throw m}))}expandSegmentAgainstRoute(e,t,r,o,u,h,m){return Qh(o,t,u,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h):td(t):td(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Jh(u):this.lineralizeSegments(r,u).pipe((0,zn.zg)(h=>{const m=new Dt(h,{});return this.expandSegment(e,m,t,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h){const{matched:m,consumedSegments:b,lastChild:I,positionalParamSegments:x}=Zh(t,o,u);if(!m)return td(t);const O=this.applyRedirectCommands(b,o.redirectTo,x);return o.redirectTo.startsWith("/")?Jh(O):this.lineralizeSegments(o,O).pipe((0,zn.zg)(j=>this.expandSegment(e,t,r,j.concat(u.slice(I)),h,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,ot.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,ct.U)(j=>(r._loadedConfig=j,new Dt(o,{})))):(0,ot.of)(new Dt(o,{}));const{matched:h,consumedSegments:m,lastChild:b}=Zh(t,r,o);if(!h)return td(t);const I=o.slice(b);return this.getChildConfig(e,r,o).pipe((0,zn.zg)(O=>{const j=O.module,B=O.routes,{segmentGroup:Z,slicedSegments:pe}=Xc(t,m,I,B),Se=new Dt(Z.segments,Z.children);if(0===pe.length&&Se.hasChildren())return this.expandChildren(j,B,Se).pipe((0,ct.U)(at=>new Dt(m,at)));if(0===B.length&&0===pe.length)return(0,ot.of)(new Dt(m,{}));const Be=Ar(r)===u;return this.expandSegment(j,Se,B,pe,Be?wt:u,!0).pipe((0,ct.U)(Ot=>new Dt(m.concat(Ot.segments),Ot.children)))}))}getChildConfig(e,t,r){return t.children?(0,ot.of)(new Rl(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,ot.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,zn.zg)(o=>{return o?this.configLoader.load(e.injector,t).pipe((0,ct.U)(u=>(t._loadedConfig=u,u))):(n=t,new zt.y(e=>e.error(Ma(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,ot.of)(new Rl([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;if(!o||0===o.length)return(0,ot.of)(!0);const u=o.map(h=>{const m=e.get(h);let b;if((n=m)&&Rs(n.canLoad))b=m.canLoad(t,r);else{if(!Rs(m))throw new Error("Invalid CanLoad guard");b=m(t,r)}var n;return Uo(b)});return(0,ot.of)(u).pipe($o(),(0,vi.b)(h=>{if(!Ol(h))return;const m=Ma(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),(0,ct.U)(h=>!0===h))}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,ot.of)(r);if(o.numberOfChildren>1||!o.children[wt])return Ay(e.redirectTo);o=o.children[wt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new jo(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return qn(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[u]=t[m]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let h={};return qn(t.children,(m,b)=>{h[b]=this.createSegmentGroup(e,m,r,o)}),new Dt(u,h)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function Go(n){const e={};for(const r of Object.keys(n.children)){const u=Go(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function(n){if(1===n.numberOfChildren&&n.children[wt]){const e=n.children[wt];return new Dt(n.segments.concat(e.segments),e.children)}return n}(new Dt(n.segments,e))}class Ry{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Xh{constructor(e,t){this.component=e,this.route=t}}function Oy(n,e,t){const r=n._root;return Yu(r,e?e._root:null,t,[r.value])}function zo(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Yu(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Gu(e);return n.children.forEach(h=>{(function(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,h=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(h&&u.routeConfig===h.routeConfig){const b=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Dl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Dl(n.url,e.url)||!Lo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xl(n,e)||!Lo(n.queryParams,e.queryParams);case"paramsChange":default:return!xl(n,e)}}(h,u,u.routeConfig.runGuardsAndResolvers);b?o.canActivateChecks.push(new Ry(r)):(u.data=h.data,u._resolvedData=h._resolvedData),Yu(n,e,u.component?m?m.children:null:t,r,o),b&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new Xh(m.outlet.component,h))}else h&&Nl(e,m,o),o.canActivateChecks.push(new Ry(r)),Yu(n,null,u.component?m?m.children:null:t,r,o)})(h,u[h.value.outlet],t,r.concat([h.value]),o),delete u[h.value.outlet]}),qn(u,(h,m)=>Nl(h,t.getContext(m),o)),o}function Nl(n,e,t){const r=Gu(n),o=n.value;qn(r,(u,h)=>{Nl(u,o.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new Xh(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class g{}function E(n){return new zt.y(e=>e.error(n))}class R{constructor(e,t,r,o,u,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h}recognize(){const e=Xc(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,wt);if(null===t)return null;const r=new qu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},wt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new eo(r,t),u=new _y(this.url,o);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=Zc(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const h=t.children[u],m=Wh(e,u),b=this.processSegmentGroup(m,h,u);if(null===b)return null;r.push(...b)}const o=Re(r);return o.sort((e,t)=>e.value.outlet===wt?-1:t.value.outlet===wt?1:e.value.outlet.localeCompare(t.value.outlet)),o}processSegment(e,t,r,o){for(const u of e){const h=this.processSegmentAgainstRoute(u,t,r,o);if(null!==h)return h}return bi(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!Qh(e,t,r,o))return null;let u,h=[],m=[];if("**"===e.path){const B=r.length>0?cy(r).parameters:{};u=new qu(r,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Un(e),Ar(e),e.component,e,We(t),Mt(t)+r.length,Os(e))}else{const B=Zh(t,e,r);if(!B.matched)return null;h=B.consumedSegments,m=r.slice(B.lastChild),u=new qu(h,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Un(e),Ar(e),e.component,e,We(t),Mt(t)+h.length,Os(e))}const b=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:I,slicedSegments:x}=Xc(t,h,m,b.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);var n;if(0===x.length&&I.hasChildren()){const B=this.processChildren(b,I);return null===B?null:[new eo(u,B)]}if(0===b.length&&0===x.length)return[new eo(u,[])];const O=Ar(e)===o,j=this.processSegment(b,I,x,O?wt:o);return null===j?null:[new eo(u,j)]}}function Me(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Re(n){const e=[],t=new Set;for(const r of n){if(!Me(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=Re(r.children);e.push(new eo(r.value,o))}return e.filter(r=>!t.has(r))}function We(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Mt(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Un(n){return n.data||{}}function Os(n){return n.resolve||{}}function rf(n){return An(e=>{const t=n(e);return t?(0,Wt.D)(t).pipe((0,ct.U)(()=>e)):(0,ot.of)(e)})}class My extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const dg=new d.OlP("ROUTES");class of{constructor(e,t,r,o){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,ct.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=u.create(e);return new Rl(Tl(h.injector.get(dg,void 0,d.XFs.Self|d.XFs.Optional)).map(gr),h)}),Po(u=>{throw t._loader$=void 0,u}));return t._loader$=new Mo.c(o,()=>new hr.xQ).pipe((0,Rh.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,Wt.D)(this.loader.load(e)):Uo(e()).pipe((0,zn.zg)(t=>t instanceof d.YKP?(0,ot.of)(t):(0,Wt.D)(this.compiler.compileModuleAsync(t))))}}class iE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new af,this.attachRef=null}}class af{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new iE,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class sE{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function U0(n){throw n}function oE(n,e,t){return e.parse("/")}function B0(n,e){return(0,ot.of)(null)}const kS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},j0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ii=(()=>{class n{constructor(t,r,o,u,h,m,b,I){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=I,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new hr.xQ,this.errorHandler=U0,this.malformedUriErrorHandler=oE,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:B0,afterPreactivation:B0},this.urlHandlingStrategy=new sE,this.routeReuseStrategy=new My,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(d.h0i),this.console=h.get(d.c2e);const j=h.get(d.R0b);this.isNgZoneEnabled=j instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(I),this.currentUrlTree=new jo(new Dt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new of(m,b,B=>this.triggerEvent(new ir(B)),B=>this.triggerEvent(new Ts(B))),this.routerState=yy(this.currentUrlTree,this.rootComponentType),this.transitions=new tr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(yi(o=>0!==o.id),(0,ct.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),An(o=>{let u=!1,h=!1;return(0,ot.of)(o).pipe((0,vi.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),An(m=>{const b=this.browserUrlTree.toString(),I=!this.navigated||m.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||I)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return hg(m.source)&&(this.browserUrlTree=m.extractedUrl),(0,ot.of)(m).pipe(An(O=>{const j=this.transitions.getValue();return r.next(new Y(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),j!==this.transitions.getValue()?fr.E:Promise.resolve(O)}),function(n,e,t,r){return An(o=>function(n,e,t,r,o){return new Jv(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,ct.U)(u=>Object.assign(Object.assign({},o),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,vi.b)(O=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:O.urlAfterRedirects})}),function(n,e,t,r,o){return(0,zn.zg)(u=>function(n,e,t,r,o="emptyOnly",u="legacy"){try{const h=new R(n,e,t,r,o,u).recognize();return null===h?E(new g):(0,ot.of)(h)}catch(h){return E(h)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,o).pipe((0,ct.U)(h=>Object.assign(Object.assign({},u),{targetSnapshot:h}))))}(this.rootComponentType,this.config,O=>this.serializeUrl(O),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,vi.b)(O=>{"eager"===this.urlUpdateStrategy&&(O.extras.skipLocationChange||this.setBrowserUrl(O.urlAfterRedirects,O),this.browserUrlTree=O.urlAfterRedirects);const j=new He(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);r.next(j)}));if(I&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:j,extractedUrl:B,source:Z,restoredState:pe,extras:Se}=m,Be=new Y(j,this.serializeUrl(B),Z,pe);r.next(Be);const st=yy(B,this.rootComponentType).snapshot;return(0,ot.of)(Object.assign(Object.assign({},m),{targetSnapshot:st,urlAfterRedirects:B,extras:Object.assign(Object.assign({},Se),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,this.browserUrlTree=m.urlAfterRedirects,m.resolve(null),fr.E}),rf(m=>{const{targetSnapshot:b,id:I,extractedUrl:x,rawUrl:O,extras:{skipLocationChange:j,replaceUrl:B}}=m;return this.hooks.beforePreactivation(b,{navigationId:I,appliedUrlTree:x,rawUrlTree:O,skipLocationChange:!!j,replaceUrl:!!B})}),(0,vi.b)(m=>{const b=new jt(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),(0,ct.U)(m=>Object.assign(Object.assign({},m),{guards:Oy(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function(n,e){return(0,zn.zg)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:h}}=t;return 0===h.length&&0===u.length?(0,ot.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return(0,Wt.D)(n).pipe((0,zn.zg)(o=>function(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,ot.of)(!0);const h=u.map(m=>{const b=zo(m,e,o);let I;if(function(n){return n&&Rs(n.canDeactivate)}(b))I=Uo(b.canDeactivate(n,e,t,r));else{if(!Rs(b))throw new Error("Invalid CanDeactivate guard");I=Uo(b(n,e,t,r))}return I.pipe(es())});return(0,ot.of)(h).pipe($o())}(o.component,o.route,t,e,r)),es(o=>!0!==o,!0))}(h,r,o,n).pipe((0,zn.zg)(m=>m&&function(n){return"boolean"==typeof n}(m)?function(n,e,t,r){return(0,Wt.D)(e).pipe(Fu(o=>ws(function(n,e){return null!==n&&e&&e(new Fo(n)),(0,ot.of)(!0)}(o.route.parent,r),function(n,e){return null!==n&&e&&e(new Ds(n)),(0,ot.of)(!0)}(o.route,r),function(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(h=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>Cs(()=>{const m=h.guards.map(b=>{const I=zo(b,h.node,t);let x;if(function(n){return n&&Rs(n.canActivateChild)}(I))x=Uo(I.canActivateChild(r,n));else{if(!Rs(I))throw new Error("Invalid CanActivateChild guard");x=Uo(I(r,n))}return x.pipe(es())});return(0,ot.of)(m).pipe($o())}));return(0,ot.of)(u).pipe($o())}(n,o.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,ot.of)(!0);const o=r.map(u=>Cs(()=>{const h=zo(u,e,t);let m;if(function(n){return n&&Rs(n.canActivate)}(h))m=Uo(h.canActivate(e,n));else{if(!Rs(h))throw new Error("Invalid CanActivate guard");m=Uo(h(e,n))}return m.pipe(es())}));return(0,ot.of)(o).pipe($o())}(n,o.route,t))),es(o=>!0!==o,!0))}(r,u,n,e):(0,ot.of)(m)),(0,ct.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,vi.b)(m=>{if(Ol(m.guardsResult)){const I=Ma(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw I.url=m.guardsResult,I}const b=new Zt(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(b)}),yi(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),rf(m=>{if(m.guards.canActivateChecks.length)return(0,ot.of)(m).pipe((0,vi.b)(b=>{const I=new rr(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(I)}),An(b=>{let I=!1;return(0,ot.of)(b).pipe(function(n,e){return(0,zn.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,ot.of)(t);let u=0;return(0,Wt.D)(o).pipe(Fu(h=>function(n,e,t,r){return function(n,e,t,r){const o=Object.keys(n);if(0===o.length)return(0,ot.of)({});const u={};return(0,Wt.D)(o).pipe((0,zn.zg)(h=>function(n,e,t,r){const o=zo(n,e,r);return Uo(o.resolve?o.resolve(e,t):o(e,t))}(n[h],e,t,r).pipe((0,vi.b)(m=>{u[h]=m}))),_n(1),(0,zn.zg)(()=>Object.keys(u).length===o.length?(0,ot.of)(u):fr.E))}(n._resolve,n,e,r).pipe((0,ct.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),Zc(n,t).resolve),null)))}(h.route,r,n,e)),(0,vi.b)(()=>u++),_n(1),(0,zn.zg)(h=>u===o.length?(0,ot.of)(t):fr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,vi.b)({next:()=>I=!0,complete:()=>{I||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,vi.b)(b=>{const I=new pr(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(I)}))}),rf(m=>{const{targetSnapshot:b,id:I,extractedUrl:x,rawUrl:O,extras:{skipLocationChange:j,replaceUrl:B}}=m;return this.hooks.afterPreactivation(b,{navigationId:I,appliedUrlTree:x,rawUrlTree:O,skipLocationChange:!!j,replaceUrl:!!B})}),(0,ct.U)(m=>{const b=function(n,e,t){const r=Ei(n,e._root,t?t._root:void 0);return new my(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:b})}),(0,vi.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,ct.U)(r=>(new vn(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,vi.b)({next(){u=!0},complete(){u=!0}}),function(n){return e=>e.lift(new S(n))}(()=>{var m;if(!u&&!h){const b=`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(o),this.cancelNavigationTransition(o,b)):this.cancelNavigationTransition(o,b)}(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===o.id&&(this.currentNavigation=null)}),Po(m=>{if(h=!0,function(n){return n&&n[Bu]}(m)){const b=Ol(m.url);b||(this.navigated=!0,this.restoreHistory(o,!0));const I=new Ie(o.id,this.serializeUrl(o.extractedUrl),m.message);r.next(I),b?setTimeout(()=>{const x=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),O={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||hg(o.source)};this.scheduleNavigation(x,"imperative",null,O,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const b=new je(o.id,this.serializeUrl(o.extractedUrl),m);r.next(b);try{o.resolve(this.errorHandler(m))}catch(I){o.reject(I)}}return fr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:o,state:u,urlTree:h}=r,m={replaceUrl:!0};if(u){const b=Object.assign({},u);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(m.state=b)}this.scheduleNavigation(h,o,u,m)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const o=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!o||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){qh(t),this.config=t.map(gr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:h,queryParamsHandling:m,preserveFragment:b}=r,I=o||this.routerState.root,x=b?this.currentUrlTree.fragment:h;let O=null;switch(m){case"merge":O=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=u||null}return null!==O&&(O=this.removeEmptyProps(O)),function(n,e,t,r,o){if(0===t.length)return by(e.root,e.root,e,r,o);const u=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Bh(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,h)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return qn(u.outlets,(b,I)=>{m[I]="string"==typeof b?b.split("/"):b}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===h?(u.split("/").forEach((m,b)=>{0==b&&"."===m||(0==b&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new Bh(t,e,r)}(t);if(u.toRoot())return by(e.root,new Dt([],{}),e,r,o);const h=function(n,e,t){if(n.isAbsolute)return new wy(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new wy(u,u===e.root,0)}const r=Ho(n.commands[0])?0:1;return function(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new wy(r,!1,o-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),m=h.processChildren?Ku(h.segmentGroup,h.index,u.commands):Cy(h.segmentGroup,h.index,u.commands);return by(h.segmentGroup,m,e,r,o)}(I,this.currentUrlTree,t,O,null!=x?x:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Ol(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},kS):!1===r?Object.assign({},j0):r,Ol(t))return Bo(this.currentUrlTree,t,o);const u=this.parseUrl(t);return Bo(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new oe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,h){var m,b;if(this.disposed)return Promise.resolve(!1);const I=this.getTransition(),x=hg(r)&&I&&!hg(I.source),B=(this.lastSuccessfulId===I.id||this.currentNavigation?I.rawUrl:I.urlAfterRedirects).toString()===t.toString();if(x&&B)return Promise.resolve(!0);let Z,pe,Se;h?(Z=h.resolve,pe=h.reject,Se=h.promise):Se=new Promise((Ot,at)=>{Z=Ot,pe=at});const Be=++this.navigationId;let st;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),st=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):st=0,this.setTransition({id:Be,targetPageId:st,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:Z,reject:pe,promise:Se,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Se.catch(Ot=>Promise.reject(Ot))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){var o,u;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new Ie(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.DyG),d.LFG(Mh),d.LFG(af),d.LFG(ze),d.LFG(d.zs3),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(void 0))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function hg(n){return"imperative"!==n}let ky=(()=>{class n{constructor(t,r,o,u,h){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.name=u||wt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,b=new $0(t,m,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(af),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class $0{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===zu?this.route:e===af?this.childContexts:this.parent.get(e,t)}}class Fy{}class fg{preload(e,t){return(0,ot.of)(null)}}let pg=(()=>{class n{constructor(t,r,o,u,h){this.router=t,this.injector=u,this.preloadingStrategy=h,this.loader=new of(r,o,I=>t.triggerEvent(new ir(I)),I=>t.triggerEvent(new Ts(I)))}setUpPreloading(){this.subscription=this.router.events.pipe(yi(t=>t instanceof oe),Fu(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(d.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const h=u._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else u.loadChildren&&!u.canLoad?o.push(this.preloadConfig(t,u)):u.children&&o.push(this.processRoutes(t,u.children));return(0,Wt.D)(o).pipe((0,Xi.J)(),(0,ct.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,ot.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,zn.zg)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ii),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(Fy))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ly=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Y?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof oe&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Il&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Il(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ii),d.LFG(ol),d.LFG(void 0))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ju=new d.OlP("ROUTER_CONFIGURATION"),Vy=new d.OlP("ROUTER_FORROOT_GUARD"),LS=[ze,{provide:Mh,useClass:ng},{provide:Ii,useFactory:function(n,e,t,r,o,u,h,m={},b,I){const x=new Ii(null,n,e,t,r,o,u,Tl(h));return b&&(x.urlHandlingStrategy=b),I&&(x.routeReuseStrategy=I),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(m,x),m.enableTracing&&x.events.subscribe(O=>{var j,B;null===(j=console.group)||void 0===j||j.call(console,`Router Event: ${O.constructor.name}`),console.log(O.toString()),console.log(O),null===(B=console.groupEnd)||void 0===B||B.call(console)}),x},deps:[Mh,af,ze,d.zs3,d.v3s,d.Sil,dg,Ju,[class{},new d.FiY],[class{},new d.FiY]]},af,{provide:zu,useFactory:function(n){return n.routerState.root},deps:[Ii]},{provide:d.v3s,useClass:d.EAV},pg,fg,class{preload(e,t){return t().pipe(Po(()=>(0,ot.of)(null)))}},{provide:Ju,useValue:{enableTracing:!1}}];function q0(){return new d.PXZ("Router",Ii)}let lE=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[LS,cE(t),{provide:Vy,useFactory:uE,deps:[[Ii,new d.FiY,new d.tp0]]},{provide:Ju,useValue:r||{}},{provide:K,useFactory:W0,deps:[ue,[new d.tBr(ye),new d.FiY],Ju]},{provide:Ly,useFactory:VS,deps:[Ii,ol,Ju]},{provide:Fy,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:fg},{provide:d.PXZ,multi:!0,useFactory:q0},[Uy,{provide:d.ip1,multi:!0,useFactory:BS,deps:[Uy]},{provide:no,useFactory:jS,deps:[Uy]},{provide:d.tb,multi:!0,useExisting:no}]]}}static forChild(t){return{ngModule:n,providers:[cE(t)]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Vy,8),d.LFG(Ii,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function VS(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Ly(n,e,t)}function W0(n,e,t={}){return t.useHash?new xe(n,e):new fe(n,e)}function uE(n){return"guarded"}function cE(n){return[{provide:d.deG,multi:!0,useValue:n},{provide:dg,multi:!0,useValue:n}]}let Uy=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new hr.xQ}appInitializer(){return this.injector.get(F,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),u=this.injector.get(Ii),h=this.injector.get(Ju);return"disabled"===h.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?(0,ot.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(Ju),o=this.injector.get(pg),u=this.injector.get(Ly),h=this.injector.get(Ii),m=this.injector.get(d.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),u.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function BS(n){return n.appInitializer.bind(n)}function jS(n){return n.bootstrapListener.bind(n)}const no=new d.OlP("Router Initializer");var GS=L(3637),Xr=L(4765);function dE(){return n=>n.lift(new zS)}class zS{call(e,t){return t.subscribe(new K0(e))}}class K0 extends Jr.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class WS{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new ZS(e,this.compare,this.keySelector))}}class ZS extends Jr.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:o}=this;t=o?o(e):e}catch(o){return this.destination.error(o)}let r=!1;if(this.hasKey)try{const{compare:o}=this;r=o(this.key,t)}catch(o){return this.destination.error(o)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}var Ge,it=L(8939),Y0=(L(941),L(3394)),me=L(8239),ei=L(8026),mg=L(3910),Xu=L(5422),kt=L(3854),kl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Wo={},yg=yg||{},Ct=kl||self;function _g(){}function Q0(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ns(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var lf="closure_uid_"+(1e9*Math.random()>>>0),hE=0;function xN(n,e,t){return n.call.apply(n.bind,arguments)}function YS(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Br(n,e,t){return(Br=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xN:YS).apply(null,arguments)}function fE(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ti(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,u){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return e.prototype[o].apply(r,h)}}function od(){this.s=this.s,this.o=this.o}var X0={};od.prototype.s=!1,od.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,lf)&&n[lf]||(n[lf]=++hE)}(this);delete X0[n]}},od.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const eC=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},jy=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in o&&e.call(t,o[u],u,n)};function QS(n){return Array.prototype.concat.apply([],arguments)}function tC(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function pE(n){return/^[\s\xa0]*$/.test(n)}var rs,JS=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ns(n,e){return-1!=n.indexOf(e)}function nC(n,e){return n<e?-1:n>e?1:0}e:{var XS=Ct.navigator;if(XS){var eA=XS.userAgent;if(eA){rs=eA;break e}}rs=""}function rC(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Fl(n){const e={};for(const t in n)e[t]=n[t];return e}var Hy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iC(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<Hy.length;u++)t=Hy[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function $y(n){return $y[" "](n),n}$y[" "]=_g;var uf,n,sC=ns(rs,"Opera"),ec=ns(rs,"Trident")||ns(rs,"MSIE"),oC=ns(rs,"Edge"),La=oC||ec,mE=ns(rs,"Gecko")&&!(ns(rs.toLowerCase(),"webkit")&&!ns(rs,"Edge"))&&!(ns(rs,"Trident")||ns(rs,"MSIE"))&&!ns(rs,"Edge"),tA=ns(rs.toLowerCase(),"webkit")&&!ns(rs,"Edge");function nA(){var n=Ct.document;return n?n.documentMode:void 0}e:{var yE="",Gy=(n=rs,mE?/rv:([^\);]+)(\)|;)/.exec(n):oC?/Edge\/([\d\.]+)/.exec(n):ec?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):tA?/WebKit\/(\S+)/.exec(n):sC?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Gy&&(yE=Gy?Gy[1]:""),ec){var _E=nA();if(null!=_E&&_E>parseFloat(yE)){uf=String(_E);break e}}uf=yE}var rA={};function vg(){return e=rA,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=JS(String(uf)).split("."),t=JS("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var o=e[h]||"",u=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=nC(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||nC(0==o[2].length,0==u[2].length)||nC(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n}();var e}var cf=Ct.document&&ec&&(nA()||parseInt(uf,10))||void 0,Eg=function(){if(!Ct.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ct.addEventListener("test",_g,e),Ct.removeEventListener("test",_g,e)}catch(t){}return n}();function sr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function bg(n,e){if(sr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(mE){e:{try{$y(e.nodeName);var o=!0;break e}catch(u){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:aC[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&bg.Z.h.call(this)}}sr.prototype.h=function(){this.defaultPrevented=!0},ti(bg,sr);var aC={2:"touch",3:"pen",4:"mouse"};bg.prototype.h=function(){bg.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var df="closure_listenable_"+(1e6*Math.random()|0),vE=0;function EE(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++vE,this.ca=this.fa=!1}function wg(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function ad(n){this.src=n,this.g={},this.h=0}function bE(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=eC(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(wg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function qy(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return o}return-1}ad.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var h=qy(n,e,r,o);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new EE(e,this.src,u,!!r,o)).fa=t,n.push(e)),e};var lC="closure_lm_"+(1e6*Math.random()|0),Wy={};function wE(n,e,t,r,o){if(r&&r.once)return dC(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)wE(n,e[u],t,r,o);return null}return t=Zy(t),n&&n[df]?n.N(e,t,Ns(r)?!!r.capture:!!r,o):uC(n,e,t,!1,r,o)}function uC(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var h=Ns(o)?!!o.capture:!!o,m=pC(n);if(m||(n[lC]=m=new ad(n)),(t=m.add(e,t,r,h,u)).proxy)return t;if(r=function(){var e=iA;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Eg||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(fC(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function dC(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)dC(n,e[u],t,r,o);return null}return t=Zy(t),n&&n[df]?n.O(e,t,Ns(r)?!!r.capture:!!r,o):uC(n,e,t,!0,r,o)}function hC(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)hC(n,e[u],t,r,o);else r=Ns(r)?!!r.capture:!!r,t=Zy(t),n&&n[df]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=qy(u=n.g[e],t,r,o))&&(wg(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=pC(n))&&(e=n.g[e.toString()],n=-1,e&&(n=qy(e,t,r,o)),(t=-1<n?e[n]:null)&&Li(t))}function Li(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[df])bE(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(fC(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=pC(e))?(bE(t,n),0==t.h&&(t.src=null,e[lC]=null)):wg(n)}}}function fC(n){return n in Wy?Wy[n]:Wy[n]="on"+n}function iA(n,e){if(n.ca)n=!0;else{e=new bg(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Li(n),n=t.call(r,e)}return n}function pC(n){return(n=n[lC])instanceof ad?n:null}var gC="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zy(n){return"function"==typeof n?n:(n[gC]||(n[gC]=function(e){return n.handleEvent(e)}),n[gC])}function ni(){od.call(this),this.i=new ad(this),this.P=this,this.I=null}function ri(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new sr(e,n);else if(e instanceof sr)e.target=e.target||n;else{var o=e;iC(e=new sr(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var h=e.g=t[u];o=hf(h,r,!0,e)&&o}if(o=hf(h=e.g=n,r,!0,e)&&o,o=hf(h,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=hf(h=e.g=t[u],r,!1,e)&&o}function hf(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var h=e[u];if(h&&!h.ca&&h.capture==t){var m=h.listener,b=h.ia||h.src;h.fa&&bE(n.i,h),o=!1!==m.call(b,r)&&o}}return o&&!r.defaultPrevented}ti(ni,od),ni.prototype[df]=!0,ni.prototype.removeEventListener=function(n,e,t,r){hC(this,n,e,t,r)},ni.prototype.M=function(){if(ni.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)wg(t[r]);delete n.g[e],n.h--}}this.I=null},ni.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ni.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Ky=Ct.JSON.stringify;function sA(){var n=IE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var CE,mC=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new yC,n=>n.reset());class yC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function aA(n){Ct.setTimeout(()=>{throw n},0)}function Yy(n,e){CE||function(){var n=Ct.Promise.resolve(void 0);CE=function(){n.then(uA)}}(),Qy||(CE(),Qy=!0),IE.add(n,e)}var Qy=!1,IE=new class{constructor(){this.h=this.g=null}add(e,t){const r=mC.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function uA(){for(var n;n=sA();){try{n.h.call(n.g)}catch(t){aA(t)}var e=mC;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Qy=!1}function Ms(n,e){ni.call(this),this.h=n||1,this.g=e||Ct,this.j=Br(this.kb,this),this.l=Date.now()}function Cg(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function TE(n,e,t){if("function"==typeof n)t&&(n=Br(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Br(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ct.setTimeout(n,e||0)}function _C(n){n.g=TE(()=>{n.g=null,n.i&&(n.i=!1,_C(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ti(Ms,ni),(Ge=Ms.prototype).da=!1,Ge.S=null,Ge.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ri(this,"tick"),this.da&&(Cg(this),this.start()))}},Ge.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ge.M=function(){Ms.Z.M.call(this),Cg(this),delete this.g};class ON extends od{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_C(this)}M(){super.M(),this.g&&(Ct.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ff(n){od.call(this),this.h=n,this.g={}}ti(ff,od);var vC=[];function EC(n,e,t,r){Array.isArray(t)||(t&&(vC[0]=t.toString()),t=vC);for(var o=0;o<t.length;o++){var u=wE(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function bC(n){rC(n.g,function(e,t){this.g.hasOwnProperty(t)&&Li(e)},n),n.g={}}function pf(){this.g=!0}function Ll(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var h=1;h<o.length;h++)o[h]=""}}}return Ky(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}ff.prototype.M=function(){ff.Z.M.call(this),bC(this)},ff.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pf.prototype.Aa=function(){this.g=!1},pf.prototype.info=function(){};var Vl={},Jy=null;function Ig(){return Jy=Jy||new ni}function wC(n){sr.call(this,Vl.Ma,n)}function Tg(n){const e=Ig();ri(e,new wC(e,n))}function Xy(n,e){sr.call(this,Vl.STAT_EVENT,n),this.stat=e}function is(n){const e=Ig();ri(e,new Xy(e,n))}function CC(n,e){sr.call(this,Vl.Na,n),this.size=e}function gf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ct.setTimeout(function(){n()},e)}Vl.Ma="serverreachability",ti(wC,sr),Vl.STAT_EVENT="statevent",ti(Xy,sr),Vl.Na="timingevent",ti(CC,sr);var Dg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},SE={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function e_(){}function Va(){}e_.prototype.h=null;var IC,nc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function xE(){sr.call(this,"d")}function RE(){sr.call(this,"c")}function Ul(){}function mf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new ff(this),this.P=Sg,this.W=new Ms(n=La?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new yf}function yf(){this.i=null,this.g="",this.h=!1}ti(xE,sr),ti(RE,sr),ti(Ul,e_),Ul.prototype.g=function(){return new XMLHttpRequest},Ul.prototype.i=function(){return{}},IC=new Ul;var Sg=45e3,OE={},_f={};function t_(n,e,t){n.K=1,n.v=bf(Ba(e)),n.s=t,n.U=!0,TC(n,null)}function TC(n,e){n.F=Date.now(),Ag(n),n.A=Ba(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),BE(t.h,"t",r),n.C=0,t=n.l.H,n.h=new yf,n.g=KE(n.l,t?e:null,!n.s),0<n.O&&(n.L=new ON(Br(n.Ia,n,n.g),n.O)),EC(n.V,n.g,"readystatechange",n.gb),e=n.H?Fl(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Tg(1),function(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var h="",m=u.split("&"),b=0;b<m.length;b++){var I=m[b].split("=");if(1<I.length){var x=I[0];I=I[1];var O=x.split("_");h=2<=O.length&&"type"==O[1]?h+(x+"=")+I+"&":h+(x+"=redacted&")}}else h=null;else h=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function NE(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function DC(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=ME(n,t),o==_f){4==e&&(n.o=4,is(14),r=!1),Ll(n.j,n.m,null,"[Incomplete Response]");break}if(o==OE){n.o=4,is(15),Ll(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ll(n.j,n.m,o,null),PE(n,o)}NE(n)&&o!=_f&&o!=OE&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,is(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),uc(e),e.L=!0,is(11))):(Ll(n.j,n.m,t,"[Invalid Chunked Response]"),rc(n),Ua(n))}function ME(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?_f:(t=Number(e.substring(t,r)),isNaN(t)?OE:(r+=1)+t>e.length?_f:(e=e.substr(r,t),n.C=r+t,e))}function Ag(n){n.Y=Date.now()+n.P,SC(n,n.P)}function SC(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=gf(Br(n.eb,n),e)}function xg(n){n.B&&(Ct.clearTimeout(n.B),n.B=null)}function Ua(n){0==n.l.G||n.I||hd(n.l,n)}function rc(n){xg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Cg(n.W),bC(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function PE(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||HE(t.i,n)))if(t.I=n.N,!n.J&&HE(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(I){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=gf(Br(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Hl(t),i_(t)}lc(t),is(18)}if(1>=jE(t.i)&&t.ka){try{t.ka()}catch(I){}t.ka=void 0}}else io(t,11)}else if((n.J||t.g==n)&&Hl(t),!pE(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let I=o[e];if(t.U=I[0],I=I[1],2==t.G)if("c"==I[0]){t.J=I[1],t.la=I[2];const x=I[3];null!=x&&(t.ma=x,t.h.info("VER="+t.ma));const O=I[4];null!=O&&(t.za=O,t.h.info("SVER="+t.za));const j=I[5];null!=j&&"number"==typeof j&&0<j&&(t.K=r=1.5*j,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const Z=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Z){var u=r.i;!u.g&&(ns(Z,"spdy")||ns(Z,"quic")||ns(Z,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&($E(u,u.h),u.h=null))}if(r.D){const pe=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;pe&&(r.sa=pe,En(r.F,r.D,pe))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=gd(r,r.H?r.la:null,r.W),h.J){EA(r.i,h);var m=h,b=r.K;b&&m.setTimeout(b),m.B&&(xg(m),Ag(m)),r.g=h}else o_(r);0<t.l.length&&sc(t)}else"stop"!=I[0]&&"close"!=I[0]||io(t,7);else 3==t.G&&("stop"==I[0]||"close"==I[0]?"stop"==I[0]?io(t,7):ZE(t):"noop"!=I[0]&&t.j&&t.j.wa(I),t.A=0)}Tg(4)}catch(I){}}function ic(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Q0(n)||"string"==typeof n)jy(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Q0(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;o=(r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Q0(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n)).length;for(var u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}}function vf(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof vf)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function kE(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];ld(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)ld(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function ld(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Ge=mf.prototype).setTimeout=function(n){this.P=n},Ge.gb=function(n){n=n.target;const e=this.L;e&&3==jl(n)?e.l():this.Ia(n)},Ge.Ia=function(n){try{if(n==this.g)e:{const x=jl(this.g);var e=this.g.Da();const O=this.g.ba();if(!(3>x)&&(3!=x||La||this.g&&(this.h.h||this.g.ga()||Mg(this.g)))){this.I||4!=x||7==e||Tg(8==e||0>=O?3:2),xg(this);var t=this.g.ba();this.N=t;t:if(NE(this)){var r=Mg(this.g);n="";var o=r.length,u=4==jl(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){rc(this),Ua(this);var h="";break t}this.h.i=new Ct.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function(n,e,t,r,o,u,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+h})}(this.j,this.u,this.A,this.m,this.X,x,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,b=this.g;if((m=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pE(m)){var I=m;break t}}I=null}if(!(t=I)){this.i=!1,this.o=3,is(12),rc(this),Ua(this);break e}Ll(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,PE(this,t)}this.U?(DC(this,x,h),La&&this.i&&3==x&&(EC(this.V,this.W,"tick",this.fb),this.W.start())):(Ll(this.j,this.m,h,null),PE(this,h)),4==x&&rc(this),this.i&&!this.I&&(4==x?hd(this.l,this):(this.i=!1,Ag(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,is(12)):(this.o=0,is(13)),rc(this),Ua(this)}}}catch(x){}},Ge.fb=function(){if(this.g){var n=jl(this.g),e=this.g.ga();this.C<e.length&&(xg(this),DC(this,n,e),this.i&&4!=n&&Ag(this))}},Ge.cancel=function(){this.I=!0,rc(this)},Ge.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Tg(3),is(17)),rc(this),this.o=2,Ua(this)):SC(this,this.Y-n)},(Ge=vf.prototype).R=function(){kE(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Ge.T=function(){return kE(this),this.g.concat()},Ge.get=function(n,e){return ld(this.h,n)?this.h[n]:e},Ge.set=function(n,e){ld(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Ge.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],u=this.get(o);n.call(e,u,o,this)}};var AC=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ud(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof ud){this.g=void 0!==e?e:n.g,fn(this,n.j),this.s=n.s,Ef(this,n.i),FE(this,n.m),this.l=n.l,e=n.h;var t=new cd;t.i=e.i,e.g&&(t.g=new vf(e.g),t.h=e.h),ja(this,t),this.o=n.o}else n&&(t=String(n).match(AC))?(this.g=!!e,fn(this,t[1]||"",!0),this.s=Rg(t[2]||""),Ef(this,t[3]||"",!0),FE(this,t[4]),this.l=Rg(t[5]||"",!0),ja(this,t[6]||"",!0),this.o=Rg(t[7]||"")):(this.g=!!e,this.h=new cd(null,this.g))}function Ba(n){return new ud(n)}function fn(n,e,t){n.j=t?Rg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ef(n,e,t){n.i=t?Rg(e,!0):e}function FE(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function ja(n,e,t){e instanceof cd?(n.h=e,function(n,e){e&&!n.j&&(Bl(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(VE(this,r),BE(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=wf(e,mA)),n.h=new cd(e,n.g))}function En(n,e,t){n.h.set(e,t)}function bf(n){return En(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Rg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function wf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,xC),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function xC(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ud.prototype.toString=function(){var n=[],e=this.j;e&&n.push(wf(e,LE,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(wf(e,LE,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(wf(t,"/"==t.charAt(0)?gA:RC,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",wf(t,Og)),n.join("")};var LE=/[#\/\?@]/g,RC=/[#\?:]/g,gA=/[#\?]/g,mA=/[#\?@]/g,Og=/#/g;function cd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Bl(n){n.g||(n.g=new vf,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function VE(n,e){Bl(n),e=Cf(n,e),ld(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,ld((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&kE(n)))}function UE(n,e){return Bl(n),e=Cf(n,e),ld(n.g.h,e)}function BE(n,e,t){VE(n,e),0<t.length&&(n.i=null,n.g.set(Cf(n,e),tC(t)),n.h+=t.length)}function Cf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function OC(n){this.l=n||NC,n=Ct.PerformanceNavigationTiming?0<(n=Ct.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ct.g&&Ct.g.Ea&&Ct.g.Ea()&&Ct.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ge=cd.prototype).add=function(n,e){Bl(this),this.i=null,n=Cf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ge.forEach=function(n,e){Bl(this),this.g.forEach(function(t,r){jy(t,function(o){n.call(e,o,r,this)},this)},this)},Ge.T=function(){Bl(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],u=0;u<o.length;u++)t.push(e[r]);return t},Ge.R=function(n){Bl(this);var e=[];if("string"==typeof n)UE(this,n)&&(e=QS(e,this.g.get(Cf(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=QS(e,n[t])}return e},Ge.set=function(n,e){return Bl(this),this.i=null,UE(this,n=Cf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ge.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var h=o;""!==r[u]&&(h+="="+encodeURIComponent(String(r[u]))),n.push(h)}}return this.i=n.join("&")};var NC=10;function vA(n){return!!n.h||!!n.g&&n.g.size>=n.j}function jE(n){return n.h?1:n.g?n.g.size:0}function HE(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function $E(n,e){n.g?n.g.add(e):n.h=e}function EA(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function bA(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return tC(n.i)}function Ng(){}function wA(){this.g=new Ng}function MC(n,e,t){const r=t||"";try{ic(n,function(o,u){let h=o;Ns(o)&&(h=Ky(o)),e.push(r+u+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function GE(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(u){}}function Vi(n){this.l=n.$b||null,this.j=n.ib||!1}function zE(n,e){ni.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=kC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}OC.prototype.cancel=function(){if(this.i=bA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Ng.prototype.stringify=function(n){return Ct.JSON.stringify(n,void 0)},Ng.prototype.parse=function(n){return Ct.JSON.parse(n,void 0)},ti(Vi,e_),Vi.prototype.g=function(){return new zE(this.l,this.j)},Vi.prototype.i=function(n){return function(){return n}}({}),ti(zE,ni);var kC=0;function CA(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function If(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Tf(n)}function Tf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ge=zE.prototype).open=function(n,e){if(this.readyState!=kC)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Tf(this)},Ge.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ct).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,If(this)),this.readyState=kC},Ge.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Tf(this)),this.g&&(this.readyState=3,Tf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ct.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;CA(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Ge.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?If(this):Tf(this),3==this.readyState&&CA(this)}},Ge.Ua=function(n){this.g&&(this.response=this.responseText=n,If(this))},Ge.Ta=function(n){this.g&&(this.response=n,If(this))},Ge.ha=function(){this.g&&If(this)},Ge.setRequestHeader=function(n,e){this.v.append(n,e)},Ge.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ge.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(zE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var FC=Ct.JSON.parse;function mr(n){ni.call(this),this.headers=new vf,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=IA,this.K=this.L=!1}ti(mr,ni);var IA="",LC=/^https?$/i,qE=["POST","PUT"];function WE(n){return"content-type"==n.toLowerCase()}function VC(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,UC(n),n_(n)}function UC(n){n.D||(n.D=!0,ri(n,"complete"),ri(n,"error"))}function BC(n){if(n.h&&void 0!==yg&&(!n.C[1]||4!=jl(n)||2!=n.ba()))if(n.v&&4==jl(n))TE(n.Fa,0,n);else if(ri(n,"readystatechange"),4==jl(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(AC)[1]||null;if(!o&&Ct.self&&Ct.self.location){var u=Ct.self.location.protocol;o=u.substr(0,u.length-1)}r=!LC.test(o?o.toLowerCase():"")}t=r}if(t)ri(n,"complete"),ri(n,"success");else{n.m=6;try{var h=2<jl(n)?n.g.statusText:""}catch(b){h=""}n.j=h+" ["+n.ba()+"]",UC(n)}}finally{n_(n)}}}function n_(n,e){if(n.g){jC(n);const t=n.g,r=n.C[0]?_g:null;n.g=null,n.C=null,e||ri(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function jC(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ct.clearTimeout(n.A),n.A=null)}function jl(n){return n.g?n.g.readyState:0}function Mg(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case IA:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function r_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return rC(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):En(n,e,t))}function Ui(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Sf(n){this.za=0,this.l=[],this.h=new pf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ui("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ui("baseRetryDelayMs",5e3,n),this.$a=Ui("retryDelaySeedMs",1e4,n),this.Ya=Ui("forwardChannelMaxRetries",2,n),this.ra=Ui("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new OC(n&&n.concurrentRequestLimit),this.Ca=new wA,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function ZE(n){if(s_(n),3==n.G){var e=n.V++,t=Ba(n.F);En(t,"SID",n.J),En(t,"RID",e),En(t,"TYPE","terminate"),ac(n,t),(e=new mf(n,n.h,e,void 0)).K=2,e.v=bf(Ba(t)),t=!1,Ct.navigator&&Ct.navigator.sendBeacon&&(t=Ct.navigator.sendBeacon(e.v.toString(),"")),!t&&Ct.Image&&((new Image).src=e.v,t=!0),t||(e.g=KE(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ag(e)}pd(n)}function i_(n){n.g&&(uc(n),n.g.cancel(),n.g=null)}function s_(n){i_(n),n.u&&(Ct.clearTimeout(n.u),n.u=null),Hl(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ct.clearTimeout(n.m),n.m=null)}function ro(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&sc(n)}function sc(n){vA(n.i)||n.m||(n.m=!0,Yy(n.Ha,n),n.C=0)}function oc(n,e){var t;t=e?e.m:n.V++;const r=Ba(n.F);En(r,"SID",n.J),En(r,"RID",t),En(r,"AID",n.U),ac(n,r),n.o&&n.s&&r_(r,n.o,n.s),t=new mf(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Ps(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),$E(n.i,t),t_(t,r,e)}function ac(n,e){n.j&&ic({},function(t,r){En(e,r,t)})}function Ps(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Br(n.j.Oa,n.j,n):null;e:{var o=n.l;let u=-1;for(;;){const h=["count="+t];-1==u?0<t?(u=o[0].h,h.push("ofs="+u)):u=0:h.push("ofs="+u);let m=!0;for(let b=0;b<t;b++){let I=o[b].h;const x=o[b].g;if(I-=u,0>I)u=Math.max(0,o[b].h-100),m=!1;else try{MC(x,h,"req"+I+"_")}catch(O){r&&r(x)}}if(m){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function o_(n){n.g||n.u||(n.Y=1,Yy(n.Ga,n),n.A=0)}function lc(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=gf(Br(n.Ga,n),fd(n,n.A)),n.A++,0))}function uc(n){null!=n.B&&(Ct.clearTimeout(n.B),n.B=null)}function dd(n){n.g=new mf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ba(n.oa);En(e,"RID","rpc"),En(e,"SID",n.J),En(e,"CI",n.N?"0":"1"),En(e,"AID",n.U),ac(n,e),En(e,"TYPE","xmlhttp"),n.o&&n.s&&r_(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=bf(Ba(e)),t.s=null,t.U=!0,TC(t,n)}function Hl(n){null!=n.v&&(Ct.clearTimeout(n.v),n.v=null)}function hd(n,e){var t=null;if(n.g==e){Hl(n),uc(n),n.g=null;var r=2}else{if(!HE(n.i,e))return;t=e.D,EA(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;ri(r=Ig(),new CC(r,t,e,o)),sc(n)}else o_(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function(n,e){return!(jE(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=gf(Br(n.Ha,n,e),fd(n,n.C)),n.C++,0)))}(n,e)||2==r&&lc(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:io(n,5);break;case 4:io(n,10);break;case 3:io(n,6);break;default:io(n,2)}}function fd(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function io(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Br(n.jb,n);t||(t=new ud("//www.google.com/images/cleardot.gif"),Ct.location&&"http"==Ct.location.protocol||fn(t,"https"),bf(t)),function(n,e){const t=new pf;if(Ct.Image){const r=new Image;r.onload=fE(GE,t,r,"TestLoadImage: loaded",!0,e),r.onerror=fE(GE,t,r,"TestLoadImage: error",!1,e),r.onabort=fE(GE,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=fE(GE,t,r,"TestLoadImage: timeout",!1,e),Ct.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else is(2);n.G=0,n.j&&n.j.va(e),pd(n),s_(n)}function pd(n){n.G=0,n.I=-1,n.j&&((0!=bA(n.i).length||0!=n.l.length)&&(n.i.i.length=0,tC(n.l),n.l.length=0),n.j.ua())}function gd(n,e,t){let r=function(n){return n instanceof ud?Ba(n):new ud(n,void 0)}(t);if(""!=r.i)e&&Ef(r,e+"."+r.i),FE(r,r.m);else{const o=Ct.location;r=function(n,e,t,r){var o=new ud(null,void 0);return n&&fn(o,n),e&&Ef(o,e),t&&FE(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&rC(n.aa,function(o,u){En(r,u,o)}),t=n.sa,(e=n.D)&&t&&En(r,e,t),En(r,"VER",n.ma),ac(n,r),r}function KE(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new mr(t&&n.Ba&&!n.qa?new Vi({ib:!0}):n.qa)).L=n.H,e}function YE(){}function Pg(){if(ec&&!(10<=Number(cf)))throw Error("Environmental error: no available transport.")}function ss(n,e){ni.call(this),this.g=new Sf(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!pE(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pE(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new md(this)}function QE(n){xE.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function JE(){RE.call(this),this.status=1}function md(n){this.g=n}(Ge=mr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():IC.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:IC),this.g.onreadystatechange=Br(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void VC(this,u)}n=t||"";const o=new vf(this.headers);r&&ic(r,function(u,h){o.set(h,u)}),r=function(n){e:{var e=WE;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=Ct.FormData&&n instanceof Ct.FormData,!(0<=eC(qE,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,h){this.g.setRequestHeader(h,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{jC(this),0<this.B&&((this.K=function(n){return ec&&vg()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Br(this.pa,this)):this.A=TE(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){VC(this,u)}},Ge.pa=function(){void 0!==yg&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ri(this,"timeout"),this.abort(8))},Ge.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ri(this,"complete"),ri(this,"abort"),n_(this))},Ge.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),n_(this,!0)),mr.Z.M.call(this)},Ge.Fa=function(){this.s||(this.F||this.v||this.l?BC(this):this.cb())},Ge.cb=function(){BC(this)},Ge.ba=function(){try{return 2<jl(this)?this.g.status:-1}catch(n){return-1}},Ge.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Ge.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),FC(e)}},Ge.Da=function(){return this.m},Ge.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ge=Sf.prototype).ma=8,Ge.G=1,Ge.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Ge.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new mf(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=Fl(u),iC(u,this.P)):u=this.P),null===this.o&&(o.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ps(this,o,e),En(t=Ba(this.F),"RID",n),En(t,"CVER",22),this.D&&En(t,"X-HTTP-Session-Id",this.D),ac(this,t),this.o&&u&&r_(t,this.o,u),$E(this.i,o),this.Ra&&En(t,"TYPE","init"),this.ja?(En(t,"$req",e),En(t,"SID","null"),o.$=!0,t_(o,t,null)):t_(o,t,e),this.G=2}}else 3==this.G&&(n?oc(this,n):0==this.l.length||vA(this.i)||oc(this))},Ge.Ga=function(){if(this.u=null,dd(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=gf(Br(this.bb,this),n)}},Ge.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,is(10),i_(this),dd(this))},Ge.ab=function(){null!=this.v&&(this.v=null,i_(this),lc(this),is(19))},Ge.jb=function(n){n?(this.h.info("Successfully pinged google.com"),is(2)):(this.h.info("Failed to ping google.com"),is(1))},(Ge=YE.prototype).xa=function(){},Ge.wa=function(){},Ge.va=function(){},Ge.ua=function(){},Ge.Oa=function(){},Pg.prototype.g=function(n,e){return new ss(n,e)},ti(ss,ni),ss.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Yy(Br(n.hb,n,e))),is(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=gd(n,null,n.W),sc(n)},ss.prototype.close=function(){ZE(this.g)},ss.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,ro(this.g,e)}else this.v?((e={}).__data__=Ky(n),ro(this.g,e)):ro(this.g,n)},ss.prototype.M=function(){this.g.j=null,delete this.j,ZE(this.g),delete this.g,ss.Z.M.call(this)},ti(QE,xE),ti(JE,RE),ti(md,YE),md.prototype.xa=function(){ri(this.g,"a")},md.prototype.wa=function(n){ri(this.g,new QE(n))},md.prototype.va=function(n){ri(this.g,new JE(n))},md.prototype.ua=function(){ri(this.g,"b")},Pg.prototype.createWebChannel=Pg.prototype.g,ss.prototype.send=ss.prototype.u,ss.prototype.open=ss.prototype.m,ss.prototype.close=ss.prototype.close,Dg.NO_ERROR=0,Dg.TIMEOUT=8,Dg.HTTP_ERROR=6,SE.COMPLETE="complete",Va.EventType=nc,nc.OPEN="a",nc.CLOSE="b",nc.ERROR="c",nc.MESSAGE="d",ni.prototype.listen=ni.prototype.N,mr.prototype.listenOnce=mr.prototype.O,mr.prototype.getLastError=mr.prototype.La,mr.prototype.getLastErrorCode=mr.prototype.Da,mr.prototype.getStatus=mr.prototype.ba,mr.prototype.getResponseJson=mr.prototype.Qa,mr.prototype.getResponseText=mr.prototype.ga,mr.prototype.send=mr.prototype.ea;var HC=Wo.createWebChannelTransport=function(){return new Pg},$C=Wo.getStatEventTarget=function(){return Ig()},XE=Wo.ErrorCode=Dg,GC=Wo.EventType=SE,DA=Wo.Event=Vl,eb=Wo.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},zC=Wo.FetchXmlHttpFactory=Vi,a_=Wo.WebChannel=Va,PN=Wo.XhrIo=mr;const qC="@firebase/firestore";class jr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jr.UNAUTHENTICATED=new jr(null),jr.GOOGLE_CREDENTIALS=new jr("google-credentials-uid"),jr.FIRST_PARTY=new jr("first-party-uid"),jr.MOCK_USER=new jr("mock-user");let Af="9.5.0";const $l=new Xu.Yd("@firebase/firestore");function tb(){return $l.logLevel}function Pe(n,...e){if($l.logLevel<=Xu.in.DEBUG){const t=e.map(WC);$l.debug(`Firestore (${Af}): ${n}`,...t)}}function yr(n,...e){if($l.logLevel<=Xu.in.ERROR){const t=e.map(WC);$l.error(`Firestore (${Af}): ${n}`,...t)}}function xf(n,...e){if($l.logLevel<=Xu.in.WARN){const t=e.map(WC);$l.warn(`Firestore (${Af}): ${n}`,...t)}}function WC(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function tt(n="Unexpected state"){const e=`FIRESTORE (${Af}) INTERNAL ASSERTION FAILED: `+n;throw yr(e),new Error(e)}function yt(n,e){n||tt()}function Le(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _r{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class l_{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class xA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jr.UNAUTHENTICATED))}shutdown(){}}class kN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class FN{constructor(e){this.t=e,this.currentUser=jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=I=>this.i!==o?(o=this.i,t(I)):Promise.resolve();let h=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new _r,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const I=h;e.enqueueRetryable((0,me.Z)(function*(){yield I.promise,yield u(r.currentUser)}))},b=I=>{Pe("FirebaseCredentialsProvider","Auth detected"),this.auth=I,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(I=>b(I)),setTimeout(()=>{if(!this.auth){const I=this.t.getImmediate({optional:!0});I?b(I):(Pe("FirebaseCredentialsProvider","Auth not yet detected"),h.resolve(),h=new _r)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yt("string"==typeof r.accessToken),new l_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return yt(null===e||"string"==typeof e),new jr(e)}}class LN{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=jr.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class RA{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new LN(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class os{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.g(r),this.p=r=>t.writeSequenceNumber(r))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function VN(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}os.T=-1;class ZC{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=VN(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function Nt(n,e){return n<e?-1:n>e?1:0}function Rf(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function nb(n){return n+"\0"}class Hr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Hr.fromMillis(Date.now())}static fromDate(e){return Hr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Hr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class St{constructor(e){this.timestamp=e}static fromTimestamp(e){return new St(e)}static min(){return new St(new Hr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function kg(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function yd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function rb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Fg{constructor(e,t,r){void 0===t?t=0:t>e.length&&tt(),void 0===r?r=e.length-t:r>e.length-t&&tt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Fg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),h=t.get(o);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class rn extends Fg{construct(e,t,r){return new rn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new rn(t)}static emptyPath(){return new rn([])}}const OA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ii extends Fg{construct(e,t,r){return new ii(e,t,r)}static isValidIdentifier(e){return OA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ii.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ii(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Oe(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Oe(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[o+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new Oe(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=b,o+=2}else"`"===m?(h=!h,o++):"."!==m||h?(r+=m,o++):(u(),o++)}if(u(),h)throw new Oe(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ii(t)}static emptyPath(){return new ii([])}}class Of{constructor(e){this.fields=e,e.sort(ii.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rf(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class $r{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new $r(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new $r(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$r.EMPTY_BYTE_STRING=new $r("");const YC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gl(n){if(yt(!!n),"string"==typeof n){let e=0;const t=YC.exec(n);if(yt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Wn(n.seconds),nanos:Wn(n.nanos)}}function Wn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Lg(n){return"string"==typeof n?$r.fromBase64String(n):$r.fromUint8Array(n)}function Vg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function QC(n){const e=n.mapValue.fields.__previous_value__;return Vg(e)?QC(e):e}function u_(n){const e=Gl(n.mapValue.fields.__local_write_time__.timestampValue);return new Hr(e.seconds,e.nanos)}function Zo(n){return null==n}function c_(n){return 0===n&&1/n==-1/0}function d_(n){return"number"==typeof n&&Number.isInteger(n)&&!c_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(rn.fromString(e))}static fromName(e){return new Qe(rn.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===rn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return rn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new rn(e.slice()))}}function _d(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Vg(n)?4:10:tt()}function so(n,e){const t=_d(n);if(t!==_d(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return u_(n).isEqual(u_(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=Gl(r.timestampValue),h=Gl(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Lg(n.bytesValue).isEqual(Lg(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Wn(r.geoPointValue.latitude)===Wn(o.geoPointValue.latitude)&&Wn(r.geoPointValue.longitude)===Wn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Wn(r.integerValue)===Wn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Wn(r.doubleValue),h=Wn(o.doubleValue);return u===h?c_(u)===c_(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Rf(n.arrayValue.values||[],e.arrayValue.values||[],so);case 10:return function(r,o){const u=r.mapValue.fields||{},h=o.mapValue.fields||{};if(kg(u)!==kg(h))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===h[m]||!so(u[m],h[m])))return!1;return!0}(n,e);default:return tt()}var o}function vd(n,e){return void 0!==(n.values||[]).find(t=>so(t,e))}function Ed(n,e){const t=_d(n),r=_d(e);if(t!==r)return Nt(t,r);switch(t){case 0:return 0;case 1:return Nt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=Wn(o.integerValue||o.doubleValue),m=Wn(u.integerValue||u.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,e);case 3:return NA(n.timestampValue,e.timestampValue);case 4:return NA(u_(n),u_(e));case 5:return Nt(n.stringValue,e.stringValue);case 6:return function(o,u){const h=Lg(o),m=Lg(u);return h.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),m=u.split("/");for(let b=0;b<h.length&&b<m.length;b++){const I=Nt(h[b],m[b]);if(0!==I)return I}return Nt(h.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=Nt(Wn(o.latitude),Wn(u.latitude));return 0!==h?h:Nt(Wn(o.longitude),Wn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const h=o.values||[],m=u.values||[];for(let b=0;b<h.length&&b<m.length;++b){const I=Ed(h[b],m[b]);if(I)return I}return Nt(h.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){const h=o.fields||{},m=Object.keys(h),b=u.fields||{},I=Object.keys(b);m.sort(),I.sort();for(let x=0;x<m.length&&x<I.length;++x){const O=Nt(m[x],I[x]);if(0!==O)return O;const j=Ed(h[m[x]],b[I[x]]);if(0!==j)return j}return Nt(m.length,I.length)}(n.mapValue,e.mapValue);default:throw tt()}}function NA(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Nt(n,e);const t=Gl(n),r=Gl(e),o=Nt(t.seconds,r.seconds);return 0!==o?o:Nt(t.nanos,r.nanos)}function ib(n){return Ug(n)}function Ug(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Gl(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Lg(n.bytesValue).toBase64():"referenceValue"in n?Qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const h of r.values||[])u?u=!1:o+=",",o+=Ug(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",h=!0;for(const m of o)h?h=!1:u+=",",u+=`${m}:${Ug(r.fields[m])}`;return u+"}"}(n.mapValue):tt();var e}function Nf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function h_(n){return!!n&&"integerValue"in n}function f_(n){return!!n&&"arrayValue"in n}function p_(n){return!!n&&"nullValue"in n}function sb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Mf(n){return!!n&&"mapValue"in n}function bd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return yd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=bd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bd(n.arrayValue.values[t]);return e}return Object.assign({},n)}class si{constructor(e){this.value=e}static empty(){return new si({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Mf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bd(t)}setAll(e){let t=ii.emptyPath(),r={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const b=this.getFieldsMap(t);this.applyChanges(b,r,o),r={},o=[],t=m.popLast()}h?r[m.lastSegment()]=bd(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());Mf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return so(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Mf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){yd(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new si(bd(this.value))}}function JC(n){const e=[];return yd(n.fields,(t,r)=>{const o=new ii([t]);if(Mf(r)){const u=JC(r.mapValue).fields;if(0===u.length)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Of(e)}class xn{constructor(e,t,r,o,u){this.key=e,this.documentType=t,this.version=r,this.data=o,this.documentState=u}static newInvalidDocument(e){return new xn(e,0,St.min(),si.empty(),0)}static newFoundDocument(e,t,r){return new xn(e,1,t,r,0)}static newNoDocument(e,t){return new xn(e,2,t,si.empty(),0)}static newUnknownDocument(e,t){return new xn(e,3,t,si.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=si.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new xn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class XC{constructor(e,t=null,r=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.A=null}}function g_(n,e=null,t=[],r=[],o=null,u=null,h=null){return new XC(n,e,t,r,o,u,h)}function Pf(n){const e=Le(n);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+ib(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Zo(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=y_(e.startAt)),e.endAt&&(t+="|ub:",t+=y_(e.endAt)),e.A=t}return e.A}function Bg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!aI(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!so(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!vr(n.startAt,e.startAt)&&vr(n.endAt,e.endAt)}function jg(n){return Qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Di extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,r):new eI(e,t,r):"array-contains"===t?new rI(e,r):"in"===t?new iI(e,r):"not-in"===t?new sI(e,r):"array-contains-any"===t?new oI(e,r):new Di(e,t,r)}static R(e,t,r){return"in"===t?new tI(e,r):new nI(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(Ed(t,this.value)):null!==t&&_d(this.value)===_d(t)&&this.P(Ed(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tt()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class eI extends Di{constructor(e,t,r){super(e,t,r),this.key=Qe.fromName(r.referenceValue)}matches(e){const t=Qe.comparator(e.key,this.key);return this.P(t)}}class tI extends Di{constructor(e,t){super(e,"in",t),this.keys=ab(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nI extends Di{constructor(e,t){super(e,"not-in",t),this.keys=ab(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ab(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Qe.fromName(r.referenceValue))}class rI extends Di{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return f_(t)&&vd(t.arrayValue,this.value)}}class iI extends Di{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&vd(this.value.arrayValue,t)}}class sI extends Di{constructor(e,t){super(e,"not-in",t)}matches(e){if(vd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!vd(this.value.arrayValue,t)}}class oI extends Di{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!f_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>vd(this.value.arrayValue,r))}}class m_{constructor(e,t){this.position=e,this.before=t}}function y_(n){return`${n.before?"b":"a"}:${n.position.map(e=>ib(e)).join(",")}`}class kf{constructor(e,t="asc"){this.field=e,this.dir=t}}function aI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function lI(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],h=n.position[o];if(r=u.field.isKeyField()?Qe.comparator(Qe.fromName(h.referenceValue),t.key):Ed(h,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function vr(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!so(n.position[t],e.position[t]))return!1;return!0}class Ha{constructor(e,t=null,r=[],o=[],u=null,h="F",m=null,b=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=b,this.V=null,this.S=null}}function uI(n,e,t,r,o,u,h,m){return new Ha(n,e,t,r,o,u,h,m)}function Ff(n){return new Ha(n)}function Hg(n){return!Zo(n.limit)&&"F"===n.limitType}function __(n){return!Zo(n.limit)&&"L"===n.limitType}function v_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function E_(n){for(const e of n.filters)if(e.v())return e.field;return null}function cc(n){return null!==n.collectionGroup}function Lf(n){const e=Le(n);if(null===e.V){e.V=[];const t=E_(e),r=v_(e);if(null!==t&&null===r)t.isKeyField()||e.V.push(new kf(t)),e.V.push(new kf(ii.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.V.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new kf(ii.keyField(),u))}}}return e.V}function oo(n){const e=Le(n);if(!e.S)if("F"===e.limitType)e.S=g_(e.path,e.collectionGroup,Lf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Lf(e))t.push(new kf(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new m_(e.endAt.position,!e.endAt.before):null,o=e.startAt?new m_(e.startAt.position,!e.startAt.before):null;e.S=g_(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.S}function lb(n,e,t){return new Ha(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $g(n,e){return Bg(oo(n),oo(e))&&n.limitType===e.limitType}function ub(n){return`${Pf(oo(n))}|lt:${n.limitType}`}function cI(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${ib(r.value)}`;var r}).join(", ")}]`),Zo(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+y_(n.startAt)),n.endAt&&(e+=", endAt: "+y_(n.endAt)),`Target(${e})`}(oo(n))}; limitType=${n.limitType})`}function wd(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Qe.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!lI(t.startAt,Lf(t),r)||t.endAt&&lI(t.endAt,Lf(t),r)));var t,r}function b_(n){return(e,t)=>{let r=!1;for(const o of Lf(n)){const u=Ko(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function Ko(n,e,t){const r=n.field.isKeyField()?Qe.comparator(e.key,t.key):function(o,u,h){const m=u.data.field(o),b=h.data.field(o);return null!==m&&null!==b?Ed(m,b):tt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return tt()}}function dI(n,e){if(n.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:c_(e)?"-0":e}}function cb(n){return{integerValue:""+n}}function Yo(n,e){return d_(e)?cb(e):dI(n,e)}class as{constructor(){this._=void 0}}function Qo(n,e,t){return n instanceof Vf?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof Cd?fI(n,e):n instanceof Id?w_(n,e):function(r,o){const u=db(r,o),h=pI(u)+pI(r.C);return h_(u)&&h_(r.C)?cb(h):dI(r.N,h)}(n,e)}function hI(n,e,t){return n instanceof Cd?fI(n,e):n instanceof Id?w_(n,e):t}function db(n,e){return n instanceof $a?h_(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Vf extends as{}class Cd extends as{constructor(e){super(),this.elements=e}}function fI(n,e){const t=hb(e);for(const r of n.elements)t.some(o=>so(o,r))||t.push(r);return{arrayValue:{values:t}}}class Id extends as{constructor(e){super(),this.elements=e}}function w_(n,e){let t=hb(e);for(const r of n.elements)t=t.filter(o=>!so(o,r));return{arrayValue:{values:t}}}class $a extends as{constructor(e,t){super(),this.N=e,this.C=t}}function pI(n){return Wn(n.integerValue||n.doubleValue)}function hb(n){return f_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Gg{constructor(e,t){this.field=e,this.transform=t}}class mI{constructor(e,t){this.version=e,this.transformResults=t}}class Bn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function C_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class zg{}function yI(n,e,t){n instanceof Uf?function(r,o,u){const h=r.value.clone(),m=mb(r.fieldTransforms,o,u.transformResults);h.setAll(m),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof zl?function(r,o,u){if(!C_(r.precondition,o))return void o.convertToUnknownDocument(u.version);const h=mb(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(gb(r)),m.setAll(h),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function qg(n,e,t){var o;n instanceof Uf?function(r,o,u){if(!C_(r.precondition,o))return;const h=r.value.clone(),m=yb(r.fieldTransforms,u,o);h.setAll(m),o.convertToFoundDocument(pb(o),h).setHasLocalMutations()}(n,e,t):n instanceof zl?function(r,o,u){if(!C_(r.precondition,o))return;const h=yb(r.fieldTransforms,u,o),m=o.data;m.setAll(gb(r)),m.setAll(h),o.convertToFoundDocument(pb(o),m).setHasLocalMutations()}(n,e,t):C_(n.precondition,o=e)&&o.convertToNoDocument(St.min())}function fb(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=db(r.transform,o||null);null!=u&&(null==t&&(t=si.empty()),t.set(r.field,u))}return t||null}function I_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Rf(t,r,(o,u)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Cd&&r instanceof Cd||t instanceof Id&&r instanceof Id?Rf(t.elements,r.elements,so):t instanceof $a&&r instanceof $a?so(t.C,r.C):t instanceof Vf&&r instanceof Vf);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function pb(n){return n.isFoundDocument()?n.version:St.min()}class Uf extends zg{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class zl extends zg{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}}function gb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function mb(n,e,t){const r=new Map;yt(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],h=u.transform,m=e.data.field(u.field);r.set(u.field,hI(h,m,t[o]))}return r}function yb(n,e,t){const r=new Map;for(const o of n){const u=o.transform,h=t.data.field(o.field);r.set(o.field,Qo(u,h,e))}return r}class Bf extends zg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class _b extends zg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class PA{constructor(e){this.count=e}}var Er,Kt;function _I(n){switch(n){default:return tt();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function vI(n){if(void 0===n)return yr("GRPC error has no .code"),de.UNKNOWN;switch(n){case Er.OK:return de.OK;case Er.CANCELLED:return de.CANCELLED;case Er.UNKNOWN:return de.UNKNOWN;case Er.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Er.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Er.INTERNAL:return de.INTERNAL;case Er.UNAVAILABLE:return de.UNAVAILABLE;case Er.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Er.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Er.NOT_FOUND:return de.NOT_FOUND;case Er.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Er.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Er.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Er.ABORTED:return de.ABORTED;case Er.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Er.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Er.DATA_LOSS:return de.DATA_LOSS;default:return tt()}}(Kt=Er||(Er={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";class xr{constructor(e,t){this.comparator=e,this.root=t||oi.EMPTY}insert(e,t){return new xr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,oi.BLACK,null,null))}remove(e){return new xr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,oi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new T_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new T_(this.root,e,this.comparator,!1)}getReverseIterator(){return new T_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new T_(this.root,e,this.comparator,!0)}}class T_{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class oi{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=null!=r?r:oi.RED,this.left=null!=o?o:oi.EMPTY,this.right=null!=u?u:oi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new oi(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return oi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return oi.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,oi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,oi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const e=this.left.check();if(e!==this.right.check())throw tt();return e+(this.isRed()?0:1)}}oi.EMPTY=null,oi.RED=!0,oi.BLACK=!1,oi.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new oi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jn{constructor(e){this.comparator=e,this.data=new xr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new EI(this.data.getIterator())}getIteratorFrom(e){return new EI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof jn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new jn(this.comparator);return t.data=e,t}}class EI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const kA=new xr(Qe.comparator);function ao(){return kA}const FA=new xr(Qe.comparator);function vb(){return FA}const LA=new xr(Qe.comparator);function bI(){return LA}const VA=new jn(Qe.comparator);function an(...n){let e=VA;for(const t of n)e=e.add(t);return e}const wI=new jn(Nt);function Wg(){return wI}class jf{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Hf.createSynthesizedTargetChangeForCurrentChange(e,t)),new jf(St.min(),r,Wg(),ao(),an())}}class Hf{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Hf($r.EMPTY_BYTE_STRING,t,an(),an(),an())}}class Zg{constructor(e,t,r,o){this.k=e,this.removedTargetIds=t,this.key=r,this.$=o}}class Eb{constructor(e,t){this.targetId=e,this.O=t}}class bb{constructor(e,t,r=$r.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class wb{constructor(){this.F=0,this.M=dc(),this.L=$r.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=an(),t=an(),r=an();return this.M.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:tt()}}),new Hf(this.L,this.B,e,t,r)}G(){this.U=!1,this.M=dc()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Cb{constructor(e){this.tt=e,this.et=new Map,this.nt=ao(),this.st=Ib(),this.it=new jn(Nt)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.ct(t,e.key,e.$);for(const t of e.removedTargetIds)this.ct(t,e.key,e.$)}at(e){this.forEachTarget(e,t=>{const r=this.ut(t);switch(e.state){case 0:this.ht(t)&&r.j(e.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(e.resumeToken);break;case 2:r.X(),r.q||this.removeTarget(t);break;case 3:this.ht(t)&&(r.Z(),r.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),r.j(e.resumeToken));break;default:tt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((r,o)=>{this.ht(o)&&t(o)})}ft(e){const t=e.targetId,r=e.O.count,o=this.dt(t);if(o){const u=o.target;if(jg(u))if(0===r){const h=new Qe(u.path);this.ct(t,h,xn.newNoDocument(h,St.min()))}else yt(1===r);else this.wt(t)!==r&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((u,h)=>{const m=this.dt(h);if(m){if(u.current&&jg(m.target)){const b=new Qe(m.target.path);null!==this.nt.get(b)||this.gt(h,b)||this.ct(h,b,xn.newNoDocument(b,e))}u.K&&(t.set(h,u.W()),u.G())}});let r=an();this.st.forEach((u,h)=>{let m=!0;h.forEachWhile(b=>{const I=this.dt(b);return!I||2===I.purpose||(m=!1,!1)}),m&&(r=r.add(u))});const o=new jf(e,t,this.it,this.nt,r);return this.nt=ao(),this.st=Ib(),this.it=new jn(Nt),o}ot(e,t){if(!this.ht(e))return;const r=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,r),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}ct(e,t,r){if(!this.ht(e))return;const o=this.ut(e);this.gt(e,t)?o.H(t,1):o.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),r&&(this.nt=this.nt.insert(t,r))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new wb,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new jn(Nt),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new wb),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function Ib(){return new xr(Qe.comparator)}function dc(){return new xr(Qe.comparator)}const UA={asc:"ASCENDING",desc:"DESCENDING"},BA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class $f{constructor(e,t){this.databaseId=e,this.D=t}}function D_(n,e){return n.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function S_(n,e){return n.D?e.toBase64():e.toUint8Array()}function UN(n,e){return D_(n,e.toTimestamp())}function Rr(n){return yt(!!n),St.fromTimestamp(function(e){const t=Gl(e);return new Hr(t.seconds,t.nanos)}(n))}function A_(n,e){return(t=n,new rn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function jA(n){const e=rn.fromString(n);return yt(xb(e)),e}function rt(n,e){return A_(n.databaseId,e.path)}function Ga(n,e){const t=jA(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qe(II(t))}function Tb(n,e){return A_(n.databaseId,e)}function CI(n){const e=jA(n);return 4===e.length?rn.emptyPath():II(e)}function hc(n){return new rn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function II(n){return yt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Kg(n,e,t){return{name:rt(n,e),fields:t.value.mapValue.fields}}function Yg(n,e,t){const r=Ga(n,e.name),o=Rr(e.updateTime),u=new si({mapValue:{fields:e.fields}}),h=xn.newFoundDocument(r,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Qg(n,e){let t;if(e instanceof Uf)t={update:Kg(n,e.key,e.value)};else if(e instanceof Bf)t={delete:rt(n,e.key)};else if(e instanceof zl)t={update:Kg(n,e.key,e.data),updateMask:RI(e.fieldMask)};else{if(!(e instanceof _b))return tt();t={verify:rt(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof Vf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Cd)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Id)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof $a)return{fieldPath:u.field.canonicalString(),increment:h.C};throw tt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:UN(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:tt()),t;var o}function x_(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Bn.updateTime(Rr(o.updateTime)):void 0!==o.exists?Bn.exists(o.exists):Bn.none():Bn.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,h){let m=null;"setToServerValue"in h?(yt("REQUEST_TIME"===h.setToServerValue),m=new Vf):"appendMissingElements"in h?m=new Cd(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new Id(h.removeAllFromArray.values||[]):"increment"in h?m=new $a(u,h.increment):tt();const b=ii.fromServerFormat(h.fieldPath);return new Gg(b,m)}(n,o)):[];var o;if(e.update){const o=Ga(n,e.update.name),u=new si({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new Of((e.updateMask.fieldPaths||[]).map(I=>ii.fromServerFormat(I)));return new zl(o,u,h,t,r)}return new Uf(o,u,t,r)}if(e.delete){const o=Ga(n,e.delete);return new Bf(o,t)}if(e.verify){const o=Ga(n,e.verify);return new _b(o,t)}return tt()}function Db(n,e){return{documents:[Tb(n,e.path)]}}function Sb(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Tb(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Tb(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(m){if(0===m.length)return;const b=m.map(I=>function(x){if("=="===x.op){if(sb(x.value))return{unaryFilter:{field:Gf(x.field),op:"IS_NAN"}};if(p_(x.value))return{unaryFilter:{field:Gf(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(sb(x.value))return{unaryFilter:{field:Gf(x.field),op:"IS_NOT_NAN"}};if(p_(x.value))return{unaryFilter:{field:Gf(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gf(x.field),op:$A(x.op),value:x.value}}}(I));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);o&&(t.structuredQuery.where=o);const u=function(m){if(0!==m.length)return m.map(b=>{return{field:Gf((I=b).field),direction:Jg(I.dir)};var I})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=(b=e.limit,n.D||Zo(b)?b:{value:b});var b;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=SI(e.startAt)),e.endAt&&(t.structuredQuery.endAt=SI(e.endAt)),t}function Ab(n){let e=CI(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){yt(1===r);const x=t.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let u=[];t.where&&(u=DI(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(x=>{return new kf(zf((O=x).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let m=null;t.limit&&(m=function(x){let O;return O="object"==typeof x?x.value:x,Zo(O)?null:O}(t.limit));let b=null;t.startAt&&(b=AI(t.startAt));let I=null;return t.endAt&&(I=AI(t.endAt)),uI(e,o,h,u,m,"F",b,I)}function DI(n){return n?void 0!==n.unaryFilter?[xI(n)]:void 0!==n.fieldFilter?[R_(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>DI(e)).reduce((e,t)=>e.concat(t)):tt():[]}function SI(n){return{before:n.before,values:n.position}}function AI(n){return new m_(n.values||[],!!n.before)}function Jg(n){return UA[n]}function $A(n){return BA[n]}function Gf(n){return{fieldPath:n.canonicalString()}}function zf(n){return ii.fromServerFormat(n.fieldPath)}function R_(n){return Di.create(zf(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(n.fieldFilter.op),n.fieldFilter.value)}function xI(n){switch(n.unaryFilter.op){case"IS_NAN":const e=zf(n.unaryFilter.field);return Di.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=zf(n.unaryFilter.field);return Di.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=zf(n.unaryFilter.field);return Di.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=zf(n.unaryFilter.field);return Di.create(o,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}function RI(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xb(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Jo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=qf(e)),e=Xg(n.get(t),e);return qf(e)}function Xg(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function qf(n){return n+"\x01\x01"}function ql(n){const e=n.length;if(yt(e>=2),2===e)return yt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),rn.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const h=n.indexOf("\x01",u);switch((h<0||h>t)&&tt(),n.charAt(h+1)){case"\x01":const m=n.substring(u,h);let b;0===o.length?b=m:(o+=m,b=o,o=""),r.push(b);break;case"\x10":o+=n.substring(u,h),o+="\0";break;case"\x11":o+=n.substring(u,h+1);break;default:tt()}u=h+2}return new rn(r)}class GA{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class ks{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}ks.store="owner",ks.key="owner";class Wl{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}Wl.store="mutationQueues",Wl.keyPath="userId";class bn{constructor(e,t,r,o,u){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=o,this.mutations=u}}bn.store="mutations",bn.keyPath="batchId",bn.userMutationsIndex="userMutationsIndex",bn.userMutationsKeyPath=["userId","batchId"];class ai{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Jo(t)]}static key(e,t,r){return[e,Jo(t),r]}}ai.store="documentMutations",ai.PLACEHOLDER=new ai;class zA{constructor(e,t){this.path=e,this.readTime=t}}class OI{constructor(e,t){this.path=e,this.version=t}}class Kn{constructor(e,t,r,o,u,h){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=o,this.readTime=u,this.parentPath=h}}Kn.store="remoteDocuments",Kn.readTimeIndex="readTimeIndex",Kn.readTimeIndexPath="readTime",Kn.collectionReadTimeIndex="collectionReadTimeIndex",Kn.collectionReadTimeIndexPath=["parentPath","readTime"];class za{constructor(e){this.byteSize=e}}za.store="remoteDocumentGlobal",za.key="remoteDocumentGlobalKey";class Fs{constructor(e,t,r,o,u,h,m){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=o,this.lastListenSequenceNumber=u,this.lastLimboFreeSnapshotVersion=h,this.query=m}}Fs.store="targets",Fs.keyPath="targetId",Fs.queryTargetsIndexName="queryTargetsIndex",Fs.queryTargetsKeyPath=["canonicalId","targetId"];class Si{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}Si.store="targetDocuments",Si.keyPath=["targetId","path"],Si.documentTargetsIndex="documentTargetsIndex",Si.documentTargetsKeyPath=["path","targetId"];class lo{constructor(e,t,r,o){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=o}}lo.key="targetGlobalKey",lo.store="targetGlobal";class Wf{constructor(e,t){this.collectionId=e,this.parent=t}}Wf.store="collectionParents",Wf.keyPath=["collectionId","parent"];class qa{constructor(e,t,r,o){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=o}}qa.store="clientMetadata",qa.keyPath="clientId";class Zl{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}Zl.store="bundles",Zl.keyPath="bundleId";class Zf{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}Zf.store="namedQueries",Zf.keyPath="name";const qA=[Wl.store,bn.store,ai.store,Kn.store,Fs.store,ks.store,lo.store,Si.store,qa.store,za.store,Wf.store,Zl.store,Zf.store],Rb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ae((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ae?t:Ae.resolve(t)}catch(t){return Ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ae.reject(t)}static resolve(e){return new Ae((t,r)=>{t(e)})}static reject(e){return new Ae((t,r)=>{r(e)})}static waitFor(e){return new Ae((t,r)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},b=>r(b))}),h=!0,u===o&&t()})}static or(e){let t=Ae.resolve(!1);for(const r of e)t=t.next(o=>o?Ae.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}}class O_{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new _r,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new em(e,t.error)):this.Et.resolve()},this.transaction.onerror=r=>{const o=Ob(r.target.error);this.Et.reject(new em(e,o))}}static open(e,t,r,o){try{return new O_(t,e.transaction(o,r))}catch(u){throw new em(t,u)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new ZA(t)}}class Xo{constructor(e,t,r){this.name=e,this.version=t,this.At=r,12.2===Xo.Rt((0,kt.z$)())&&yr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),Td(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,kt.hl)())return!1;if(Xo.Pt())return!0;const e=(0,kt.z$)(),t=Xo.Rt(e),r=0<t&&t<10,o=Xo.vt(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Dt(e){var t=this;return(0,me.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=h=>{r(h.target.result)},u.onblocked=()=>{o(new em(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=h=>{const m=h.target.error;o("VersionError"===m.name?new Oe(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Oe(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new em(e,m))},u.onupgradeneeded=h=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.At.Ct(h.target.result,u.transaction,h.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=r=>t.Nt(r)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,me.Z)(function*(){const h="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.Dt(e);const b=O_.open(u.db,e,h?"readonly":"readwrite",r),I=o(b).catch(x=>(b.abort(x),Ae.reject(x))).toPromise();return I.catch(()=>{}),yield b.It,I}catch(b){const I="FirebaseError"!==b.name&&m<3;if(Pe("SimpleDb","Transaction failed with error:",b.message,"Retrying:",I),u.close(),!I)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class WA{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return Td(this.kt.delete())}}class em extends Oe{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function fc(n){return"IndexedDbTransactionError"===n.name}class ZA{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Td(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),Td(this.store.add(e))}get(e){return Td(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),Td(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),Td(this.store.count())}Lt(e,t){const r=this.cursor(this.options(e,t)),o=[];return this.Bt(r,(u,h)=>{o.push(h)}).next(()=>o)}Ut(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.qt=!1;const o=this.cursor(r);return this.Bt(o,(u,h,m)=>m.delete())}Kt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Bt(o,t)}jt(e){const t=this.cursor({});return new Ae((r,o)=>{t.onerror=u=>{const h=Ob(u.target.error);o(h)},t.onsuccess=u=>{const h=u.target.result;h?e(h.primaryKey,h.value).next(m=>{m?h.continue():r()}):r()}})}Bt(e,t){const r=[];return new Ae((o,u)=>{e.onerror=h=>{u(h.target.error)},e.onsuccess=h=>{const m=h.target.result;if(!m)return void o();const b=new WA(m),I=t(m.primaryKey,m.value,b);if(I instanceof Ae){const x=I.catch(O=>(b.done(),Ae.reject(O)));r.push(x)}b.isDone?o():null===b.Ft?m.continue():m.continue(b.Ft)}}).next(()=>Ae.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.qt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Td(n){return new Ae((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=Ob(r.target.error);t(o)}})}let Dd=!1;function Ob(n){const e=Xo.Rt((0,kt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Dd||(Dd=!0,setTimeout(()=>{throw r},0)),r}}return n}class Nb extends Kf{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function ls(n,e){const t=Le(n);return Xo.St(t.Qt,e)}class N_{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&yI(u,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&qg(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&qg(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(St.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),an())}isEqual(e){return this.batchId===e.batchId&&Rf(this.mutations,e.mutations,(t,r)=>I_(t,r))&&Rf(this.baseMutations,e.baseMutations,(t,r)=>I_(t,r))}}class Mb{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){yt(e.mutations.length===r.length);let o=bI();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new Mb(e,t,r,o)}}class Kl{constructor(e,t,r,o,u=St.min(),h=St.min(),m=$r.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m}withSequenceNumber(e){return new Kl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Kl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Kl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class NI{constructor(e){this.Wt=e}}function tm(n,e){if(e.document)return Yg(n.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=Qe.fromSegments(e.noDocument.path),r=Qf(e.noDocument.readTime),o=xn.newNoDocument(t,r);return e.hasCommittedMutations?o.setHasCommittedMutations():o}if(e.unknownDocument){const t=Qe.fromSegments(e.unknownDocument.path),r=Qf(e.unknownDocument.version);return xn.newUnknownDocument(t,r)}return tt()}function MI(n,e,t){const r=M_(t),o=e.key.path.popLast().toArray();if(e.isFoundDocument()){const u={name:rt(m=n.Wt,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:D_(m,b.version.toTimestamp())};return new Kn(null,null,u,e.hasCommittedMutations,r,o)}var m,b;if(e.isNoDocument()){const u=e.key.path.toArray(),h=Yf(e.version),m=e.hasCommittedMutations;return new Kn(null,new zA(u,h),null,m,r,o)}if(e.isUnknownDocument()){const u=e.key.path.toArray(),h=Yf(e.version);return new Kn(new OI(u,h),null,null,!0,r,o)}return tt()}function M_(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Pb(n){const e=new Hr(n[0],n[1]);return St.fromTimestamp(e)}function Yf(n){const e=n.toTimestamp();return new GA(e.seconds,e.nanoseconds)}function Qf(n){const e=new Hr(n.seconds,n.nanoseconds);return St.fromTimestamp(e)}function Jf(n,e){const t=(e.baseMutations||[]).map(u=>x_(n.Wt,u));for(let u=0;u<e.mutations.length-1;++u){const h=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(h.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>x_(n.Wt,u)),o=Hr.fromMillis(e.localWriteTimeMs);return new N_(e.batchId,o,t,r)}function Sd(n){const e=Qf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Qf(n.lastLimboFreeSnapshotVersion):St.min();let r;var o;return void 0!==n.query.documents?(yt(1===(o=n.query).documents.length),r=oo(Ff(CI(o.documents[0])))):r=oo(Ab(n.query)),new Kl(r,n.targetId,0,n.lastListenSequenceNumber,e,t,$r.fromBase64String(n.resumeToken))}function PI(n,e){const t=Yf(e.snapshotVersion),r=Yf(e.lastLimboFreeSnapshotVersion);let o;o=jg(e.target)?Db(n.Wt,e.target):Sb(n.Wt,e.target);const u=e.resumeToken.toBase64();return new Fs(e.targetId,Pf(e.target),t,u,e.sequenceNumber,r,o)}function P_(n){const e=Ab({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?lb(e,e.limit,"L"):e}class KA{getBundleMetadata(e,t){return kI(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Qf(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return kI(e).put({bundleId:(r=t).id,createTime:Yf(Rr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return FI(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:P_(o.bundledQuery),readTime:Qf(o.readTime)};var o})}saveNamedQuery(e,t){return FI(e).put({name:(r=t).name,readTime:Yf(Rr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function kI(n){return ls(n,Zl.store)}function FI(n){return ls(n,Zf.store)}class YA{constructor(){this.Gt=new kb}addToCollectionParentIndex(e,t){return this.Gt.add(t),Ae.resolve()}getCollectionParents(e,t){return Ae.resolve(this.Gt.getEntries(t))}}class kb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new jn(rn.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new jn(rn.comparator)).toArray()}}class QA{constructor(){this.zt=new kb}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const u={collectionId:r,parent:Jo(o)};return LI(e).put(u)}return Ae.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[nb(t),""],!1,!0);return LI(e).Lt(o).next(u=>{for(const h of u){if(h.collectionId!==t)break;r.push(ql(h.parent))}return r})}}function LI(n){return ls(n,Wf.store)}const VI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Bi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Bi(e,Bi.DEFAULT_COLLECTION_PERCENTILE,Bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Fb(n,e,t){const r=n.store(bn.store),o=n.store(ai.store),u=[],h=IDBKeyRange.only(t.batchId);let m=0;const b=r.Kt({range:h},(x,O,j)=>(m++,j.delete()));u.push(b.next(()=>{yt(1===m)}));const I=[];for(const x of t.mutations){const O=ai.key(e,x.key.path,t.batchId);u.push(o.delete(O)),I.push(x.key)}return Ae.waitFor(u).next(()=>I)}function k_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw tt();e=n.noDocument}return JSON.stringify(e).length}Bi.DEFAULT_COLLECTION_PERCENTILE=10,Bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bi.DEFAULT=new Bi(41943040,Bi.DEFAULT_COLLECTION_PERCENTILE,Bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bi.DISABLED=new Bi(-1,0,0);class Lb{constructor(e,t,r,o){this.userId=e,this.N=t,this.Ht=r,this.referenceDelegate=o,this.Jt={}}static Yt(e,t,r,o){yt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Lb(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return pc(e).Kt({index:bn.userMutationsIndex,range:r},(o,u,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=Xf(e),h=pc(e);return h.add({}).next(m=>{yt("number"==typeof m);const b=new N_(m,t,r,o),I=function(j,B,Z){const pe=Z.baseMutations.map(Be=>Qg(j.Wt,Be)),Se=Z.mutations.map(Be=>Qg(j.Wt,Be));return new bn(B,Z.batchId,Z.localWriteTime.toMillis(),pe,Se)}(this.N,this.userId,b),x=[];let O=new jn((j,B)=>Nt(j.canonicalString(),B.canonicalString()));for(const j of o){const B=ai.key(this.userId,j.key.path,m);O=O.add(j.key.path.popLast()),x.push(h.put(I)),x.push(u.put(B,ai.PLACEHOLDER))}return O.forEach(j=>{x.push(this.Ht.addToCollectionParentIndex(e,j))}),e.addOnCommittedListener(()=>{this.Jt[m]=b.keys()}),Ae.waitFor(x).next(()=>b)})}lookupMutationBatch(e,t){return pc(e).get(t).next(r=>r?(yt(r.userId===this.userId),Jf(this.N,r)):null)}Xt(e,t){return this.Jt[t]?Ae.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Jt[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return pc(e).Kt({index:bn.userMutationsIndex,range:o},(h,m,b)=>{m.userId===this.userId&&(yt(m.batchId>=r),u=Jf(this.N,m)),b.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return pc(e).Kt({index:bn.userMutationsIndex,range:t,reverse:!0},(o,u,h)=>{r=u.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return pc(e).Lt(bn.userMutationsIndex,t).next(r=>r.map(o=>Jf(this.N,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=ai.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return Xf(e).Kt({range:o},(h,m,b)=>{const[I,x,O]=h,j=ql(x);if(I===this.userId&&t.path.isEqual(j))return pc(e).get(O).next(B=>{if(!B)throw tt();yt(B.userId===this.userId),u.push(Jf(this.N,B))});b.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new jn(Nt);const o=[];return t.forEach(u=>{const h=ai.prefixForPath(this.userId,u.path),m=IDBKeyRange.lowerBound(h),b=Xf(e).Kt({range:m},(I,x,O)=>{const[j,B,Z]=I,pe=ql(B);j===this.userId&&u.path.isEqual(pe)?r=r.add(Z):O.done()});o.push(b)}),Ae.waitFor(o).next(()=>this.Zt(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=ai.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(u);let m=new jn(Nt);return Xf(e).Kt({range:h},(b,I,x)=>{const[O,j,B]=b,Z=ql(j);O===this.userId&&r.isPrefixOf(Z)?Z.length===o&&(m=m.add(B)):x.done()}).next(()=>this.Zt(e,m))}Zt(e,t){const r=[],o=[];return t.forEach(u=>{o.push(pc(e).get(u).next(h=>{if(null===h)throw tt();yt(h.userId===this.userId),r.push(Jf(this.N,h))}))}),Ae.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return Fb(e.Qt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),Ae.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ae.resolve();const r=IDBKeyRange.lowerBound(ai.prefixForUser(this.userId)),o=[];return Xf(e).Kt({range:r},(u,h,m)=>{if(u[0]===this.userId){const b=ql(u[1]);o.push(b)}else m.done()}).next(()=>{yt(0===o.length)})})}containsKey(e,t){return Vb(e,this.userId,t)}ee(e){return UI(e).get(this.userId).next(t=>t||new Wl(this.userId,-1,""))}}function Vb(n,e,t){const r=ai.prefixForPath(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let h=!1;return Xf(n).Kt({range:u,qt:!0},(m,b,I)=>{const[x,O,j]=m;x===e&&O===o&&(h=!0),I.done()}).next(()=>h)}function pc(n){return ls(n,bn.store)}function Xf(n){return ls(n,ai.store)}function UI(n){return ls(n,Wl.store)}class Yl{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Yl(0)}static ie(){return new Yl(-1)}}class Ub{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const r=new Yl(t.highestTargetId);return t.highestTargetId=r.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(t=>St.fromTimestamp(new Hr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.re(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.oe(e,o)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.re(e).next(r=>(r.targetCount+=1,this.ae(t,r),this.oe(e,r))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ad(e).delete(t.targetId)).next(()=>this.re(e)).next(r=>(yt(r.targetCount>0),r.targetCount-=1,this.oe(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return Ad(e).Kt((h,m)=>{const b=Sd(m);b.sequenceNumber<=t&&null===r.get(b.targetId)&&(o++,u.push(this.removeTargetData(e,b)))}).next(()=>Ae.waitFor(u)).next(()=>o)}forEachTarget(e,t){return Ad(e).Kt((r,o)=>{const u=Sd(o);t(u)})}re(e){return F_(e).get(lo.key).next(t=>(yt(null!==t),t))}oe(e,t){return F_(e).put(lo.key,t)}ce(e,t){return Ad(e).put(PI(this.N,t))}ae(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.re(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Pf(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Ad(e).Kt({range:o,index:Fs.queryTargetsIndexName},(h,m,b)=>{const I=Sd(m);Bg(t,I.target)&&(u=I,b.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=gc(e);return t.forEach(h=>{const m=Jo(h.path);o.push(u.put(new Si(r,m))),o.push(this.referenceDelegate.addReference(e,r,h))}),Ae.waitFor(o)}removeMatchingKeys(e,t,r){const o=gc(e);return Ae.forEach(t,u=>{const h=Jo(u.path);return Ae.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=gc(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=gc(e);let u=an();return o.Kt({range:r,qt:!0},(h,m,b)=>{const I=ql(h[1]),x=new Qe(I);u=u.add(x)}).next(()=>u)}containsKey(e,t){const r=Jo(t.path),o=IDBKeyRange.bound([r],[nb(r)],!1,!0);let u=0;return gc(e).Kt({index:Si.documentTargetsIndex,qt:!0,range:o},([h,m],b,I)=>{0!==h&&(u++,I.done())}).next(()=>u>0)}Tt(e,t){return Ad(e).get(t).next(r=>r?Sd(r):null)}}function Ad(n){return ls(n,Fs.store)}function F_(n){return ls(n,lo.store)}function gc(n){return ls(n,Si.store)}function xd(n){return nm.apply(this,arguments)}function nm(){return(nm=(0,me.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==Rb)throw n;Pe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function BI([n,e],[t,r]){const o=Nt(n,t);return 0===o?Nt(e,r):o}class jI{constructor(e){this.ue=e,this.buffer=new jn(BI),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();BI(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class JA{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const r=this.de?3e5:6e4;Pe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,me.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){fc(o)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield xd(o)}yield t._e(e)}))}}class HI{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ae.resolve(os.T);const r=new jI(t);return this.me.forEachTarget(e,o=>r.fe(o.sequenceNumber)).next(()=>this.me.ye(e,o=>r.fe(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.me.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(VI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VI):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let r,o,u,h,m,b,I;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),o=this.params.maximumSequenceNumbersToCollect):o=O,h=Date.now(),this.nthSequenceNumber(e,o))).next(O=>(r=O,m=Date.now(),this.removeTargets(e,r,t))).next(O=>(u=O,b=Date.now(),this.removeOrphanedDocuments(e,r))).next(O=>(I=Date.now(),tb()<=Xu.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-x}ms\n\tDetermined least recently used ${o} in `+(m-h)+`ms\n\tRemoved ${u} targets in `+(b-m)+`ms\n\tRemoved ${O} documents in `+(I-b)+`ms\nTotal Duration: ${I-x}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:O})))}}class $I{constructor(e,t){this.db=e,this.garbageCollector=new HI(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Te(e){let t=0;return this.ye(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(r,o)=>t(o))}addReference(e,t,r){return rm(e,r)}removeReference(e,t,r){return rm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return rm(e,t)}Ie(e,t){return function(r,o){let u=!1;return UI(r).jt(h=>Vb(r,h,o).next(m=>(m&&(u=!0),Ae.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Ee(e,(h,m)=>{if(m<=t){const b=this.Ie(e,h).next(I=>{if(!I)return u++,r.getEntry(e,h).next(()=>(r.removeEntry(h),gc(e).delete([0,Jo(h.path)])))});o.push(b)}}).next(()=>Ae.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return rm(e,t)}Ee(e,t){const r=gc(e);let o,u=os.T;return r.Kt({index:Si.documentTargetsIndex},([h,m],{path:b,sequenceNumber:I})=>{0===h?(u!==os.T&&t(new Qe(ql(o)),u),u=I,o=b):u=os.T}).next(()=>{u!==os.T&&t(new Qe(ql(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function rm(n,e){return gc(n).put((r=n.currentSequenceNumber,new Si(0,Jo(e.path),r)));var r}class im{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o){for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),!0;return!1}forEach(e){yd(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return rb(this.inner)}}class GI{constructor(){this.changes=new im(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:St.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:xn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ae.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ep{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,r){return ea(e).put(V_(t),r)}removeEntry(e,t){const r=ea(e),o=V_(t);return r.delete(o)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Ae(e,r)))}getEntry(e,t){return ea(e).get(V_(t)).next(r=>this.Re(t,r))}be(e,t){return ea(e).get(V_(t)).next(r=>({document:this.Re(t,r),size:k_(r)}))}getEntries(e,t){let r=ao();return this.Pe(e,t,(o,u)=>{const h=this.Re(o,u);r=r.insert(o,h)}).next(()=>r)}ve(e,t){let r=ao(),o=new xr(Qe.comparator);return this.Pe(e,t,(u,h)=>{const m=this.Re(u,h);r=r.insert(u,m),o=o.insert(u,k_(h))}).next(()=>({documents:r,Ve:o}))}Pe(e,t,r){if(t.isEmpty())return Ae.resolve();const o=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),u=t.getIterator();let h=u.getNext();return ea(e).Kt({range:o},(m,b,I)=>{const x=Qe.fromSegments(m);for(;h&&Qe.comparator(h,x)<0;)r(h,null),h=u.getNext();h&&h.isEqual(x)&&(r(h,b),h=u.hasNext()?u.getNext():null),h?I.Mt(h.path.toArray()):I.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r){let o=ao();const u=t.path.length+1,h={};if(r.isEqual(St.min())){const m=t.path.toArray();h.range=IDBKeyRange.lowerBound(m)}else{const m=t.path.toArray(),b=M_(r);h.range=IDBKeyRange.lowerBound([m,b],!0),h.index=Kn.collectionReadTimeIndex}return ea(e).Kt(h,(m,b,I)=>{if(m.length!==u)return;const x=tm(this.N,b);t.path.isPrefixOf(x.key.path)?wd(t,x)&&(o=o.insert(x.key,x)):I.done()}).next(()=>o)}newChangeBuffer(e){return new jN(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return L_(e).get(za.key).next(t=>(yt(!!t),t))}Ae(e,t){return L_(e).put(za.key,t)}Re(e,t){if(t){const r=tm(this.N,t);if(!r.isNoDocument()||!r.version.isEqual(St.min()))return r}return xn.newInvalidDocument(e)}}class jN extends GI{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new im(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new jn((u,h)=>Nt(u.canonicalString(),h.canonicalString()));return this.changes.forEach((u,h)=>{const m=this.De.get(u);if(h.document.isValidDocument()){const b=MI(this.Se.N,h.document,this.getReadTime(u));o=o.add(u.path.popLast()),r+=k_(b)-m,t.push(this.Se.addEntry(e,u,b))}else if(r-=m,this.trackRemovals){const b=MI(this.Se.N,xn.newNoDocument(u,St.min()),this.getReadTime(u));t.push(this.Se.addEntry(e,u,b))}else t.push(this.Se.removeEntry(e,u))}),o.forEach(u=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,u))}),t.push(this.Se.updateMetadata(e,r)),Ae.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(r=>(this.De.set(t,r.size),r.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:r,Ve:o})=>(o.forEach((u,h)=>{this.De.set(u,h)}),r))}}function L_(n){return ls(n,za.store)}function ea(n){return ls(n,Kn.store)}function V_(n){return n.path.toArray()}class tp{constructor(e){this.N=e}Ct(e,t,r,o){yt(r<o&&r>=0&&o<=11);const u=new O_("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore(ks.store),(m=e).createObjectStore(Wl.store,{keyPath:Wl.keyPath}),m.createObjectStore(bn.store,{keyPath:bn.keyPath,autoIncrement:!0}).createIndex(bn.userMutationsIndex,bn.userMutationsKeyPath,{unique:!0}),m.createObjectStore(ai.store),zI(e),function(m){m.createObjectStore(Kn.store)}(e));let h=Ae.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore(Si.store),m.deleteObjectStore(Fs.store),m.deleteObjectStore(lo.store)}(e),zI(e)),h=h.next(()=>function(m){const b=m.store(lo.store),I=new lo(0,0,St.min().toTimestamp(),0);return b.put(lo.key,I)}(u))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(m,b){return b.store(bn.store).Lt().next(I=>{m.deleteObjectStore(bn.store),m.createObjectStore(bn.store,{keyPath:bn.keyPath,autoIncrement:!0}).createIndex(bn.userMutationsIndex,bn.userMutationsKeyPath,{unique:!0});const x=b.store(bn.store),O=I.map(j=>x.put(j));return Ae.waitFor(O)})}(e,u))),h=h.next(()=>{!function(m){m.createObjectStore(qa.store,{keyPath:qa.keyPath})}(e)})),r<5&&o>=5&&(h=h.next(()=>this.Ce(u))),r<6&&o>=6&&(h=h.next(()=>(function(m){m.createObjectStore(za.store)}(e),this.Ne(u)))),r<7&&o>=7&&(h=h.next(()=>this.xe(u))),r<8&&o>=8&&(h=h.next(()=>this.ke(e,u))),r<9&&o>=9&&(h=h.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(e),function(m){const b=m.objectStore(Kn.store);b.createIndex(Kn.readTimeIndex,Kn.readTimeIndexPath,{unique:!1}),b.createIndex(Kn.collectionReadTimeIndex,Kn.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&o>=10&&(h=h.next(()=>this.$e(u))),r<11&&o>=11&&(h=h.next(()=>{(function(m){m.createObjectStore(Zl.store,{keyPath:Zl.keyPath})})(e),function(m){m.createObjectStore(Zf.store,{keyPath:Zf.keyPath})}(e)})),h}Ne(e){let t=0;return e.store(Kn.store).Kt((r,o)=>{t+=k_(o)}).next(()=>{const r=new za(t);return e.store(za.store).put(za.key,r)})}Ce(e){const t=e.store(Wl.store),r=e.store(bn.store);return t.Lt().next(o=>Ae.forEach(o,u=>{const h=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.Lt(bn.userMutationsIndex,h).next(m=>Ae.forEach(m,b=>{yt(b.userId===u.userId);const I=Jf(this.N,b);return Fb(e,u.userId,I).next(()=>{})}))}))}xe(e){const t=e.store(Si.store),r=e.store(Kn.store);return e.store(lo.store).get(lo.key).next(o=>{const u=[];return r.Kt((h,m)=>{const b=new rn(h),I=[0,Jo(b)];u.push(t.get(I).next(x=>x?Ae.resolve():t.put(new Si(0,Jo(b),o.highestListenSequenceNumber))))}).next(()=>Ae.waitFor(u))})}ke(e,t){e.createObjectStore(Wf.store,{keyPath:Wf.keyPath});const r=t.store(Wf.store),o=new kb,u=h=>{if(o.add(h)){const m=h.lastSegment(),b=h.popLast();return r.put({collectionId:m,parent:Jo(b)})}};return t.store(Kn.store).Kt({qt:!0},(h,m)=>{const b=new rn(h);return u(b.popLast())}).next(()=>t.store(ai.store).Kt({qt:!0},([h,m,b],I)=>{const x=ql(m);return u(x.popLast())}))}$e(e){const t=e.store(Fs.store);return t.Kt((r,o)=>{const u=Sd(o),h=PI(this.N,u);return t.put(h)})}}function zI(n){n.createObjectStore(Si.store,{keyPath:Si.keyPath}).createIndex(Si.documentTargetsIndex,Si.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Fs.store,{keyPath:Fs.keyPath}).createIndex(Fs.queryTargetsIndexName,Fs.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(lo.store)}const qI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Bb{constructor(e,t,r,o,u,h,m,b,I,x){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Oe=u,this.window=h,this.document=m,this.Fe=I,this.Me=x,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=O=>Promise.resolve(),!Bb.bt())throw new Oe(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $I(this,o),this.We=t+"main",this.N=new NI(b),this.Ge=new Xo(this.We,11,new tp(this.N)),this.ze=new Ub(this.referenceDelegate,this.N),this.Ht=new QA,this.He=new ep(this.N,this.Ht),this.Je=new KA,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===x&&yr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(de.FAILED_PRECONDITION,qI);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new os(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var r=(0,me.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,me.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,me.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>sm(e).put(new qa(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(fc(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return us(e).get(ks.key).next(t=>Ae.resolve(this.an(t)))}un(e){return sm(e).delete(this.clientId)}hn(){var e=this;return(0,me.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=ls(r,qa.store);return o.Lt().next(u=>{const h=e.fn(u,18e5),m=u.filter(b=>-1===h.indexOf(b));return Ae.forEach(m,b=>o.delete(b.clientId)).next(()=>m)})}).catch(()=>[]);if(e.Ye)for(const r of t)e.Ye.removeItem(e.dn(r.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Ae.resolve(!0):us(e).get(ks.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.an(t)&&this.networkEnabled)return!0;if(!this.an(t)){if(!t.allowTabSynchronization)throw new Oe(de.FAILED_PRECONDITION,qI);return!1}}return!(!this.networkEnabled||!this.inForeground)||sm(e).Lt().next(r=>void 0===this.fn(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,me.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[ks.store,qa.store],t=>{const r=new Nb(t,os.T);return e.on(r).next(()=>e.un(r))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(r=>this.ln(r.updateTimeMs,t)&&!this.wn(r.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>sm(e).Lt().next(t=>this.fn(t,18e5).map(r=>r.clientId)))}get started(){return this.Be}getMutationQueue(e){return Lb.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,r){let u;return Pe("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",qA,h=>(u=new Nb(h,this.Le?this.Le.next():os.T),"readwrite-primary"===t?this.sn(u).next(m=>!!m||this.rn(u)).next(m=>{if(!m)throw yr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Oe(de.FAILED_PRECONDITION,Rb);return r(u)}).next(m=>this.cn(u).next(()=>m)):this.Tn(u).next(()=>r(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}Tn(e){return us(e).get(ks.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.an(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(de.FAILED_PRECONDITION,qI)})}cn(e){const t=new ks(this.clientId,this.allowTabSynchronization,Date.now());return us(e).put(ks.key,t)}static bt(){return Xo.bt()}on(e){const t=us(e);return t.get(ks.key).next(r=>this.an(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete(ks.key)):Ae.resolve())}ln(e,t){const r=Date.now();return!(e<r-t||e>r&&(yr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,kt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const r=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return yr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){yr("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function us(n){return ls(n,ks.store)}function sm(n){return ls(n,qa.store)}function WI(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class U_{constructor(e,t){this.progress=e,this.En=t}}class ZI{constructor(e,t,r){this.He=e,this.In=t,this.Ht=r}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Rn(e,t,r))}Rn(e,t,r){return this.He.getEntry(e,t).next(o=>{for(const u of r)u.applyToLocalView(o);return o})}bn(e,t){e.forEach((r,o)=>{for(const u of t)u.applyToLocalView(o)})}Pn(e,t){return this.He.getEntries(e,t).next(r=>this.vn(e,r).next(()=>r))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.bn(t,r))}getDocumentsMatchingQuery(e,t,r){return Qe.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Vn(e,t.path):cc(t)?this.Sn(e,t,r):this.Dn(e,t,r);var o}Vn(e,t){return this.An(e,new Qe(t)).next(r=>{let o=vb();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Sn(e,t,r){const o=t.collectionGroup;let u=vb();return this.Ht.getCollectionParents(e,o).next(h=>Ae.forEach(h,m=>{const b=(I=t,x=m.child(o),new Ha(x,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt));var I,x;return this.Dn(e,b,r).next(I=>{I.forEach((x,O)=>{u=u.insert(x,O)})})}).next(()=>u))}Dn(e,t,r){let o,u;return this.He.getDocumentsMatchingQuery(e,t,r).next(h=>(o=h,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(h=>(u=h,this.Cn(e,u,o).next(m=>{o=m;for(const b of u)for(const I of b.mutations){const x=I.key;let O=o.get(x);null==O&&(O=xn.newInvalidDocument(x),o=o.insert(x,O)),qg(I,O,b.localWriteTime),O.isFoundDocument()||(o=o.remove(x))}}))).next(()=>(o.forEach((h,m)=>{wd(t,m)||(o=o.remove(h))}),o))}Cn(e,t,r){let o=an();for(const h of t)for(const m of h.mutations)m instanceof zl&&null===r.get(m.key)&&(o=o.add(m.key));let u=r;return this.He.getEntries(e,o).next(h=>(h.forEach((m,b)=>{b.isFoundDocument()&&(u=u.insert(m,b))}),u))}}class jb{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Nn=r,this.xn=o}static kn(e,t){let r=an(),o=an();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new jb(e,t.fromCache,r,o)}}class XA{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,r,o){return 0===(u=t).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||r.isEqual(St.min())?this.Fn(e,t):this.On.Pn(e,o).next(u=>{const h=this.Mn(t,u);return(Hg(t)||__(t))&&this.Ln(t.limitType,h,o,r)?this.Fn(e,t):(tb()<=Xu.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),cI(t)),this.On.getDocumentsMatchingQuery(e,t,r).next(m=>(h.forEach(b=>{m=m.insert(b.key,b)}),m)))});var u}Mn(e,t){let r=new jn(b_(e));return t.forEach((o,u)=>{wd(e,u)&&(r=r.add(u))}),r}Ln(e,t,r,o){if(r.size!==t.size)return!0;const u="F"===e?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Fn(e,t){return tb()<=Xu.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",cI(t)),this.On.getDocumentsMatchingQuery(e,t,St.min())}}class ex{constructor(e,t,r,o){this.persistence=e,this.Bn=t,this.N=o,this.Un=new xr(Nt),this.qn=new im(u=>Pf(u),Bg),this.Kn=St.min(),this.In=e.getMutationQueue(r),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new ZI(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function KI(n,e,t,r){return new ex(n,e,t,r)}function YI(n,e){return om.apply(this,arguments)}function om(){return(om=(0,me.Z)(function*(n,e){const t=Le(n);let r=t.In,o=t.Qn;const u=yield t.persistence.runTransaction("Handle user change","readonly",h=>{let m;return t.In.getAllMutationBatches(h).next(b=>(m=b,r=t.persistence.getMutationQueue(e),o=new ZI(t.jn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(b=>{const I=[],x=[];let O=an();for(const j of m){I.push(j.batchId);for(const B of j.mutations)O=O.add(B.key)}for(const j of b){x.push(j.batchId);for(const B of j.mutations)O=O.add(B.key)}return o.Pn(h,O).next(j=>({Wn:j,removedBatchIds:I,addedBatchIds:x}))})});return t.In=r,t.Qn=o,t.Bn.$n(t.Qn),u})).apply(this,arguments)}function QI(n,e){const t=Le(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.jn.newChangeBuffer({trackRemovals:!0});return function(h,m,b,I){const x=b.batch,O=x.keys();let j=Ae.resolve();return O.forEach(B=>{j=j.next(()=>I.getEntry(m,B)).next(Z=>{const pe=b.docVersions.get(B);yt(null!==pe),Z.version.compareTo(pe)<0&&(x.applyToRemoteDocument(Z,b),Z.isValidDocument()&&I.addEntry(Z,b.commitVersion))})}),j.next(()=>h.In.removeMutationBatch(m,x))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.In.performConsistencyCheck(r)).next(()=>t.Qn.Pn(r,o))})}function B_(n){const e=Le(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function JI(n,e){const t=Le(n),r=e.snapshotVersion;let o=t.Un;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.jn.newChangeBuffer({trackRemovals:!0});o=t.Un;const m=[];e.targetChanges.forEach((I,x)=>{const O=o.get(x);if(!O)return;m.push(t.ze.removeMatchingKeys(u,I.removedDocuments,x).next(()=>t.ze.addMatchingKeys(u,I.addedDocuments,x)));const j=I.resumeToken;if(j.approximateByteSize()>0){const B=O.withResumeToken(j,r).withSequenceNumber(u.currentSequenceNumber);o=o.insert(x,B),Z=O,Se=I,yt((pe=B).resumeToken.approximateByteSize()>0),(0===Z.resumeToken.approximateByteSize()||pe.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=3e8||Se.addedDocuments.size+Se.modifiedDocuments.size+Se.removedDocuments.size>0)&&m.push(t.ze.updateTargetData(u,B))}var Z,pe,Se});let b=ao();if(e.documentUpdates.forEach((I,x)=>{e.resolvedLimboDocuments.has(I)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,I))}),m.push(XI(u,h,e.documentUpdates,r,void 0).next(I=>{b=I})),!r.isEqual(St.min())){const I=t.ze.getLastRemoteSnapshotVersion(u).next(x=>t.ze.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(I)}return Ae.waitFor(m).next(()=>h.apply(u)).next(()=>t.Qn.vn(u,b)).next(()=>b)}).then(u=>(t.Un=o,u))}function XI(n,e,t,r,o){let u=an();return t.forEach(h=>u=u.add(h)),e.getEntries(n,u).next(h=>{let m=ao();return t.forEach((b,I)=>{const x=h.get(b),O=(null==o?void 0:o.get(b))||r;I.isNoDocument()&&I.version.isEqual(St.min())?(e.removeEntry(b,O),m=m.insert(b,I)):!x.isValidDocument()||I.version.compareTo(x.version)>0||0===I.version.compareTo(x.version)&&x.hasPendingWrites?(e.addEntry(I,O),m=m.insert(b,I)):Pe("LocalStore","Ignoring outdated watch update for ",b,". Current version:",x.version," Watch version:",I.version)}),m})}function HN(n,e){const t=Le(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.In.getNextMutationBatchAfterBatchId(r,e)))}function np(n,e){const t=Le(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.ze.getTargetData(r,e).next(u=>u?(o=u,Ae.resolve(o)):t.ze.allocateTargetId(r).next(h=>(o=new Kl(e,h,0,r.currentSequenceNumber),t.ze.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Un.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Un=t.Un.insert(r.targetId,r),t.qn.set(e,r.targetId)),r})}function rp(n,e,t){return Hb.apply(this,arguments)}function Hb(){return(Hb=(0,me.Z)(function*(n,e,t){const r=Le(n),o=r.Un.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!fc(h))throw h;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.Un=r.Un.remove(e),r.qn.delete(o.target)})).apply(this,arguments)}function am(n,e,t){const r=Le(n);let o=St.min(),u=an();return r.persistence.runTransaction("Execute query","readonly",h=>function(m,b,I){const x=Le(m),O=x.qn.get(I);return void 0!==O?Ae.resolve(x.Un.get(O)):x.ze.getTargetData(b,I)}(r,h,oo(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(h,m.targetId).next(b=>{u=b})}).next(()=>r.Bn.getDocumentsMatchingQuery(h,e,t?o:St.min(),t?u:an())).next(m=>({documents:m,Gn:u})))}function $b(n,e){const t=Le(n),r=Le(t.ze),o=t.Un.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Tt(u,e).next(h=>h?h.target:null))}function Gb(n){const e=Le(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,o,u){const h=Le(r);let m=ao(),b=M_(u);const I=ea(o),x=IDBKeyRange.lowerBound(b,!0);return I.Kt({index:Kn.readTimeIndex,range:x},(O,j)=>{const B=tm(h.N,j);m=m.insert(B.key,B),b=j.readTime}).next(()=>({En:m,readTime:Pb(b)}))}(e.jn,t,e.Kn)).then(({En:t,readTime:r})=>(e.Kn=r,t))}function zb(){return(zb=(0,me.Z)(function*(n){const e=Le(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const o=ea(r);let u=St.min();return o.Kt({index:Kn.readTimeIndex,reverse:!0},(h,m,b)=>{m.readTime&&(u=Pb(m.readTime)),b.done()}).next(()=>u)}(t)).then(t=>{e.Kn=t})})).apply(this,arguments)}function ip(){return(ip=(0,me.Z)(function*(n,e,t,r){const o=Le(n);let u=an(),h=ao(),m=bI();for(const x of t){const O=e.zn(x.metadata.name);x.document&&(u=u.add(O)),h=h.insert(O,e.Hn(x)),m=m.insert(O,e.Jn(x.metadata.readTime))}const b=o.jn.newChangeBuffer({trackRemovals:!0}),I=yield np(o,(x=r,oo(Ff(rn.fromString(`__bundle__/docs/${x}`)))));var x;return o.persistence.runTransaction("Apply bundle documents","readwrite",x=>XI(x,b,h,St.min(),m).next(O=>(b.apply(x),O)).next(O=>o.ze.removeMatchingKeysForTargetId(x,I.targetId).next(()=>o.ze.addMatchingKeys(x,u,I.targetId)).next(()=>o.Qn.vn(x,O)).next(()=>O)))})).apply(this,arguments)}function nx(n,e){return j_.apply(this,arguments)}function j_(){return(j_=(0,me.Z)(function*(n,e,t=an()){const r=yield np(n,oo(P_(e.bundledQuery))),o=Le(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const h=Rr(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o.Je.saveNamedQuery(u,e);const m=r.withResumeToken($r.EMPTY_BYTE_STRING,h);return o.Un=o.Un.insert(m.targetId,m),o.ze.updateTargetData(u,m).next(()=>o.ze.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.ze.addMatchingKeys(u,t,r.targetId)).next(()=>o.Je.saveNamedQuery(u,e))})})).apply(this,arguments)}class H_{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Ae.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var r;return this.Yn.set(t.id,{id:(r=t).id,version:r.version,createTime:Rr(r.createTime)}),Ae.resolve()}getNamedQuery(e,t){return Ae.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(r=t).name,query:P_(r.bundledQuery),readTime:Rr(r.readTime)}),Ae.resolve();var r}}class sp{constructor(){this.Zn=new jn(Yn.ts),this.es=new jn(Yn.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new Yn(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new Yn(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}cs(e){const t=new Qe(new rn([])),r=new Yn(t,e),o=new Yn(t,e+1),u=[];return this.es.forEachInRange([r,o],h=>{this.rs(h),u.push(h.key)}),u}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Qe(new rn([])),r=new Yn(t,e),o=new Yn(t,e+1);let u=an();return this.es.forEachInRange([r,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Yn(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Yn{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Qe.comparator(e.key,t.key)||Nt(e.ls,t.ls)}static ns(e,t){return Nt(e.ls,t.ls)||Qe.comparator(e.key,t.key)}}class rx{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new jn(Yn.ts)}checkEmpty(e){return Ae.resolve(0===this.In.length)}addMutationBatch(e,t,r,o){const u=this.fs;this.fs++;const h=new N_(u,t,r,o);this.In.push(h);for(const m of o)this.ds=this.ds.add(new Yn(m.key,u)),this.Ht.addToCollectionParentIndex(e,m.key.path.popLast());return Ae.resolve(h)}lookupMutationBatch(e,t){return Ae.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const o=this._s(t+1),u=o<0?0:o;return Ae.resolve(this.In.length>u?this.In[u]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Ae.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Yn(t,0),o=new Yn(t,Number.POSITIVE_INFINITY),u=[];return this.ds.forEachInRange([r,o],h=>{const m=this.ws(h.ls);u.push(m)}),Ae.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new jn(Nt);return t.forEach(o=>{const u=new Yn(o,0),h=new Yn(o,Number.POSITIVE_INFINITY);this.ds.forEachInRange([u,h],m=>{r=r.add(m.ls)})}),Ae.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;Qe.isDocumentKey(u)||(u=u.child(""));const h=new Yn(new Qe(u),0);let m=new jn(Nt);return this.ds.forEachWhile(b=>{const I=b.key.path;return!!r.isPrefixOf(I)&&(I.length===o&&(m=m.add(b.ls)),!0)},h),Ae.resolve(this.gs(m))}gs(e){const t=[];return e.forEach(r=>{const o=this.ws(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){yt(0===this.ys(t.batchId,"removed")),this.In.shift();let r=this.ds;return Ae.forEach(t.mutations,o=>{const u=new Yn(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ds=r})}te(e){}containsKey(e,t){const r=new Yn(t,0),o=this.ds.firstAfterOrEqual(r);return Ae.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Ae.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class ix{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new xr(Qe.comparator),this.size=0}addEntry(e,t,r){const o=t.key,u=this.docs.get(o),h=u?u.size:0,m=this.ps(t);return this.docs=this.docs.insert(o,{document:t.clone(),size:m,readTime:r}),this.size+=m-h,this.Ht.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ae.resolve(r?r.document.clone():xn.newInvalidDocument(t))}getEntries(e,t){let r=ao();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.clone():xn.newInvalidDocument(o))}),Ae.resolve(r)}getDocumentsMatchingQuery(e,t,r){let o=ao();const u=new Qe(t.path.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:m,value:{document:b,readTime:I}}=h.getNext();if(!t.path.isPrefixOf(m.path))break;I.compareTo(r)<=0||wd(t,b)&&(o=o.insert(b.key,b.clone()))}return Ae.resolve(o)}Ts(e,t){return Ae.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new $N(this)}getSize(e){return Ae.resolve(this.size)}}class $N extends GI{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.document.isValidDocument()?t.push(this.Se.addEntry(e,o.document,this.getReadTime(r))):this.Se.removeEntry(r)}),Ae.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class sx{constructor(e){this.persistence=e,this.Es=new im(t=>Pf(t),Bg),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.Is=0,this.As=new sp,this.targetCount=0,this.Rs=Yl.se()}forEachTarget(e,t){return this.Es.forEach((r,o)=>t(o)),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Is&&(this.Is=t),Ae.resolve()}ce(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Yl(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,Ae.resolve()}updateTargetData(e,t){return this.ce(t),Ae.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.Es.forEach((h,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Es.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Ae.waitFor(u).next(()=>o)}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,t){const r=this.Es.get(t)||null;return Ae.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),Ae.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),Ae.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Ae.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return Ae.resolve(r)}containsKey(e,t){return Ae.resolve(this.As.containsKey(t))}}class ox{constructor(e,t){this.bs={},this.Le=new os(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new sx(this),this.Ht=new YA,this.He=new ix(this.Ht,r=>this.referenceDelegate.Ps(r)),this.N=new NI(t),this.Je=new H_(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new rx(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const o=new ax(this.Le.next());return this.referenceDelegate.vs(),r(o).next(u=>this.referenceDelegate.Vs(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ss(e,t){return Ae.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class ax extends Kf{constructor(e){super(),this.currentSequenceNumber=e}}class qb{constructor(e){this.persistence=e,this.Ds=new sp,this.Cs=null}static Ns(e){return new qb(e)}get xs(){if(this.Cs)return this.Cs;throw tt()}addReference(e,t,r){return this.Ds.addReference(r,t),this.xs.delete(r.toString()),Ae.resolve()}removeReference(e,t,r){return this.Ds.removeReference(r,t),this.xs.add(r.toString()),Ae.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Ae.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(o=>this.xs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.xs.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.xs,r=>{const o=Qe.fromPath(r);return this.ks(e,o).next(u=>{u||t.removeEntry(o)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return Ae.or([()=>Ae.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function tT(n,e){return`firestore_clients_${n}_${e}`}function nT(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Wb(n,e){return`firestore_targets_${n}_${e}`}class $_{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static $s(e,t,r){const o=JSON.parse(r);let u,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(u=new Oe(o.error.code,o.error.message))),h?new $_(e,t,o.state,u):(yr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lm{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static $s(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Oe(r.error.code,r.error.message))),u?new lm(e,r.state,o):(yr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zb{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=Wg();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=d_(r.activeTargetIds[h]),u=u.add(r.activeTargetIds[h]);return o?new Zb(e,u):(yr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Kb{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Kb(t.clientId,t.onlineState):(yr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Rd{constructor(){this.activeTargetIds=Wg()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Yb{constructor(e,t,r,o,u){this.window=e,this.Oe=t,this.persistenceKey=r,this.Ls=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new xr(Nt),this.started=!1,this.Ks=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.js=tT(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Rd),this.Ws=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(m){return`firestore_bundle_loaded_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,me.Z)(function*(){const t=yield e.syncEngine.pn();for(const o of t){if(o===e.Ls)continue;const u=e.getItem(tT(e.persistenceKey,o));if(u){const h=Zb.$s(o,u);h&&(e.qs=e.qs.insert(h.clientId,h))}}e.Ys();const r=e.storage.getItem(e.Hs);if(r){const o=e.Xs(r);o&&e.Zs(o)}for(const o of e.Ks)e.Us(o);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,r){this.ei(e,t,r),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Wb(this.persistenceKey,e));if(r){const o=lm.$s(e,r);o&&(t=o.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Wb(this.persistenceKey,e))}updateQueryState(e,t,r){this.ii(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.ni(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.js)return void yr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,me.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ws.test(r.key)){if(null==r.newValue){const o=t.ci(r.key);return t.ai(o,null)}{const o=t.ui(r.key,r.newValue);if(o)return t.ai(o.clientId,o)}}else if(t.Gs.test(r.key)){if(null!==r.newValue){const o=t.hi(r.key,r.newValue);if(o)return t.li(o)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const o=t.fi(r.key,r.newValue);if(o)return t.di(o)}}else if(r.key===t.Hs){if(null!==r.newValue){const o=t.Xs(r.newValue);if(o)return t.Zs(o)}}else if(r.key===t.Qs){const o=function(u){let h=os.T;if(null!=u)try{const m=JSON.parse(u);yt("number"==typeof m),h=m}catch(m){yr("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(r.newValue);o!==os.T&&t.sequenceNumberHandler(o)}else if(r.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(r)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,r){const o=new $_(this.currentUser,e,t,r),u=nT(this.persistenceKey,this.currentUser,e);this.setItem(u,o.Os())}ni(e){const t=nT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,r){const o=Wb(this.persistenceKey,e),u=new lm(e,t,r);this.setItem(o,u.Os())}oi(){this.setItem(this.Js,"value-not-used")}ci(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const r=this.ci(e);return Zb.$s(r,t)}hi(e,t){const r=this.Gs.exec(e),o=Number(r[1]);return $_.$s(new jr(void 0!==r[2]?r[2]:null),o,t)}fi(e,t){const r=this.zs.exec(e),o=Number(r[1]);return lm.$s(o,t)}Xs(e){return Kb.$s(e)}li(e){var t=this;return(0,me.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ai(e,t){const r=t?this.qs.insert(e,t):this.qs.remove(e),o=this.ti(this.qs),u=this.ti(r),h=[],m=[];return u.forEach(b=>{o.has(b)||h.push(b)}),o.forEach(b=>{u.has(b)||m.push(b)}),this.syncEngine.gi(h,m).then(()=>{this.qs=r})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=Wg();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class rT{constructor(){this.yi=new Rd,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,r){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new Rd,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class lx{Ti(e){}shutdown(){}}class um{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Od={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class iT{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class ux extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,r,o){const u=this.Bi(e,t);Pe("RestConnection","Sending: ",u,r);const h={};return this.Ui(h,o),this.qi(e,u,h,r).then(m=>(Pe("RestConnection","Received: ",m),m),m=>{throw xf("RestConnection",`${e} failed with error: `,m,"url: ",u,"request:",r),m})}Ki(e,t,r,o){return this.Li(e,t,r,o)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Af,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const r in t.authHeaders)t.authHeaders.hasOwnProperty(r)&&(e[r]=t.authHeaders[r])}Bi(e,t){return`${this.Fi}/v1/${t}:${Od[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,r,o){return new Promise((u,h)=>{const m=new PN;m.listenOnce(GC.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case XE.NO_ERROR:const I=m.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(I)),u(I);break;case XE.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),h(new Oe(de.DEADLINE_EXCEEDED,"Request time out"));break;case XE.HTTP_ERROR:const x=m.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',x,"response text:",m.getResponseText()),x>0){const O=m.getResponseJson().error;if(O&&O.status&&O.message){const j=function(B){const Z=B.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(Z)>=0?Z:de.UNKNOWN}(O.status);h(new Oe(j,O.message))}else h(new Oe(de.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Oe(de.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const b=JSON.stringify(o);m.send(t,"POST",b,r,15)})}ji(e,t){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=HC(),u=$C(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new zC({})),this.Ui(h.initMessageHeaders,t),(0,kt.uI)()||(0,kt.b$)()||(0,kt.d)()||(0,kt.w1)()||(0,kt.Mn)()||(0,kt.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const m=r.join("");Pe("Connection","Creating WebChannel: "+m,h);const b=o.createWebChannel(m,h);let I=!1,x=!1;const O=new iT({vi:B=>{x?Pe("Connection","Not sending because WebChannel is closed:",B):(I||(Pe("Connection","Opening WebChannel transport."),b.open(),I=!0),Pe("Connection","WebChannel sending:",B),b.send(B))},Vi:()=>b.close()}),j=(B,Z,pe)=>{B.listen(Z,Se=>{try{pe(Se)}catch(Be){setTimeout(()=>{throw Be},0)}})};return j(b,a_.EventType.OPEN,()=>{x||Pe("Connection","WebChannel transport opened.")}),j(b,a_.EventType.CLOSE,()=>{x||(x=!0,Pe("Connection","WebChannel transport closed"),O.$i())}),j(b,a_.EventType.ERROR,B=>{x||(x=!0,xf("Connection","WebChannel transport errored:",B),O.$i(new Oe(de.UNAVAILABLE,"The operation could not be completed")))}),j(b,a_.EventType.MESSAGE,B=>{var Z;if(!x){const pe=B.data[0];yt(!!pe);const Se=pe,Be=Se.error||(null===(Z=Se[0])||void 0===Z?void 0:Z.error);if(Be){Pe("Connection","WebChannel received error:",Be);const st=Be.status;let Ot=function(pn){const ar=Er[pn];if(void 0!==ar)return vI(ar)}(st),at=Be.message;void 0===Ot&&(Ot=de.INTERNAL,at="Unknown error status: "+st+" with message "+Be.message),x=!0,O.$i(new Oe(Ot,at)),b.close()}else Pe("Connection","WebChannel received:",pe),O.Oi(pe)}}),j(u,DA.STAT_EVENT,B=>{B.stat===eb.PROXY?Pe("Connection","Detected buffering proxy"):B.stat===eb.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.ki()},0),O}}function cx(){return"undefined"!=typeof window?window:null}function G_(){return"undefined"!=typeof document?document:null}function mc(n){return new $f(n,!0)}class Qb{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Oe=e,this.timerId=t,this.Qi=r,this.Wi=o,this.Gi=u,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),o=Math.max(0,t-r);o>0&&Pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,o,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class sT{constructor(e,t,r,o,u,h,m){this.Oe=e,this.er=r,this.nr=o,this.sr=u,this.credentialsProvider=h,this.listener=m,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new Qb(e,t)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var e=this;return(0,me.Z)(function*(){e.ur()&&(yield e.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(e){this.gr(),this.stream.send(e)}_r(){var e=this;return(0,me.Z)(function*(){if(e.hr())return e.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,t){var r=this;return(0,me.Z)(function*(){r.gr(),r.yr(),r.ar.cancel(),r.ir++,4!==e?r.ar.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(yr(t.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),r.ar.Yi()):t&&t.code===de.UNAUTHENTICATED&&3!==r.state&&r.credentialsProvider.invalidateToken(),null!==r.stream&&(r.pr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ci(t)})()}pr(){}auth(){this.state=1;const e=this.Tr(this.ir),t=this.ir;this.credentialsProvider.getToken().then(r=>{this.ir===t&&this.Er(r)},r=>{e(()=>{const o=new Oe(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ir(o)})})}Er(e){const t=this.Tr(this.ir);this.stream=this.Ar(e),this.stream.Si(()=>{t(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(r=>{t(()=>this.Ir(r))}),this.stream.onMessage(r=>{t(()=>this.onMessage(r))})}lr(){var e=this;this.state=5,this.ar.Xi((0,me.Z)(function*(){e.state=0,e.start()}))}Ir(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Tr(e){return t=>{this.Oe.enqueueAndForget(()=>this.ir===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oT extends sT{constructor(e,t,r,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,u),this.N=o}Ar(e){return this.sr.ji("Listen",e)}onMessage(e){this.ar.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(b=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:tt(),o=e.targetChange.targetIds||[],u=function(b,I){return b.D?(yt(void 0===I||"string"==typeof I),$r.fromBase64String(I||"")):(yt(void 0===I||I instanceof Uint8Array),$r.fromUint8Array(I||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(b){const I=void 0===b.code?de.UNKNOWN:vI(b.code);return new Oe(I,b.message||"")}(h);t=new bb(r,o,u,m||null)}else if("documentChange"in e){const r=e.documentChange,o=Ga(n,r.document.name),u=Rr(r.document.updateTime),h=new si({mapValue:{fields:r.document.fields}}),m=xn.newFoundDocument(o,u,h);t=new Zg(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=Ga(n,r.document),u=r.readTime?Rr(r.readTime):St.min(),h=xn.newNoDocument(o,u);t=new Zg([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,o=Ga(n,r.document);t=new Zg([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return tt();{const r=e.filter,u=new PA(r.count||0);t=new Eb(r.targetId,u)}}var b;return t}(this.N,e),r=function(o){if(!("targetChange"in o))return St.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?St.min():u.readTime?Rr(u.readTime):St.min()}(e);return this.listener.Rr(t,r)}br(e){const t={};t.database=hc(this.N),t.addTarget=function(o,u){let h;const m=u.target;return h=jg(m)?{documents:Db(o,m)}:{query:Sb(o,m)},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?h.resumeToken=S_(o,u.resumeToken):u.snapshotVersion.compareTo(St.min())>0&&(h.readTime=D_(o,u.snapshotVersion.toTimestamp())),h}(this.N,e);const r=function(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return tt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.mr(t)}Pr(e){const t={};t.database=hc(this.N),t.removeTarget=e,this.mr(t)}}class aT extends sT{constructor(e,t,r,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,u),this.N=o,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(e){return this.sr.ji("Write",e)}onMessage(e){if(yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.vr){this.ar.reset();const t=function(n,e){return n&&n.length>0?(yt(void 0!==e),n.map(t=>function(r,o){let u=Rr(r.updateTime?r.updateTime:o);return u.isEqual(St.min())&&(u=Rr(o)),new mI(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Rr(e.commitTime);return this.listener.Dr(r,t)}return yt(!e.writeResults||0===e.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const e={};e.database=hc(this.N),this.mr(e)}Sr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Qg(this.N,r))};this.mr(t)}}class Jb extends class{}{constructor(e,t,r){super(),this.credentials=e,this.sr=t,this.N=r,this.kr=!1}$r(){if(this.kr)throw new Oe(de.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,r){return this.$r(),this.credentials.getToken().then(o=>this.sr.Li(e,t,r,o)).catch(o=>{throw"FirebaseError"===o.name?(o.code===de.UNAUTHENTICATED&&this.credentials.invalidateToken(),o):new Oe(de.UNKNOWN,o.toString())})}Ki(e,t,r){return this.$r(),this.credentials.getToken().then(o=>this.sr.Ki(e,t,r,o)).catch(o=>{throw"FirebaseError"===o.name?(o.code===de.UNAUTHENTICATED&&this.credentials.invalidateToken(),o):new Oe(de.UNKNOWN,o.toString())})}terminate(){this.kr=!0}}class lT{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(e){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Br("Offline")))}set(e){this.Kr(),this.Or=0,"Online"===e&&(this.Mr=!1),this.Br(e)}Br(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Ur(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(yr(t),this.Mr=!1):Pe("OnlineStateTracker",t)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class uT{constructor(e,t,r,o,u){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=u,this.zr.Ti(m=>{r.enqueueAndForget((0,me.Z)(function*(){var b;ji(h)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,me.Z)(function*(I){const x=Le(I);x.Wr.add(4),yield Nd(x),x.Hr.set("Unknown"),x.Wr.delete(4),yield cm(x)}),function(I){return b.apply(this,arguments)})(h))}))}),this.Hr=new lT(r,o)}}function cm(n){return Xb.apply(this,arguments)}function Xb(){return(Xb=(0,me.Z)(function*(n){if(ji(n))for(const e of n.Gr)yield e(!0)})).apply(this,arguments)}function Nd(n){return ew.apply(this,arguments)}function ew(){return(ew=(0,me.Z)(function*(n){for(const e of n.Gr)yield e(!1)})).apply(this,arguments)}function dm(n,e){const t=Le(n);t.Qr.has(e.targetId)||(t.Qr.set(e.targetId,e),Xt(t)?Md(t):_c(t).hr()&&op(t,e))}function yc(n,e){const t=Le(n),r=_c(t);t.Qr.delete(e),r.hr()&&dx(t,e),0===t.Qr.size&&(r.hr()?r.wr():ji(t)&&t.Hr.set("Unknown"))}function op(n,e){n.Jr.Y(e.targetId),_c(n).br(e)}function dx(n,e){n.Jr.Y(e),_c(n).Pr(e)}function Md(n){n.Jr=new Cb({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.Qr.get(e)||null}),_c(n).start(),n.Hr.Lr()}function Xt(n){return ji(n)&&!_c(n).ur()&&n.Qr.size>0}function ji(n){return 0===Le(n).Wr.size}function Pd(n){n.Jr=void 0}function hm(n){return cT.apply(this,arguments)}function cT(){return(cT=(0,me.Z)(function*(n){n.Qr.forEach((e,t)=>{op(n,e)})})).apply(this,arguments)}function vt(n,e){return cs.apply(this,arguments)}function cs(){return(cs=(0,me.Z)(function*(n,e){Pd(n),Xt(n)?(n.Hr.qr(e),Md(n)):n.Hr.set("Unknown")})).apply(this,arguments)}function tw(n,e,t){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,me.Z)(function*(n,e,t){if(n.Hr.set("Online"),e instanceof bb&&2===e.state&&e.cause)try{yield(r=(0,me.Z)(function*(o,u){const h=u.cause;for(const m of u.targetIds)o.Qr.has(m)&&(yield o.remoteSyncer.rejectListen(m,h),o.Qr.delete(m),o.Jr.removeTarget(m))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield nw(n,r)}else if(e instanceof Zg?n.Jr.rt(e):e instanceof Eb?n.Jr.ft(e):n.Jr.at(e),!t.isEqual(St.min()))try{const r=yield B_(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const h=o.Jr._t(u);return h.targetChanges.forEach((m,b)=>{if(m.resumeToken.approximateByteSize()>0){const I=o.Qr.get(b);I&&o.Qr.set(b,I.withResumeToken(m.resumeToken,u))}}),h.targetMismatches.forEach(m=>{const b=o.Qr.get(m);if(!b)return;o.Qr.set(m,b.withResumeToken($r.EMPTY_BYTE_STRING,b.snapshotVersion)),dx(o,m);const I=new Kl(b.target,m,1,b.sequenceNumber);op(o,I)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield nw(n,r)}var r})).apply(this,arguments)}function nw(n,e,t){return z_.apply(this,arguments)}function z_(){return(z_=(0,me.Z)(function*(n,e,t){if(!fc(e))throw e;n.Wr.add(1),yield Nd(n),n.Hr.set("Offline"),t||(t=()=>B_(n.localStore)),n.asyncQueue.enqueueRetryable((0,me.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.Wr.delete(1),yield cm(n)}))})).apply(this,arguments)}function rw(n,e){return e().catch(t=>nw(n,t,e))}function fm(n){return iw.apply(this,arguments)}function iw(){return(iw=(0,me.Z)(function*(n){const e=Le(n),t=ho(e);let r=e.jr.length>0?e.jr[e.jr.length-1].batchId:-1;for(;hx(e);)try{const o=yield HN(e.localStore,r);if(null===o){0===e.jr.length&&t.wr();break}r=o.batchId,uo(e,o)}catch(o){yield nw(e,o)}Nn(e)&&co(e)})).apply(this,arguments)}function hx(n){return ji(n)&&n.jr.length<10}function uo(n,e){n.jr.push(e);const t=ho(n);t.hr()&&t.Vr&&t.Sr(e.mutations)}function Nn(n){return ji(n)&&!ho(n).ur()&&n.jr.length>0}function co(n){ho(n).start()}function dT(n){return sw.apply(this,arguments)}function sw(){return(sw=(0,me.Z)(function*(n){ho(n).Nr()})).apply(this,arguments)}function hT(n){return pm.apply(this,arguments)}function pm(){return(pm=(0,me.Z)(function*(n){const e=ho(n);for(const t of n.jr)e.Sr(t.mutations)})).apply(this,arguments)}function ap(n,e,t){return kd.apply(this,arguments)}function kd(){return(kd=(0,me.Z)(function*(n,e,t){const r=n.jr.shift(),o=Mb.from(r,e,t);yield rw(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield fm(n)})).apply(this,arguments)}function fx(n,e){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,me.Z)(function*(n,e){var t;e&&ho(n).Vr&&(yield(t=(0,me.Z)(function*(r,o){if(_I(u=o.code)&&u!==de.ABORTED){const h=r.jr.shift();ho(r).dr(),yield rw(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield fm(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),Nn(n)&&co(n)})).apply(this,arguments)}function ow(n,e){return q_.apply(this,arguments)}function q_(){return(q_=(0,me.Z)(function*(n,e){const t=Le(n);e?(t.Wr.delete(2),yield cm(t)):e||(t.Wr.add(2),yield Nd(t),t.Hr.set("Unknown"))})).apply(this,arguments)}function _c(n){return n.Yr||(n.Yr=function(e,t,r){const o=Le(e);return o.$r(),new oT(t,o.sr,o.credentials,o.N,r)}(n.datastore,n.asyncQueue,{Si:hm.bind(null,n),Ci:vt.bind(null,n),Rr:tw.bind(null,n)}),n.Gr.push(function(){var e=(0,me.Z)(function*(t){t?(n.Yr.dr(),Xt(n)?Md(n):n.Hr.set("Unknown")):(yield n.Yr.stop(),Pd(n))});return function(t){return e.apply(this,arguments)}}())),n.Yr}function ho(n){return n.Xr||(n.Xr=function(e,t,r){const o=Le(e);return o.$r(),new aT(t,o.sr,o.credentials,o.N,r)}(n.datastore,n.asyncQueue,{Si:dT.bind(null,n),Ci:fx.bind(null,n),Cr:hT.bind(null,n),Dr:ap.bind(null,n)}),n.Gr.push(function(){var e=(0,me.Z)(function*(t){t?(n.Xr.dr(),yield fm(n)):(yield n.Xr.stop(),n.jr.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.jr.length} pending writes`),n.jr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Xr}class gm{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,o,u){const h=Date.now()+r,m=new gm(e,t,h,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fd(n,e){if(yr("AsyncQueue",`${e}: ${n}`),fc(n))return new Oe(de.UNAVAILABLE,`${e}: ${n}`);throw n}class ta{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Qe.comparator(t.key,r.key):(t,r)=>Qe.comparator(t.key,r.key),this.keyedMap=vb(),this.sortedSet=new xr(this.comparator)}static emptySet(e){return new ta(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ta)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ta;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class fT{constructor(){this.Zr=new xr(Qe.comparator)}track(e){const t=e.doc.key,r=this.Zr.get(t);r?0!==e.type&&3===r.type?this.Zr=this.Zr.insert(t,e):3===e.type&&1!==r.type?this.Zr=this.Zr.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Zr=this.Zr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Zr=this.Zr.remove(t):1===e.type&&2===r.type?this.Zr=this.Zr.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):tt():this.Zr=this.Zr.insert(t,e)}eo(){const e=[];return this.Zr.inorderTraversal((t,r)=>{e.push(r)}),e}}class Xl{constructor(e,t,r,o,u,h,m,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=b}static fromInitialDocuments(e,t,r,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Xl(e,t,ta.emptySet(t),u,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$g(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class pT{constructor(){this.no=void 0,this.listeners=[]}}class gT{constructor(){this.queries=new im(e=>ub(e),$g),this.onlineState="Unknown",this.so=new Set}}function W_(n,e){return lp.apply(this,arguments)}function lp(){return(lp=(0,me.Z)(function*(n,e){const t=Le(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new pT),o)try{u.no=yield t.onListen(r)}catch(h){const m=Fd(h,`Initialization of query '${cI(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.io(t.onlineState),u.no&&e.ro(u.no)&&mT(t)})).apply(this,arguments)}function aw(n,e){return mm.apply(this,arguments)}function mm(){return(mm=(0,me.Z)(function*(n,e){const t=Le(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const h=u.listeners.indexOf(e);h>=0&&(u.listeners.splice(h,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)})).apply(this,arguments)}function lw(n,e){const t=Le(n);let r=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const m of h.listeners)m.ro(o)&&(r=!0);h.no=o}}r&&mT(t)}function GN(n,e,t){const r=Le(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function mT(n){n.so.forEach(e=>{e.next()})}class gt{constructor(e,t,r){this.query=e,this.oo=t,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=r||{}}ro(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Xl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.uo(e)&&(this.oo.next(e),t=!0):this.ho(e,this.onlineState)&&(this.lo(e),t=!0),this.ao=e,t}onError(e){this.oo.error(e)}io(e){this.onlineState=e;let t=!1;return this.ao&&!this.co&&this.ho(this.ao,e)&&(this.lo(this.ao),t=!0),t}ho(e,t){return!e.fromCache||!(this.options.fo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}uo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(e){e=Xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.oo.next(e)}}class zN{constructor(e,t){this.payload=e,this.byteLength=t}wo(){return"metadata"in this.payload}}class up{constructor(e){this.N=e}zn(e){return Ga(this.N,e)}Hn(e){return e.metadata.exists?Yg(this.N,e.document,!1):xn.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return Rr(e)}}class px{constructor(e,t,r){this._o=e,this.localStore=t,this.N=r,this.queries=[],this.documents=[],this.progress=yT(e)}mo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}yo(e){const t=new Map,r=new up(this.N);for(const o of e)if(o.metadata.queries){const u=r.zn(o.metadata.name);for(const h of o.metadata.queries){const m=(t.get(h)||an()).add(u);t.set(h,m)}}return t}complete(){var e=this;return(0,me.Z)(function*(){const t=yield function(n,e,t,r){return ip.apply(this,arguments)}(e.localStore,new up(e.N),e.documents,e._o.id),r=e.yo(e.documents);for(const o of e.queries)yield nx(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",new U_(Object.assign({},e.progress),t)})()}}function yT(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class _T{constructor(e){this.key=e}}class gx{constructor(e){this.key=e}}class mx{constructor(e,t){this.query=e,this.po=t,this.To=null,this.current=!1,this.Eo=an(),this.mutatedKeys=an(),this.Io=b_(e),this.Ao=new ta(this.Io)}get Ro(){return this.po}bo(e,t){const r=t?t.Po:new fT,o=t?t.Ao:this.Ao;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const b=Hg(this.query)&&o.size===this.query.limit?o.last():null,I=__(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((x,O)=>{const j=o.get(x),B=wd(this.query,O)?O:null,Z=!!j&&this.mutatedKeys.has(j.key),pe=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Se=!1;j&&B?j.data.isEqual(B.data)?Z!==pe&&(r.track({type:3,doc:B}),Se=!0):this.vo(j,B)||(r.track({type:2,doc:B}),Se=!0,(b&&this.Io(B,b)>0||I&&this.Io(B,I)<0)&&(m=!0)):!j&&B?(r.track({type:0,doc:B}),Se=!0):j&&!B&&(r.track({type:1,doc:j}),Se=!0,(b||I)&&(m=!0)),Se&&(B?(h=h.add(B),u=pe?u.add(x):u.delete(x)):(h=h.delete(x),u=u.delete(x)))}),Hg(this.query)||__(this.query))for(;h.size>this.query.limit;){const x=Hg(this.query)?h.last():h.first();h=h.delete(x.key),u=u.delete(x.key),r.track({type:1,doc:x})}return{Ao:h,Po:r,Ln:m,mutatedKeys:u}}vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Ao;this.Ao=e.Ao,this.mutatedKeys=e.mutatedKeys;const u=e.Po.eo();u.sort((I,x)=>function(O,j){const B=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return B(O)-B(j)}(I.type,x.type)||this.Io(I.doc,x.doc)),this.Vo(r);const h=t?this.So():[],m=0===this.Eo.size&&this.current?1:0,b=m!==this.To;return this.To=m,0!==u.length||b?{snapshot:new Xl(this.query,e.Ao,o,u,e.mutatedKeys,0===m,b,!1),Do:h}:{Do:h}}io(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new fT,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(e){return!this.po.has(e)&&!!this.Ao.has(e)&&!this.Ao.get(e).hasLocalMutations}Vo(e){e&&(e.addedDocuments.forEach(t=>this.po=this.po.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.po=this.po.delete(t)),this.current=e.current)}So(){if(!this.current)return[];const e=this.Eo;this.Eo=an(),this.Ao.forEach(r=>{this.Co(r.key)&&(this.Eo=this.Eo.add(r.key))});const t=[];return e.forEach(r=>{this.Eo.has(r)||t.push(new gx(r))}),this.Eo.forEach(r=>{e.has(r)||t.push(new _T(r))}),t}No(e){this.po=e.Gn,this.Eo=an();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return Xl.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class yx{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Ai{constructor(e){this.key=e,this.ko=!1}}class _x{constructor(e,t,r,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.$o={},this.Oo=new im(m=>ub(m),$g),this.Fo=new Map,this.Mo=new Set,this.Lo=new xr(Qe.comparator),this.Bo=new Map,this.Uo=new sp,this.qo={},this.Ko=new Map,this.jo=Yl.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function vx(n,e){return ym.apply(this,arguments)}function ym(){return(ym=(0,me.Z)(function*(n,e){const t=vm(n);let r,o;const u=t.Oo.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.xo();else{const h=yield np(t.localStore,oo(e)),m=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield uw(t,e,r,"current"===m),t.isPrimaryClient&&dm(t.remoteStore,h)}return o})).apply(this,arguments)}function uw(n,e,t,r){return cw.apply(this,arguments)}function cw(){return(cw=(0,me.Z)(function*(n,e,t,r){n.Wo=(x,O,j)=>{return(B=(0,me.Z)(function*(Z,pe,Se,Be){let st=pe.view.bo(Se);st.Ln&&(st=yield am(Z.localStore,pe.query,!1).then(({documents:pn})=>pe.view.bo(pn,st)));const Ot=Be&&Be.targetChanges.get(pe.targetId),at=pe.view.applyChanges(st,Z.isPrimaryClient,Ot);return _w(Z,pe.targetId,at.Do),at.snapshot}),function(Z,pe,Se,Be){return B.apply(this,arguments)})(n,x,O,j);var B};const o=yield am(n.localStore,e,!0),u=new mx(e,o.Gn),h=u.bo(o.documents),m=Hf.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),b=u.applyChanges(h,n.isPrimaryClient,m);_w(n,t,b.Do);const I=new yx(e,t,u);return n.Oo.set(e,I),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),b.snapshot})).apply(this,arguments)}function Ex(n,e){return dw.apply(this,arguments)}function dw(){return(dw=(0,me.Z)(function*(n,e){const t=Le(n),r=t.Oo.get(e),o=t.Fo.get(r.targetId);if(o.length>1)return t.Fo.set(r.targetId,o.filter(u=>!$g(u,e))),void t.Oo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield rp(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),yc(t.remoteStore,r.targetId),Wa(t,r.targetId)}).catch(xd))):(Wa(t,r.targetId),yield rp(t.localStore,r.targetId,!0))})).apply(this,arguments)}function hw(){return(hw=(0,me.Z)(function*(n,e,t){const r=Iw(n);try{const o=yield function(u,h){const m=Le(u),b=Hr.now(),I=h.reduce((O,j)=>O.add(j.key),an());let x;return m.persistence.runTransaction("Locally write mutations","readwrite",O=>m.Qn.Pn(O,I).next(j=>{x=j;const B=[];for(const Z of h){const pe=fb(Z,x.get(Z.key));null!=pe&&B.push(new zl(Z.key,pe,JC(pe.value.mapValue),Bn.exists(!0)))}return m.In.addMutationBatch(O,b,B,h)})).then(O=>(O.applyToLocalDocumentSet(x),{batchId:O.batchId,changes:x}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,h,m){let b=u.qo[u.currentUser.toKey()];b||(b=new xr(Nt)),b=b.insert(h,m),u.qo[u.currentUser.toKey()]=b}(r,o.batchId,t),yield vc(r,o.changes),yield fm(r.remoteStore)}catch(o){const u=Fd(o,"Failed to persist write");t.reject(u)}})).apply(this,arguments)}function Z_(n,e){return fw.apply(this,arguments)}function fw(){return(fw=(0,me.Z)(function*(n,e){const t=Le(n);try{const r=yield JI(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Bo.get(u);h&&(yt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.ko=!0:o.modifiedDocuments.size>0?yt(h.ko):o.removedDocuments.size>0&&(yt(h.ko),h.ko=!1))}),yield vc(t,r,e)}catch(r){yield xd(r)}})).apply(this,arguments)}function vT(n,e,t){const r=Le(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.Oo.forEach((u,h)=>{const m=h.view.io(e);m.snapshot&&o.push(m.snapshot)}),function(u,h){const m=Le(u);m.onlineState=h;let b=!1;m.queries.forEach((I,x)=>{for(const O of x.listeners)O.io(h)&&(b=!0)}),b&&mT(m)}(r.eventManager,e),o.length&&r.$o.Rr(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ET(n,e,t){return _m.apply(this,arguments)}function _m(){return(_m=(0,me.Z)(function*(n,e,t){const r=Le(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Bo.get(e),u=o&&o.key;if(u){let h=new xr(Qe.comparator);h=h.insert(u,xn.newNoDocument(u,St.min()));const m=an().add(u),b=new jf(St.min(),new Map,new jn(Nt),h,m);yield Z_(r,b),r.Lo=r.Lo.remove(u),r.Bo.delete(e),Ld(r)}else yield rp(r.localStore,e,!1).then(()=>Wa(r,e,t)).catch(xd)})).apply(this,arguments)}function wx(n,e){return bT.apply(this,arguments)}function bT(){return(bT=(0,me.Z)(function*(n,e){const t=Le(n),r=e.batch.batchId;try{const o=yield QI(t.localStore,e);yw(t,r,null),mw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield vc(t,o)}catch(o){yield xd(o)}})).apply(this,arguments)}function Cx(n,e,t){return pw.apply(this,arguments)}function pw(){return(pw=(0,me.Z)(function*(n,e,t){const r=Le(n);try{const o=yield function(u,h){const m=Le(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let I;return m.In.lookupMutationBatch(b,h).next(x=>(yt(null!==x),I=x.keys(),m.In.removeMutationBatch(b,x))).next(()=>m.In.performConsistencyCheck(b)).next(()=>m.Qn.Pn(b,I))})}(r.localStore,e);yw(r,e,t),mw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield vc(r,o)}catch(o){yield xd(o)}})).apply(this,arguments)}function gw(){return(gw=(0,me.Z)(function*(n,e){const t=Le(n);ji(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const h=Le(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.In.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.Ko.get(r)||[];o.push(e),t.Ko.set(r,o)}catch(r){const o=Fd(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}})).apply(this,arguments)}function mw(n,e){(n.Ko.get(e)||[]).forEach(t=>{t.resolve()}),n.Ko.delete(e)}function yw(n,e,t){const r=Le(n);let o=r.qo[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.qo[r.currentUser.toKey()]=o}}function Wa(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Fo.get(e))n.Oo.delete(r),t&&n.$o.Go(r,t);n.Fo.delete(e),n.isPrimaryClient&&n.Uo.cs(e).forEach(r=>{n.Uo.containsKey(r)||wT(n,r)})}function wT(n,e){n.Mo.delete(e.path.canonicalString());const t=n.Lo.get(e);null!==t&&(yc(n.remoteStore,t),n.Lo=n.Lo.remove(e),n.Bo.delete(t),Ld(n))}function _w(n,e,t){for(const r of t)r instanceof _T?(n.Uo.addReference(r.key,e),CT(n,r)):r instanceof gx?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.Uo.removeReference(r.key,e),n.Uo.containsKey(r.key)||wT(n,r.key)):tt()}function CT(n,e){const t=e.key,r=t.path.canonicalString();n.Lo.get(t)||n.Mo.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.Mo.add(r),Ld(n))}function Ld(n){for(;n.Mo.size>0&&n.Lo.size<n.maxConcurrentLimboResolutions;){const e=n.Mo.values().next().value;n.Mo.delete(e);const t=new Qe(rn.fromString(e)),r=n.jo.next();n.Bo.set(r,new Ai(t)),n.Lo=n.Lo.insert(t,r),dm(n.remoteStore,new Kl(oo(Ff(t.path)),r,2,os.T))}}function vc(n,e,t){return K_.apply(this,arguments)}function K_(){return(K_=(0,me.Z)(function*(n,e,t){const r=Le(n),o=[],u=[],h=[];var m;r.Oo.isEmpty()||(r.Oo.forEach((m,b)=>{h.push(r.Wo(b,e,t).then(I=>{if(I){r.isPrimaryClient&&r.sharedClientState.updateQueryState(b.targetId,I.fromCache?"not-current":"current"),o.push(I);const x=jb.kn(b.targetId,I);u.push(x)}}))}),yield Promise.all(h),r.$o.Rr(o),yield(m=(0,me.Z)(function*(b,I){const x=Le(b);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>Ae.forEach(I,j=>Ae.forEach(j.Nn,B=>x.persistence.referenceDelegate.addReference(O,j.targetId,B)).next(()=>Ae.forEach(j.xn,B=>x.persistence.referenceDelegate.removeReference(O,j.targetId,B)))))}catch(O){if(!fc(O))throw O;Pe("LocalStore","Failed to update sequence numbers: "+O)}for(const O of I){const j=O.targetId;if(!O.fromCache){const B=x.Un.get(j),pe=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);x.Un=x.Un.insert(j,pe)}}}),function(b,I){return m.apply(this,arguments)})(r.localStore,u))})).apply(this,arguments)}function Tx(n,e){return vw.apply(this,arguments)}function vw(){return(vw=(0,me.Z)(function*(n,e){const t=Le(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield YI(t.localStore,e);t.currentUser=e,(o=t).Ko.forEach(h=>{h.forEach(m=>{m.reject(new Oe(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ko.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield vc(t,r.Wn)}var o})).apply(this,arguments)}function Dx(n,e){const t=Le(n),r=t.Bo.get(e);if(r&&r.ko)return an().add(r.key);{let o=an();const u=t.Fo.get(e);if(!u)return o;for(const h of u){const m=t.Oo.get(h);o=o.unionWith(m.view.Ro)}return o}}function Sx(n,e){return Ew.apply(this,arguments)}function Ew(){return(Ew=(0,me.Z)(function*(n,e){const t=Le(n),r=yield am(t.localStore,e.query,!0),o=e.view.No(r);return t.isPrimaryClient&&_w(t,e.targetId,o.Do),o})).apply(this,arguments)}function IT(n){return bw.apply(this,arguments)}function bw(){return(bw=(0,me.Z)(function*(n){const e=Le(n);return Gb(e.localStore).then(t=>vc(e,t))})).apply(this,arguments)}function Ax(n,e,t,r){return TT.apply(this,arguments)}function TT(){return(TT=(0,me.Z)(function*(n,e,t,r){const o=Le(n),u=yield function(h,m){const b=Le(h),I=Le(b.In);return b.persistence.runTransaction("Lookup mutation documents","readonly",x=>I.Xt(x,m).next(O=>O?b.Qn.Pn(x,O):Ae.resolve(null)))}(o.localStore,e);var m;null!==u?("pending"===t?yield fm(o.remoteStore):"acknowledged"===t||"rejected"===t?(yw(o,e,r||null),mw(o,e),m=e,Le(Le(o.localStore).In).te(m)):tt(),yield vc(o,u)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function DT(){return(DT=(0,me.Z)(function*(n,e){const t=Le(n);if(vm(t),Iw(t),!0===e&&!0!==t.Qo){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield Y_(t,r.toArray());t.Qo=!0,yield ow(t.remoteStore,!0);for(const u of o)dm(t.remoteStore,u)}else if(!1===e&&!1!==t.Qo){const r=[];let o=Promise.resolve();t.Fo.forEach((u,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(Wa(t,h),rp(t.localStore,h,!0))),yc(t.remoteStore,h)}),yield o,yield Y_(t,r),function(u){const h=Le(u);h.Bo.forEach((m,b)=>{yc(h.remoteStore,b)}),h.Uo.us(),h.Bo=new Map,h.Lo=new xr(Qe.comparator)}(t),t.Qo=!1,yield ow(t.remoteStore,!1)}})).apply(this,arguments)}function Y_(n,e,t){return ww.apply(this,arguments)}function ww(){return(ww=(0,me.Z)(function*(n,e,t){const r=Le(n),o=[],u=[];for(const h of e){let m;const b=r.Fo.get(h);if(b&&0!==b.length){m=yield np(r.localStore,oo(b[0]));for(const I of b){const x=r.Oo.get(I),O=yield Sx(r,x);O.snapshot&&u.push(O.snapshot)}}else{const I=yield $b(r.localStore,h);m=yield np(r.localStore,I),yield uw(r,ST(I),h,!1)}o.push(m)}return r.$o.Rr(u),o})).apply(this,arguments)}function ST(n){return uI(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function xx(n){const e=Le(n);return Le(Le(e.localStore).persistence).pn()}function Rx(n,e,t,r){return Cw.apply(this,arguments)}function Cw(){return(Cw=(0,me.Z)(function*(n,e,t,r){const o=Le(n);if(o.Qo)Pe("SyncEngine","Ignoring unexpected query state notification.");else if(o.Fo.has(e))switch(t){case"current":case"not-current":{const u=yield Gb(o.localStore),h=jf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield vc(o,u,h);break}case"rejected":yield rp(o.localStore,e,!0),Wa(o,e,r);break;default:tt()}})).apply(this,arguments)}function Ox(n,e,t){return Q_.apply(this,arguments)}function Q_(){return(Q_=(0,me.Z)(function*(n,e,t){const r=vm(n);if(r.Qo){for(const o of e){if(r.Fo.has(o)){Pe("SyncEngine","Adding an already active target "+o);continue}const u=yield $b(r.localStore,o),h=yield np(r.localStore,u);yield uw(r,ST(u),h.targetId,!1),dm(r.remoteStore,h)}for(const o of t)r.Fo.has(o)&&(yield rp(r.localStore,o,!1).then(()=>{yc(r.remoteStore,o),Wa(r,o)}).catch(xd))}})).apply(this,arguments)}function vm(n){const e=Le(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Z_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ET.bind(null,e),e.$o.Rr=lw.bind(null,e.eventManager),e.$o.Go=GN.bind(null,e.eventManager),e}function Iw(n){const e=Le(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Cx.bind(null,e),e}class li{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,me.Z)(function*(){t.N=mc(e.databaseInfo.databaseId),t.sharedClientState=t.Ho(e),t.persistence=t.Jo(e),yield t.persistence.start(),t.gcScheduler=t.Yo(e),t.localStore=t.Xo(e)})()}Yo(e){return null}Xo(e){return KI(this.persistence,new XA,e.initialUser,this.N)}Jo(e){return new ox(qb.Ns,this.N)}Ho(e){return new rT}terminate(){var e=this;return(0,me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Tw extends li{constructor(e,t,r){super(),this.Zo=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,me.Z)(function*(){yield t().call(r,e),yield function(n){return zb.apply(this,arguments)}(r.localStore),yield r.Zo.initialize(r,e),yield Iw(r.Zo.syncEngine),yield fm(r.Zo.remoteStore),yield r.persistence.nn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Xo(e){return KI(this.persistence,new XA,e.initialUser,this.N)}Yo(e){return new JA(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Jo(e){const t=WI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Bi.withCacheSize(this.cacheSizeBytes):Bi.DEFAULT;return new Bb(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,cx(),G_(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(e){return new rT}}class na extends Tw{constructor(e,t){super(e,t,!1),this.Zo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,me.Z)(function*(){yield t().call(r,e);const o=r.Zo.syncEngine;r.sharedClientState instanceof Yb&&(r.sharedClientState.syncEngine={_i:Ax.bind(null,o),mi:Rx.bind(null,o),gi:Ox.bind(null,o),pn:xx.bind(null,o),wi:IT.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.nn(function(){var u=(0,me.Z)(function*(h){yield function(n,e){return DT.apply(this,arguments)}(r.Zo.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return u.apply(this,arguments)}}())})()}Ho(e){const t=cx();if(!Yb.bt(t))throw new Oe(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=WI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Yb(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Em{initialize(e,t){var r=this;return(0,me.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>vT(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=Tx.bind(null,r.syncEngine),yield ow(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new gT}createDatastore(e){const t=mc(e.databaseInfo.databaseId),r=new ux(e.databaseInfo);return new Jb(e.credentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=m=>vT(this.syncEngine,m,0),h=um.bt()?new um:new lx,new uT(t,r,o,u,h);var t,r,o,u,h}createSyncEngine(e,t){return function(r,o,u,h,m,b,I){const x=new _x(r,o,u,h,m,b);return I&&(x.Qo=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,me.Z)(function*(t){const r=Le(t);Pe("RemoteStore","RemoteStore shutting down."),r.Wr.add(5),yield Nd(r),r.zr.shutdown(),r.Hr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function AT(n,e=10240){let t=0;return{read:()=>(0,me.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class bm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.tc(this.observer.next,e)}error(e){this.observer.error?this.tc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}ec(){this.muted=!0}tc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class xT{constructor(e,t){this.nc=e,this.N=t,this.metadata=new _r,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(r=>{r&&r.wo()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.nc.cancel()}getMetadata(){var e=this;return(0,me.Z)(function*(){return e.metadata.promise})()}zo(){var e=this;return(0,me.Z)(function*(){return yield e.getMetadata(),e.ic()})()}ic(){var e=this;return(0,me.Z)(function*(){const t=yield e.rc();if(null===t)return null;const r=e.sc.decode(t),o=Number(r);isNaN(o)&&e.oc(`length string (${r}) is not valid number`);const u=yield e.cc(o);return new zN(JSON.parse(u),t.length+o)})()}ac(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}rc(){var e=this;return(0,me.Z)(function*(){for(;e.ac()<0&&!(yield e.uc()););if(0===e.buffer.length)return null;const t=e.ac();t<0&&e.oc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}cc(e){var t=this;return(0,me.Z)(function*(){for(;t.buffer.length<e;)(yield t.uc())&&t.oc("Reached the end of bundle when more is expected.");const r=t.sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}oc(e){throw this.nc.cancel(),new Error(`Invalid bundle format: ${e}`)}uc(){var e=this;return(0,me.Z)(function*(){const t=yield e.nc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class RT{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,me.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,me.Z)(function*(u,h){const m=Le(u),b=hc(m.N)+"/documents",I={documents:h.map(B=>rt(m.N,B))},x=yield m.Ki("BatchGetDocuments",b,I),O=new Map;x.forEach(B=>{const Z=function(n,e){return"found"in e?function(t,r){yt(!!r.found);const o=Ga(t,r.found.name),u=Rr(r.found.updateTime),h=new si({mapValue:{fields:r.found.fields}});return xn.newFoundDocument(o,u,h)}(n,e):"missing"in e?function(t,r){yt(!!r.missing),yt(!!r.readTime);const o=Ga(t,r.missing),u=Rr(r.readTime);return xn.newNoDocument(o,u)}(n,e):tt()}(m.N,B);O.set(Z.key.toString(),Z)});const j=[];return h.forEach(B=>{const Z=O.get(B.toString());yt(!!Z),j.push(Z)}),j}),function(u,h){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Bf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,me.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=Qe.fromPath(o);e.mutations.push(new _b(u,e.precondition(u)))}),yield(r=(0,me.Z)(function*(o,u){const h=Le(o),m=hc(h.N)+"/documents",b={writes:u.map(I=>Qg(h.N,I))};yield h.Li("Commit",m,b)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw tt();t=St.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Oe(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Bn.updateTime(t):Bn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(St.min()))throw new Oe(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Bn.updateTime(t)}return Bn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Nx{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.hc=5,this.ar=new Qb(this.asyncQueue,"transaction_retry")}run(){this.hc-=1,this.lc()}lc(){var e=this;this.ar.Xi((0,me.Z)(function*(){const t=new RT(e.datastore),r=e.fc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.dc(u)}))}).catch(o=>{e.dc(o)})}))}fc(e){try{const t=this.updateFunction(e);return!Zo(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}dc(e){this.hc>0&&this.wc(e)?(this.hc-=1,this.asyncQueue.enqueueAndForget(()=>(this.lc(),Promise.resolve()))):this.deferred.reject(e)}wc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!_I(t)}return!1}}class Mx{constructor(e,t,r){var o=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=r,this.user=jr.UNAUTHENTICATED,this.clientId=ZC.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var u=(0,me.Z)(function*(h){Pe("FirestoreClient","Received user=",h.uid),yield o.credentialListener(h),o.user=h});return function(h){return u.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(r){const o=Fd(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function OT(n,e){return J_.apply(this,arguments)}function J_(){return(J_=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,me.Z)(function*(u){r.isEqual(u)||(yield YI(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function NT(n,e){return MT.apply(this,arguments)}function MT(){return(MT=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Dw(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>{return(u=(0,me.Z)(function*(h,m){const b=Le(h);b.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const I=ji(b);b.Wr.add(3),yield Nd(b),I&&b.Hr.set("Unknown"),yield b.remoteSyncer.handleCredentialChange(m),b.Wr.delete(3),yield cm(b)}),function(h,m){return u.apply(this,arguments)})(e.remoteStore,o);var u}),n.onlineComponents=e})).apply(this,arguments)}function Dw(n){return Sw.apply(this,arguments)}function Sw(){return(Sw=(0,me.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield OT(n,new li)),n.offlineComponents})).apply(this,arguments)}function eu(n){return PT.apply(this,arguments)}function PT(){return(PT=(0,me.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield NT(n,new Em)),n.onlineComponents})).apply(this,arguments)}function Aw(n){return Dw(n).then(e=>e.persistence)}function xw(n){return Dw(n).then(e=>e.localStore)}function Px(n){return eu(n).then(e=>e.remoteStore)}function X_(n){return eu(n).then(e=>e.syncEngine)}function dp(n){return wm.apply(this,arguments)}function wm(){return(wm=(0,me.Z)(function*(n){const e=yield eu(n),t=e.eventManager;return t.onListen=vx.bind(null,e.syncEngine),t.onUnlisten=Ex.bind(null,e.syncEngine),t})).apply(this,arguments)}function VT(n,e,t={}){const r=new _r;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(o,u,h,m,b){const I=new bm({next:O=>{u.enqueueAndForget(()=>aw(o,x));const j=O.docs.has(h);!j&&O.fromCache?b.reject(new Oe(de.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&O.fromCache&&m&&"server"===m.source?b.reject(new Oe(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(O)},error:O=>b.reject(O)}),x=new gt(Ff(h.path),I,{includeMetadataChanges:!0,fo:!0});return W_(o,x)}(yield dp(n),n.asyncQueue,e,t,r)})),r.promise}function Rw(n,e,t={}){const r=new _r;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(o,u,h,m,b){const I=new bm({next:O=>{u.enqueueAndForget(()=>aw(o,x)),O.fromCache&&"server"===m.source?b.reject(new Oe(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(O)},error:O=>b.reject(O)}),x=new gt(h,I,{includeMetadataChanges:!0,fo:!0});return W_(o,x)}(yield dp(n),n.asyncQueue,e,t,r)})),r.promise}class Cm{constructor(e,t,r,o,u,h,m,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=b}}class Vd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Vd&&e.projectId===this.projectId&&e.database===this.database}}const Ow=new Map;function ev(n,e,t){if(!t)throw new Oe(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Nw(n,e,t,r){if(!0===e&&!0===r)throw new Oe(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Mw(n){if(!Qe.isDocumentKey(n))throw new Oe(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jT(n){if(Qe.isDocumentKey(n))throw new Oe(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function tv(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":tt()}function Yt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=tv(n);throw new Oe(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function HT(n,e){if(e<=0)throw new Oe(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class $T{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Nw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Im{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $T({}),this._settingsFrozen=!1,e instanceof Vd?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Oe(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vd(r.options.projectId)}(e))}get app(){if(!this._app)throw new Oe(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $T(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new xA;switch(t.type){case"gapi":const r=t.client;return yt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new RA(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Oe(de.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ow.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),Ow.delete(e),t.terminate())}(this),Promise.resolve()}}class un{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}}class br{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new br(this.firestore,e,this._query)}}class Za extends br{constructor(e,t,r){super(e,t,Ff(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new Qe(e))}withConverter(e){return new Za(this.firestore,e,this._path)}}function nv(n,e,...t){if(n=(0,kt.m9)(n),ev("collection","path",e),n instanceof Im){const r=rn.fromString(e,...t);return jT(r),new Za(n,null,r)}{if(!(n instanceof un||n instanceof Za))throw new Oe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rn.fromString(e,...t));return jT(r),new Za(n.firestore,null,r)}}function rv(n,e,...t){if(n=(0,kt.m9)(n),1===arguments.length&&(e=ZC.I()),ev("doc","path",e),n instanceof Im){const r=rn.fromString(e,...t);return Mw(r),new un(n,null,new Qe(r))}{if(!(n instanceof un||n instanceof Za))throw new Oe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rn.fromString(e,...t));return Mw(r),new un(n.firestore,n instanceof Za?n.converter:null,new Qe(r))}}function Tm(n,e){return n=(0,kt.m9)(n),e=(0,kt.m9)(e),(n instanceof un||n instanceof Za)&&(e instanceof un||e instanceof Za)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function GT(n,e){return n=(0,kt.m9)(n),e=(0,kt.m9)(e),n instanceof br&&e instanceof br&&n.firestore===e.firestore&&$g(n._query,e._query)&&n.converter===e.converter}class Ux{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new Qb(this,"async_queue_retry"),this.Rc=()=>{const t=G_();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ar.tr()};const e=G_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.bc(),this.Pc(e)}enterRestrictedMode(e){if(!this.gc){this.gc=!0,this.Ic=e||!1;const t=G_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Rc)}}enqueue(e){if(this.bc(),this.gc)return new Promise(()=>{});const t=new _r;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.mc.push(e),this.vc()))}vc(){var e=this;return(0,me.Z)(function*(){if(0!==e.mc.length){try{yield e.mc[0](),e.mc.shift(),e.ar.reset()}catch(t){if(!fc(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.mc.length>0&&e.ar.Xi(()=>e.vc())}})()}Pc(e){const t=this._c.then(()=>(this.Ec=!0,e().catch(r=>{throw this.Tc=r,this.Ec=!1,yr("INTERNAL UNHANDLED ERROR: ",function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),h}(r)),r}).then(r=>(this.Ec=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.bc(),this.Ac.indexOf(e)>-1&&(t=0);const o=gm.createAndSchedule(this,e,t,r,u=>this.Vc(u));return this.yc.push(o),o}bc(){this.Tc&&tt()}verifyOperationInProgress(){}Sc(){var e=this;return(0,me.Z)(function*(){let t;do{t=e._c,yield t}while(t!==e._c)})()}Dc(e){for(const t of this.yc)if(t.timerId===e)return!0;return!1}Cc(e){return this.Sc().then(()=>{this.yc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.yc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sc()})}Nc(e){this.Ac.push(e)}Vc(e){const t=this.yc.indexOf(e);this.yc.splice(t,1)}}function zT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class Pw{constructor(){this._progressObserver={},this._taskCompletionResolver=new _r,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Mn extends Im{constructor(e,t){super(e,t),this.type="firestore",this._queue=new Ux,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||ZT(this),this._firestoreClient.terminate()}}function Or(n){return n._firestoreClient||ZT(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function ZT(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Cm(n._databaseId,u,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var u,m;n._firestoreClient=new Mx(n._credentials,n._queue,r)}function Fw(n,e,t){const r=new _r;return n.asyncQueue.enqueue((0,me.Z)(function*(){try{yield OT(n,t),yield NT(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(u=o).name?u.code===de.FAILED_PRECONDITION||u.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var u})).then(()=>r.promise)}function Vw(n){if(n._initialized||n._terminated)throw new Oe(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class tu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ii(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ra{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ra($r.fromBase64String(e))}catch(t){throw new Oe(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ra($r.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class hp{constructor(e){this._methodName=e}}class Gr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}}const fp=/^__.*__$/;class zx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new zl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uf(e,this.data,t,this.fieldTransforms)}}class XT{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new zl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}class Ec{constructor(e,t,r,o,u,h){this.settings=e,this.databaseId=t,this.N=r,this.ignoreUndefinedProperties=o,void 0===u&&this.xc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(e){return new Ec(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.$c({path:r,Fc:!1});return o.Mc(e),o}Lc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.$c({path:r,Fc:!1});return o.xc(),o}Bc(e){return this.$c({path:void 0,Fc:!0})}Uc(e){return yp(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Mc(this.path.get(e))}Mc(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(qx(this.kc)&&fp.test(e))throw this.Uc('Document fields cannot begin and end with "__"')}}class Wx{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=r||mc(e)}jc(e,t,r,o=!1){return new Ec({kc:e,methodName:t,Kc:r,path:ii.emptyPath(),Fc:!1,qc:o},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function nu(n){const e=n._freezeSettings(),t=mc(n._databaseId);return new Wx(n._databaseId,!!e.ignoreUndefinedProperties,t)}function iv(n,e,t,r,o,u={}){const h=n.jc(u.merge||u.mergeFields?2:0,e,t,o);mp("Data must be an object, but it was:",h,r);const m=rD(r,h);let b,I;if(u.merge)b=new Of(h.fieldMask),I=h.fieldTransforms;else if(u.mergeFields){const x=[];for(const O of u.mergeFields){const j=sv(e,O,t);if(!h.contains(j))throw new Oe(de.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);iD(x,j)||x.push(j)}b=new Of(x),I=h.fieldTransforms.filter(O=>b.covers(O.field))}else b=null,I=h.fieldTransforms;return new zx(new si(m),b,I)}class pp extends hp{_toFieldTransform(e){if(2!==e.kc)throw e.Uc(1===e.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pp}}function eD(n,e,t){return new Ec({kc:3,Kc:e.settings.Kc,methodName:n._methodName,Fc:t},e.databaseId,e.N,e.ignoreUndefinedProperties)}class Uw extends hp{_toFieldTransform(e){return new Gg(e.path,new Vf)}isEqual(e){return e instanceof Uw}}class Bw extends hp{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=eD(this,e,!0),r=this.Qc.map(u=>bc(u,t)),o=new Cd(r);return new Gg(e.path,o)}isEqual(e){return this===e}}class tD extends hp{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=eD(this,e,!0),r=this.Qc.map(u=>bc(u,t)),o=new Id(r);return new Gg(e.path,o)}isEqual(e){return this===e}}class nD extends hp{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=new $a(e.N,Yo(e.N,this.Wc));return new Gg(e.path,t)}isEqual(e){return this===e}}function gp(n,e,t,r){const o=n.jc(1,e,t);mp("Data must be an object, but it was:",o,r);const u=[],h=si.empty();yd(r,(b,I)=>{const x=Sm(e,b,t);I=(0,kt.m9)(I);const O=o.Lc(x);if(I instanceof pp)u.push(x);else{const j=bc(I,O);null!=j&&(u.push(x),h.set(x,j))}});const m=new Of(u);return new XT(h,m,o.fieldTransforms)}function Dm(n,e,t,r,o,u){const h=n.jc(1,e,t),m=[sv(e,r,t)],b=[o];if(u.length%2!=0)throw new Oe(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<u.length;j+=2)m.push(sv(e,u[j])),b.push(u[j+1]);const I=[],x=si.empty();for(let j=m.length-1;j>=0;--j)if(!iD(I,m[j])){const B=m[j];let Z=b[j];Z=(0,kt.m9)(Z);const pe=h.Lc(B);if(Z instanceof pp)I.push(B);else{const Se=bc(Z,pe);null!=Se&&(I.push(B),x.set(B,Se))}}const O=new Of(I);return new XT(x,O,h.fieldTransforms)}function Zx(n,e,t,r=!1){return bc(t,n.jc(r?4:3,e))}function bc(n,e){if(jw(n=(0,kt.m9)(n)))return mp("Unsupported field value:",e,n),rD(n,e);if(n instanceof hp)return function(t,r){if(!qx(r.kc))throw r.Uc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Uc(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.kc)throw e.Uc("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const h of t){let m=bc(h,r.Bc(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,kt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Yo(r.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Hr.fromDate(t);return{timestampValue:D_(r.N,o)}}if(t instanceof Hr){const o=new Hr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:D_(r.N,o)}}if(t instanceof Gr)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ra)return{bytesValue:S_(r.N,t._byteString)};if(t instanceof un){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.Uc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:A_(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Uc(`Unsupported field value: ${tv(t)}`)}(n,e)}function rD(n,e){const t={};return rb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yd(n,(r,o)=>{const u=bc(o,e.Oc(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function jw(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Hr||n instanceof Gr||n instanceof ra||n instanceof un||n instanceof hp)}function mp(n,e,t){if(!jw(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=tv(t);throw e.Uc("an object"===r?n+" a custom object":n+" "+r)}var r}function sv(n,e,t){if((e=(0,kt.m9)(e))instanceof tu)return e._internalPath;if("string"==typeof e)return Sm(n,e);throw yp("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const Kx=new RegExp("[~\\*/\\[\\]]");function Sm(n,e,t){if(e.search(Kx)>=0)throw yp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new tu(...e.split("."))._internalPath}catch(r){throw yp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yp(n,e,t,r,o){const u=r&&!r.isEmpty(),h=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let b="";return(u||h)&&(b+=" (found",u&&(b+=` in field ${r}`),h&&(b+=` in document ${o}`),b+=")"),new Oe(de.INVALID_ARGUMENT,m+n+b)}function iD(n,e){return n.some(t=>t.isEqual(e))}class Am{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class sD extends Am{data(){return super.data()}}function xm(n,e){return"string"==typeof e?Sm(n,e):e instanceof tu?e._internalPath:e._delegate._internalPath}class wc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ru extends Am{constructor(e,t,r,o,u,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _p(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(xm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class _p extends ru{data(e={}){return super.data(e)}}class iu{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new wc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new _p(this._firestore,this._userDataWriter,r.key,r,new wc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new _p(r._firestore,r._userDataWriter,h.doc.key,h.doc,new wc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const m=new _p(r._firestore,r._userDataWriter,h.doc.key,h.doc,new wc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let b=-1,I=-1;return 0!==h.type&&(b=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),1!==h.type&&(u=u.add(h.doc),I=u.indexOf(h.doc.key)),{type:Yx(h.type),doc:m,oldIndex:b,newIndex:I}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Yx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}function oD(n,e){return n instanceof ru&&e instanceof ru?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof iu&&e instanceof iu&&n._firestore===e._firestore&&GT(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Hw(n){if(__(n)&&0===n.explicitOrderBy.length)throw new Oe(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rm{}function su(n,...e){for(const t of e)n=t._apply(n);return n}class aD extends Rm{constructor(e,t,r){super(),this.Gc=e,this.zc=t,this.Hc=r,this.type="where"}_apply(e){const t=nu(e.firestore),r=function(o,u,h,m,b,I,x){let O;if(b.isKeyField()){if("array-contains"===I||"array-contains-any"===I)throw new Oe(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on FieldPath.documentId().`);if("in"===I||"not-in"===I){rR(x,I);const B=[];for(const Z of x)B.push(nR(m,o,Z));O={arrayValue:{values:B}}}else O=nR(m,o,x)}else"in"!==I&&"not-in"!==I&&"array-contains-any"!==I||rR(x,I),O=Zx(h,"where",x,"in"===I||"not-in"===I);const j=Di.create(b,I,O);return function(B,Z){if(Z.v()){const Se=E_(B);if(null!==Se&&!Se.isEqual(Z.field))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Se.toString()}' and '${Z.field.toString()}'`);const Be=v_(B);null!==Be&&iR(0,Z.field,Be)}const pe=function(Se,Be){for(const st of Se.filters)if(Be.indexOf(st.op)>=0)return st.op;return null}(B,function(Se){switch(Se){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Z.op));if(null!==pe)throw new Oe(de.INVALID_ARGUMENT,pe===Z.op?`Invalid query. You cannot use more than one '${Z.op.toString()}' filter.`:`Invalid query. You cannot use '${Z.op.toString()}' filters with '${pe.toString()}' filters.`)}(o,j),j}(e._query,0,t,e.firestore._databaseId,this.Gc,this.zc,this.Hc);return new br(e.firestore,e.converter,function(o,u){const h=o.filters.concat([u]);return new Ha(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class uD extends Rm{constructor(e,t){super(),this.Gc=e,this.Jc=t,this.type="orderBy"}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new Oe(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Oe(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new kf(o,u);return function(m,b){if(null===v_(m)){const I=E_(m);null!==I&&iR(0,I,b.field)}}(r,h),h}(e._query,this.Gc,this.Jc);return new br(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new Ha(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class cD extends Rm{constructor(e,t,r){super(),this.type=e,this.Yc=t,this.Xc=r}_apply(e){return new br(e.firestore,e.converter,lb(e._query,this.Yc,this.Xc))}}class Xx extends Rm{constructor(e,t,r){super(),this.type=e,this.Zc=t,this.ta=r}_apply(e){const t=tR(e,this.type,this.Zc,this.ta);return new br(e.firestore,e.converter,(o=t,new Ha((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class eR extends Rm{constructor(e,t,r){super(),this.type=e,this.Zc=t,this.ta=r}_apply(e){const t=tR(e,this.type,this.Zc,this.ta);return new br(e.firestore,e.converter,(o=t,new Ha((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function tR(n,e,t,r){if(t[0]=(0,kt.m9)(t[0]),t[0]instanceof Am)return function(o,u,h,m,b){if(!m)throw new Oe(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const I=[];for(const x of Lf(o))if(x.field.isKeyField())I.push(Nf(u,m.key));else{const O=m.data.field(x.field);if(Vg(O))throw new Oe(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const j=x.field.canonicalString();throw new Oe(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${j}' (used as the orderBy) does not exist.`)}I.push(O)}return new m_(I,b)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=nu(n.firestore);return function(u,h,m,b,I,x){const O=u.explicitOrderBy;if(I.length>O.length)throw new Oe(de.INVALID_ARGUMENT,`Too many arguments provided to ${b}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const j=[];for(let B=0;B<I.length;B++){const Z=I[B];if(O[B].field.isKeyField()){if("string"!=typeof Z)throw new Oe(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${b}(), but got a ${typeof Z}`);if(!cc(u)&&-1!==Z.indexOf("/"))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${b}() must be a plain document ID, but '${Z}' contains a slash.`);const pe=u.path.child(rn.fromString(Z));if(!Qe.isDocumentKey(pe))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${b}() must result in a valid document path, but '${pe}' is not because it contains an odd number of segments.`);const Se=new Qe(pe);j.push(Nf(h,Se))}else{const pe=Zx(m,b,Z);j.push(pe)}}return new m_(j,x)}(n._query,n.firestore._databaseId,o,e,t,r)}}function nR(n,e,t){if("string"==typeof(t=(0,kt.m9)(t))){if(""===t)throw new Oe(de.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!cc(e)&&-1!==t.indexOf("/"))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(rn.fromString(t));if(!Qe.isDocumentKey(r))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Nf(n,new Qe(r))}if(t instanceof un)return Nf(n,t._key);throw new Oe(de.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${tv(t)}.`)}function rR(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Oe(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function iR(n,e,t){if(!t.isEqual(e))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class hD{convertValue(e,t="none"){switch(_d(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Lg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw tt()}}convertObject(e,t){const r={};return yd(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new Gr(Wn(e.latitude),Wn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=QC(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(u_(e));default:return null}}convertTimestamp(e){const t=Gl(e);return new Hr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=rn.fromString(e);yt(xb(r));const o=new Vd(r.get(1),r.get(3)),u=new Qe(r.popFirst(5));return o.isEqual(t)||yr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function $w(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class QN extends hD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ra(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,t)}}class sR{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=nu(e)}set(e,t,r){this._verifyNotCommitted();const o=Ud(e,this._firestore),u=$w(o.converter,t,r),h=iv(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,Bn.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=Ud(e,this._firestore);let h;return h="string"==typeof(t=(0,kt.m9)(t))||t instanceof tu?Dm(this._dataReader,"WriteBatch.update",u._key,t,r,o):gp(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(h.toMutation(u._key,Bn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ud(e,this._firestore);return this._mutations=this._mutations.concat(new Bf(t._key,Bn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ud(n,e){if((n=(0,kt.m9)(n)).firestore!==e)throw new Oe(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class vp extends hD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ra(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,t)}}function uR(n,e,t){n=Yt(n,un);const r=Yt(n.firestore,Mn),o=$w(n.converter,e,t);return Om(r,[iv(nu(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Bn.none())])}function fD(n,e,t,...r){n=Yt(n,un);const o=Yt(n.firestore,Mn),u=nu(o);let h;return h="string"==typeof(e=(0,kt.m9)(e))||e instanceof tu?Dm(u,"updateDoc",n._key,e,t,r):gp(u,"updateDoc",n._key,e),Om(o,[h.toMutation(n._key,Bn.exists(!0))])}function hR(n,...e){var t,r,o;n=(0,kt.m9)(n);let u={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||zT(e[h])||(u=e[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges};if(zT(e[h])){const O=e[h];e[h]=null===(t=O.next)||void 0===t?void 0:t.bind(O),e[h+1]=null===(r=O.error)||void 0===r?void 0:r.bind(O),e[h+2]=null===(o=O.complete)||void 0===o?void 0:o.bind(O)}let b,I,x;if(n instanceof un)I=Yt(n.firestore,Mn),x=Ff(n._key.path),b={next:O=>{e[h]&&e[h](pD(I,n,O))},error:e[h+1],complete:e[h+2]};else{const O=Yt(n,br);I=Yt(O.firestore,Mn),x=O._query;const j=new vp(I);b={next:B=>{e[h]&&e[h](new iu(I,j,O,B))},error:e[h+1],complete:e[h+2]},Hw(n._query)}return function(O,j,B,Z){const pe=new bm(Z),Se=new gt(j,pe,B);return O.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return W_(yield dp(O),Se)})),()=>{pe.ec(),O.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return aw(yield dp(O),Se)}))}}(Or(I),x,m,b)}function Om(n,e){return function(t,r){const o=new _r;return t.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(n,e,t){return hw.apply(this,arguments)}(yield X_(t),r,o)})),o.promise}(Or(n),e)}function pD(n,e,t){const r=t.docs.get(e._key),o=new vp(n);return new ru(n,o,e._key,r,new wc(t.hasPendingWrites,t.fromCache),e.converter)}class fR extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=nu(e)}get(e){const t=Ud(e,this._firestore),r=new QN(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return tt();const u=o[0];if(u.isFoundDocument())return new Am(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new Am(this._firestore,r,t._key,null,t.converter);throw tt()})}set(e,t,r){const o=Ud(e,this._firestore),u=$w(o.converter,t,r),h=iv(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(e,t,r,...o){const u=Ud(e,this._firestore);let h;return h="string"==typeof(t=(0,kt.m9)(t))||t instanceof tu?Dm(this._dataReader,"Transaction.update",u._key,t,r,o):gp(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,h),this}delete(e){const t=Ud(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ud(e,this._firestore),r=new vp(this._firestore);return super.get(e).then(o=>new ru(this._firestore,r,t._key,o._document,new wc(!1,!1),t.converter))}}function ov(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function qw(){if("undefined"==typeof Uint8Array)throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function mR(){if("undefined"==typeof atob)throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Af=ei.SDK_VERSION,(0,ei._registerComponent)(new mg.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),u=new Mn(o,new FN(t.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,ei.registerVersion)(qC,"3.3.1",n),(0,ei.registerVersion)(qC,"3.3.1","esm2017")}();class bp{constructor(e){this._delegate=e}static fromBase64String(e){return mR(),new bp(ra.fromBase64String(e))}static fromUint8Array(e){return qw(),new bp(ra.fromUint8Array(e))}toBase64(){return mR(),this._delegate.toBase64()}toUint8Array(){return qw(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function wp(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class iM{enableIndexedDbPersistence(e,t){return function(n,e){Vw(n=Yt(n,Mn));const t=Or(n),r=n._freezeSettings(),o=new Em;return Fw(t,o,new Tw(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){Vw(n=Yt(n,Mn));const e=Or(n),t=n._freezeSettings(),r=new Em;return Fw(e,r,new na(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Oe(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new _r;return n._queue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{yield(t=(0,me.Z)(function*(r){if(!Xo.bt())return Promise.resolve();const o=r+"main";yield Xo.delete(o)}),function(r){return t.apply(this,arguments)})(WI(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class yR{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Vd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&xf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var o;const u=(n=Yt(n,Im))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&xf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,m;if("string"==typeof r.mockUserToken)h=r.mockUserToken,m=jr.MOCK_USER;else{h=(0,kt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Oe(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new jr(b)}n._credentials=new kN(new l_(h,m))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield Aw(n),t=yield Px(n);return e.setNetworkEnabled(!0),function(r){const o=Le(r);return o.Wr.delete(0),cm(o)}(t)}))}(Or(n=Yt(n,Mn)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield Aw(n),t=yield Px(n);return e.setNetworkEnabled(!1),(r=(0,me.Z)(function*(o){const u=Le(o);u.Wr.add(0),yield Nd(u),u.Hr.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Or(n=Yt(n,Mn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Nw("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new _r;return e.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(n,e){return gw.apply(this,arguments)}(yield X_(e),t)})),t.promise}(Or(n=Yt(n,Mn)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new bm(e);return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return r=yield dp(n),o=t,Le(r).so.add(o),void o.next();var r,o})),()=>{t.ec(),n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return r=yield dp(n),o=t,void Le(r).so.delete(o);var r,o}))}}(Or(n=Yt(n,Mn)),zT(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Cp(this,nv(this._delegate,e))}catch(t){throw ds(t,"collection()","Firestore.collection()")}}doc(e){try{return new ia(this,rv(this._delegate,e))}catch(t){throw ds(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Hi(this,function(n,e){if(n=Yt(n,Im),ev("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new br(n,null,(t=e,new Ha(rn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ds(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new _r;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){const r=yield(o=n,eu(o).then(u=>u.datastore));var o;new Nx(n.asyncQueue,r,e,t).run()})),t.promise}(Or(n=Yt(n,Mn)),t=>e(new fR(n,t)))}(this._delegate,t=>e(new vR(this,t)))}batch(){return Or(this._delegate),new Nm(new sR(this._delegate,e=>Om(this._delegate,e)))}loadBundle(e){return function(n,e){const t=Or(n=Yt(n,Mn)),r=new Pw;return function(n,e,t,r){const o=function(u,h){let m;return m="string"==typeof u?(new TextEncoder).encode(u):u,b=function(b,I){if(b instanceof Uint8Array)return AT(b,I);if(b instanceof ArrayBuffer)return AT(new Uint8Array(b),I);if(b instanceof ReadableStream)return b.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new xT(b,h);var b}(t,mc(e));n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){!function(n,e,t){const r=Le(n);var o;(o=(0,me.Z)(function*(u,h,m){try{const b=yield h.getMetadata();if(yield function(j,B){const Z=Le(j),pe=Rr(B.createTime);return Z.persistence.runTransaction("hasNewerBundle","readonly",Se=>Z.Je.getBundleMetadata(Se,B.id)).then(Se=>!!Se&&Se.createTime.compareTo(pe)>=0)}(u.localStore,b))return yield h.close(),void m._completeWith((j=b,{taskState:"Success",documentsLoaded:j.totalDocuments,bytesLoaded:j.totalBytes,totalDocuments:j.totalDocuments,totalBytes:j.totalBytes}));m._updateProgress(yT(b));const I=new px(b,u.localStore,h.N);let x=yield h.zo();for(;x;){const j=yield I.mo(x);j&&m._updateProgress(j),x=yield h.zo()}const O=yield I.complete();yield vc(u,O.En,void 0),yield function(j,B){const Z=Le(j);return Z.persistence.runTransaction("Save bundle","readwrite",pe=>Z.Je.saveBundleMetadata(pe,B))}(u.localStore,b),m._completeWith(O.progress)}catch(b){xf("SyncEngine",`Loading bundle failed with ${b}`),m._failWith(b)}var j}),function(u,h,m){return o.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield X_(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,me.Z)(function*(){return function(t,r){const o=Le(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.Je.getNamedQuery(u,r))}(yield xw(n),e)}))}(Or(n=Yt(n,Mn)),e).then(t=>t?new br(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Hi(this,t):null)}}class Ww extends hD{constructor(e){super(),this.firestore=e}convertBytes(e){return new bp(new ra(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ia.forKey(t,this.firestore,null)}}class vR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ww(e)}get(e){const t=Ip(e);return this._delegate.get(t).then(r=>new lv(this._firestore,new ru(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Ip(e);return r?(ov("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Ip(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Ip(e);return this._delegate.delete(t),this}}class Nm{constructor(e){this._delegate=e}set(e,t,r){const o=Ip(e);return r?(ov("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Ip(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Ip(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Bd{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new _p(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new uv(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Bd.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new Bd(e,new Ww(e),t),o.set(t,u)),u}}Bd.INSTANCES=new WeakMap;class ia{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ww(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ia(t,new un(t._delegate,r,new Qe(e)))}static forKey(e,t,r){return new ia(t,new un(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Cp(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Cp(this.firestore,nv(this._delegate,e))}catch(t){throw ds(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,kt.m9)(e))instanceof un&&Tm(this._delegate,e)}set(e,t){t=ov("DocumentReference.set",t);try{return t?uR(this._delegate,e,t):uR(this._delegate,e)}catch(r){throw ds(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?fD(this._delegate,e):fD(this._delegate,e,t,...r)}catch(o){throw ds(o,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return Om(Yt(n.firestore,Mn),[new Bf(n._key,Bn.none())])}(this._delegate)}onSnapshot(...e){const t=av(e),r=_D(e,o=>new lv(this.firestore,new ru(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return hR(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Yt(n,un);const e=Yt(n.firestore,Mn),t=Or(e),r=new vp(e);return function(n,e){const t=new _r;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(r=(0,me.Z)(function*(o,u,h){try{const m=yield function(b,I){const x=Le(b);return x.persistence.runTransaction("read document","readonly",O=>x.Qn.An(O,I))}(o,u);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new Oe(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const b=Fd(m,`Failed to get document '${u} from cache`);h.reject(b)}}),function(o,u,h){return r.apply(this,arguments)})(yield xw(n),e,t);var r})),t.promise}(t,n._key).then(o=>new ru(e,r,n._key,o,new wc(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Yt(n,un);const e=Yt(n.firestore,Mn);return VT(Or(e),n._key,{source:"server"}).then(t=>pD(e,n,t))}(this._delegate):function(n){n=Yt(n,un);const e=Yt(n.firestore,Mn);return VT(Or(e),n._key).then(t=>pD(e,n,t))}(this._delegate),t.then(r=>new lv(this.firestore,new ru(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ia(this.firestore,this._delegate.withConverter(e?Bd.getInstance(this.firestore,e):null))}}function ds(n,e,t){return n.message=n.message.replace(e,t),n}function av(n){for(const e of n)if("object"==typeof e&&!wp(e))return e;return{}}function _D(n,e){var t,r;let o;return o=wp(n[0])?n[0]:wp(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class lv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ia(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return oD(this._delegate,e._delegate)}}class uv extends lv{data(e){const t=this._delegate.data(e);return function(n,e){n||tt()}(void 0!==t),t}}class Hi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ww(e)}where(e,t,r){try{return new Hi(this.firestore,su(this._delegate,function(n,e,t){const r=e,o=xm("where",n);return new aD(o,r,t)}(e,t,r)))}catch(o){throw ds(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Hi(this.firestore,su(this._delegate,function(n,e="asc"){const t=e,r=xm("orderBy",n);return new uD(r,t)}(e,t)))}catch(r){throw ds(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Hi(this.firestore,su(this._delegate,function(n){return HT("limit",n),new cD("limit",n,"F")}(e)))}catch(t){throw ds(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Hi(this.firestore,su(this._delegate,function(n){return HT("limitToLast",n),new cD("limitToLast",n,"L")}(e)))}catch(t){throw ds(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Hi(this.firestore,su(this._delegate,function(...n){return new Xx("startAt",n,!0)}(...e)))}catch(t){throw ds(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Hi(this.firestore,su(this._delegate,function(...n){return new Xx("startAfter",n,!1)}(...e)))}catch(t){throw ds(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Hi(this.firestore,su(this._delegate,function(...n){return new eR("endBefore",n,!0)}(...e)))}catch(t){throw ds(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Hi(this.firestore,su(this._delegate,function(...n){return new eR("endAt",n,!1)}(...e)))}catch(t){throw ds(t,"endAt()","Query.endAt()")}}isEqual(e){return GT(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Yt(n,br);const e=Yt(n.firestore,Mn),t=Or(e),r=new vp(e);return function(n,e){const t=new _r;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(r=(0,me.Z)(function*(o,u,h){try{const m=yield am(o,u,!0),b=new mx(u,m.Gn),I=b.bo(m.documents),x=b.applyChanges(I,!1);h.resolve(x.snapshot)}catch(m){const b=Fd(m,`Failed to execute query '${u} against cache`);h.reject(b)}}),function(o,u,h){return r.apply(this,arguments)})(yield xw(n),e,t);var r})),t.promise}(t,n._query).then(o=>new iu(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Yt(n,br);const e=Yt(n.firestore,Mn),t=Or(e),r=new vp(e);return Rw(t,n._query,{source:"server"}).then(o=>new iu(e,r,n,o))}(this._delegate):function(n){n=Yt(n,br);const e=Yt(n.firestore,Mn),t=Or(e),r=new vp(e);return Hw(n._query),Rw(t,n._query).then(o=>new iu(e,r,n,o))}(this._delegate),t.then(r=>new cv(this.firestore,new iu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=av(e),r=_D(e,o=>new cv(this.firestore,new iu(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return hR(this._delegate,t,r)}withConverter(e){return new Hi(this.firestore,this._delegate.withConverter(e?Bd.getInstance(this.firestore,e):null))}}class sM{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new uv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class cv{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Hi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new uv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new sM(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new uv(this._firestore,r))})}isEqual(e){return oD(this._delegate,e._delegate)}}class Cp extends Hi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ia(this.firestore,e):null}doc(e){try{return new ia(this.firestore,void 0===e?rv(this._delegate):rv(this._delegate,e))}catch(t){throw ds(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=Yt(n.firestore,Mn),r=rv(n),o=$w(n.converter,e);return Om(t,[iv(nu(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Bn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ia(this.firestore,t))}isEqual(e){return Tm(this._delegate,e._delegate)}withConverter(e){return new Cp(this.firestore,this._delegate.withConverter(e?Bd.getInstance(this.firestore,e):null))}}function Ip(n){return Yt(n,un)}class vD{constructor(...e){this._delegate=new tu(...e)}static documentId(){return new vD(ii.keyField().canonicalString())}isEqual(e){return(e=(0,kt.m9)(e))instanceof tu&&this._delegate._internalPath.isEqual(e._internalPath)}}class jd{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Uw("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new jd(e)}static delete(){const e=new pp("deleteField");return e._methodName="FieldValue.delete",new jd(e)}static arrayUnion(...e){const t=function(...n){return new Bw("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new jd(t)}static arrayRemove(...e){const t=function(...n){return new tD("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new jd(t)}static increment(e){const t=function(n){return new nD("increment",n)}(e);return t._methodName="FieldValue.increment",new jd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Mm={Firestore:yR,GeoPoint:Gr,Timestamp:Hr,Blob:bp,Transaction:vR,WriteBatch:Nm,DocumentReference:ia,DocumentSnapshot:lv,Query:Hi,QueryDocumentSnapshot:uv,QuerySnapshot:cv,CollectionReference:Cp,FieldPath:vD,FieldValue:jd,setLogLevel:function(n){!function(n){$l.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new mg.wA("firestore-compat",t=>((e,t)=>new yR(e,t,new iM))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Mm)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.8")}(Y0.Z);var wR=L(6682),Hd=L(309),CR=L(7771),Ls=L(8858);class IR extends hr.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new Zw(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,u=r.length;let h;if(this.closed)throw new xa.N;if(this.isStopped||this.hasError?h=Oh.w.EMPTY:(this.observers.push(e),h=new Ls.W(this,e)),o&&e.add(e=new Hd.ht(e,o)),t)for(let m=0;m<u&&!e.closed;m++)e.next(r[m]);else for(let m=0;m<u&&!e.closed;m++)e.next(r[m].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),h}_getNow(){return(this.scheduler||CR.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,o=this._events,u=o.length;let h=0;for(;h<u&&!(e-o[h].time<r);)h++;return u>t&&(h=Math.max(h,u-t)),h>0&&o.splice(0,h),o}}class Zw{constructor(e,t){this.time=e,this.value=t}}function ED(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},o=>o.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let o,h,u=0,m=!1,b=!1;return function(x){let O;u++,!o||m?(m=!1,o=new IR(n,e,r),O=o.subscribe(this),h=x.subscribe({next(j){o.next(j)},error(j){m=!0,o.error(j)},complete(){b=!0,h=void 0,o.complete()}}),b&&(h=void 0)):O=o.subscribe(this),this.add(()=>{u--,O.unsubscribe(),O=void 0,h&&!b&&t&&0===u&&(h.unsubscribe(),h=void 0,o=void 0)})}}(r))}function dv(n,e){return e?An(()=>n,e):An(()=>n)}var hv=L(3101);L(2329);const ID=new Map,dM={activated:!1,tokenObservers:[]},xR={initialized:!1,enabled:!1};function Nr(n){return ID.get(n)||dM}function sa(n,e){ID.set(n,e)}function pv(){return xR}class NR{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,me.Z)(function*(){t.stop();try{t.pending=new kt.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new kt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ui=new kt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function SD(n){if(!Nr(n).activated)throw ui.create("use-before-activation",{appName:n.name})}function xD(n,e){return mv.apply(this,arguments)}function mv(){return(mv=(0,me.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});o&&(r["X-Firebase-Client"]=o.getPlatformInfoString());const u={method:"POST",body:JSON.stringify(e),headers:r};let h,m;try{h=yield fetch(n,u)}catch(O){throw ui.create("fetch-network-error",{originalErrorMessage:O.message})}if(200!==h.status)throw ui.create("fetch-status-error",{httpStatus:h.status});try{m=yield h.json()}catch(O){throw ui.create("fetch-parse-error",{originalErrorMessage:O.message})}const b=m.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw ui.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const I=1e3*Number(b[1]),x=Date.now();return{token:m.attestationToken,expireTimeMillis:x+I,issuedAtTimeMillis:x}})).apply(this,arguments)}function kR(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const Tp="firebase-app-check-store";let e0=null;function OD(){return e0||(e0=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(ui.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{const o=r.target.result;switch(r.oldVersion){case 0:o.createObjectStore(Tp,{keyPath:"compositeKey"})}}}catch(t){e(ui.create("storage-open",{originalErrorMessage:t.message}))}}),e0)}function r0(){return(r0=(0,me.Z)(function*(n,e){const r=(yield OD()).transaction(Tp,"readwrite"),u=r.objectStore(Tp).put({compositeKey:n,value:e});return new Promise((h,m)=>{u.onsuccess=b=>{h()},r.onerror=b=>{var I;m(ui.create("storage-set",{originalErrorMessage:null===(I=b.target.error)||void 0===I?void 0:I.message}))}})})).apply(this,arguments)}const Dp=new Xu.Yd("@firebase/app-check");function _v(n,e){return(0,kt.hl)()?function(n,e){return function(n,e){return r0.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Dp.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Lm(){return pv().enabled}function PD(){return Vm.apply(this,arguments)}function Vm(){return(Vm=(0,me.Z)(function*(){const n=pv();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const qr={error:"UNKNOWN_ERROR"};function pM(n){return kt.US.encodeString(JSON.stringify(n),!1)}function vv(n){return l0.apply(this,arguments)}function l0(){return(l0=(0,me.Z)(function*(n,e=!1){const t=n.app;SD(t);const r=Nr(t);let u,o=r.token;if(!o){const b=yield r.cachedTokenPromise;b&&u0(b)&&(o=b)}if(!e&&o&&u0(o))return{token:o.token};let m,h=!1;if(Lm()){r.exchangeTokenPromise||(r.exchangeTokenPromise=xD(kR(t,yield PD()),n.platformLoggerProvider).then(I=>(r.exchangeTokenPromise=void 0,I)),h=!0);const b=yield r.exchangeTokenPromise;return yield _v(t,b),sa(t,Object.assign(Object.assign({},r),{token:b})),{token:b.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(b=>(r.exchangeTokenPromise=void 0,b)),h=!0),o=yield r.exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?Dp.warn(b.message):Dp.error(b),u=b}return o?(m={token:o.token},sa(t,Object.assign(Object.assign({},r),{token:o})),yield _v(t,o)):m=BR(u),h&&UR(t,m),m})).apply(this,arguments)}function Sp(n,e){const t=Nr(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),sa(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function LD(n){const{app:e}=n,t=Nr(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new NR((0,me.Z)(function*(){let r;if(r=Nr(e).token?yield vv(n,!0):yield vv(n),r.error)throw r.error}),()=>!0,()=>{const t=Nr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),sa(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function UR(n,e){const t=Nr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function u0(n){return n.expireTimeMillis-Date.now()>0}function BR(n){return{token:pM(qr),error:n}}class jR{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Nr(this.app);for(const t of e)Sp(this.app,t.next);return Promise.resolve()}}const XR="app-check-internal";(0,ei._registerComponent)(new mg.wA("app-check",n=>function(n,e){return new jR(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(XR).initialize()})),(0,ei._registerComponent)(new mg.wA(XR,n=>function(n){return{getToken:e=>vv(n,e),addTokenListener:e=>function(n,e,t,r){const{app:o}=n,u=Nr(o),h={next:t,error:r,type:e};if(sa(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,h]})),u.token&&u0(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),LD(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>LD(n))}(n,"INTERNAL",e),removeTokenListener:e=>Sp(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ei.registerVersion)("@firebase/app-check","0.5.2");class h0{constructor(){return(0,Xr.vb)("app-check")}}"undefined"!=typeof window&&window;var p0=L(7841);const Bm=new d.OlP("angularfire2.auth.use-emulator"),g0=new d.OlP("angularfire2.auth.settings"),m0=new d.OlP("angularfire2.auth.tenant-id"),qD=new d.OlP("angularfire2.auth.langugage-code"),WD=new d.OlP("angularfire2.auth.use-device-language"),y0=new d.OlP("angularfire.auth.persistence"),ZD=(n,e,t,r,o,u,h,m)=>(0,it.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=e.runOutsideAngular(()=>n.auth());if(t&&b.useEmulator(...t),r&&(b.tenantId=r),b.languageCode=o,u&&b.useDeviceLanguage(),h)for(const[I,x]of Object.entries(h))b.settings[I]=x;return m&&b.setPersistence(m),b},[t,r,o,u,h,m]);let KD=(()=>{class n{constructor(t,r,o,u,h,m,b,I,x,O,j,B){const Z=new hr.xQ,pe=(0,ot.of)(void 0).pipe((0,Hd.QV)(h.outsideAngular),An(()=>u.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,941)))),(0,ct.U)(()=>(0,it.on)(t,u,r)),(0,ct.U)(Se=>ZD(Se,u,m,I,x,O,b,j)),ED({bufferSize:1,refCount:!1}));if(sl(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ot.of)(null);else{pe.pipe(es()).subscribe();const Be=pe.pipe(An(at=>at.getRedirectResult().then(pn=>pn,()=>null)),Xr.iC,ED({bufferSize:1,refCount:!1})),st=pe.pipe(An(at=>new zt.y(pn=>({unsubscribe:u.runOutsideAngular(()=>at.onAuthStateChanged(ar=>pn.next(ar),ar=>pn.error(ar),()=>pn.complete()))})))),Ot=pe.pipe(An(at=>new zt.y(pn=>({unsubscribe:u.runOutsideAngular(()=>at.onIdTokenChanged(ar=>pn.next(ar),ar=>pn.error(ar),()=>pn.complete()))}))));this.authState=Be.pipe(dv(st),(0,hv.R)(h.outsideAngular),(0,Hd.QV)(h.insideAngular)),this.user=Be.pipe(dv(Ot),(0,hv.R)(h.outsideAngular),(0,Hd.QV)(h.insideAngular)),this.idToken=this.user.pipe(An(at=>at?(0,Wt.D)(at.getIdToken()):(0,ot.of)(null))),this.idTokenResult=this.user.pipe(An(at=>at?(0,Wt.D)(at.getIdTokenResult()):(0,ot.of)(null))),this.credential=(0,wR.T)(Be,Z,this.authState.pipe(yi(at=>!at))).pipe((0,ct.U)(at=>(null==at?void 0:at.user)?at:null),(0,hv.R)(h.outsideAngular),(0,Hd.QV)(h.insideAngular))}return(0,it.pX)(this,pe,u,{spy:{apply:(Se,Be,st)=>{(Se.startsWith("signIn")||Se.startsWith("createUser"))&&st.then(Ot=>Z.next(Ot))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(it.Dh),d.LFG(it.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Xr.HU),d.LFG(Bm,8),d.LFG(g0,8),d.LFG(m0,8),d.LFG(qD,8),d.LFG(WD,8),d.LFG(y0,8),d.LFG(h0,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function YD(n,e){return function(n,e=GS.z){return new zt.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function Gd(n,e){return YD(n,e).pipe((0,ct.U)(t=>({payload:t,type:"query"})))}function zd(n,e){return Gd(n,e).pipe(wl(void 0),dE(),(0,ct.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,m)=>{const b=o.find(x=>x.doc.ref.isEqual(h.ref)),I=null==t?void 0:t.payload.docs.find(x=>x.ref.isEqual(h.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(h.metadata)||!b&&I&&JSON.stringify(I.metadata)===JSON.stringify(h.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),u}))}function v0(n,e,t){return zd(n,t).pipe(ku((r,o)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return jm(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return jm(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return jm(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),t=>t.lift(new WS(void 0,void 0)),(0,ct.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function jm(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function Hm(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class JD{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=zd(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ct.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(wl(void 0),dE(),yi(([r,o])=>o.length>0||!r),(0,ct.U)(([r,o])=>o),Xr.iC)}auditTrail(e){return this.stateChanges(e).pipe(ku((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Hm(e);return v0(this.query,t,this.afs.schedulers.outsideAngular).pipe(Xr.iC)}valueChanges(e={}){return Gd(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Xr.iC)}get(e){return(0,Wt.D)(this.query.get(e)).pipe(Xr.iC)}add(e){return this.ref.add(e)}doc(e){return new XD(this.ref.doc(e),this.afs)}}class XD{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=tS(r,t);return new JD(o,u,this.afs)}snapshotChanges(){return function(n,e){return YD(n,e).pipe(wl(void 0),dE(),(0,ct.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Xr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ct.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Wt.D)(this.ref.get(e)).pipe(Xr.iC)}}class lO{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?zd(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),yi(t=>t.length>0),Xr.iC):zd(this.query,this.afs.schedulers.outsideAngular).pipe(Xr.iC)}auditTrail(e){return this.stateChanges(e).pipe(ku((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Hm(e);return v0(this.query,t,this.afs.schedulers.outsideAngular).pipe(Xr.iC)}valueChanges(e={}){return Gd(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Xr.iC)}get(e){return(0,Wt.D)(this.query.get(e)).pipe(Xr.iC)}}const eS=new d.OlP("angularfire2.enableFirestorePersistence"),E0=new d.OlP("angularfire2.firestore.persistenceSettings"),uO=new d.OlP("angularfire2.firestore.settings"),cO=new d.OlP("angularfire2.firestore.use-emulator");function tS(n,e=(t=>t)){return{query:e(n),ref:n}}let Qa=(()=>{class n{constructor(t,r,o,u,h,m,b,I,x,O,j,B,Z,pe,Se,Be,st){this.schedulers=b;const Ot=(0,it.on)(t,m,r),at=x;O&&ZD(Ot,m,j,Z,pe,Se,B,Be),[this.firestore,this.persistenceEnabled$]=(0,it.cc)(`${Ot.name}.firestore`,"AngularFirestore",Ot.name,()=>{const pn=m.runOutsideAngular(()=>Ot.firestore());if(u&&pn.settings(u),at&&pn.useEmulator(...at),o&&!sl(h)){const ar=()=>{try{return(0,Wt.D)(pn.enablePersistence(I||void 0).then(()=>!0,()=>!1))}catch(Gi){return"undefined"!=typeof console&&console.warn(Gi),(0,ot.of)(!1)}};return[pn,m.runOutsideAngular(ar)]}return[pn,(0,ot.of)(!1)]},[u,at,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:h}=tS(o,r),m=this.schedulers.ngZone.run(()=>u);return new JD(m,h,this)}collectionGroup(t,r){const o=r||(h=>h),u=this.firestore.collectionGroup(t);return new lO(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new XD(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(it.Dh),d.LFG(it.xv,8),d.LFG(eS,8),d.LFG(uO,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Xr.HU),d.LFG(E0,8),d.LFG(cO,8),d.LFG(KD,8),d.LFG(Bm,8),d.LFG(g0,8),d.LFG(m0,8),d.LFG(qD,8),d.LFG(WD,8),d.LFG(y0,8),d.LFG(h0,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),$m=(()=>{class n{constructor(){p0.Z.registerVersion("angularfire",Xr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:eS,useValue:!0},{provide:E0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Qa]}),n})();function b0(n,e){if(1&n&&(d.ynx(0),d.TgZ(1,"div",3),d.TgZ(2,"div",4),d._UZ(3,"div",5),d.TgZ(4,"span",6),d._uU(5),d.qZA(),d.qZA(),d.qZA(),d.BQk()),2&n){const t=e.$implicit;d.xp6(3),d.Jzz("background-image: url('",t.url,"');"),d.xp6(2),d.Oqu(t.nome)}}let dO=(()=>{class n{constructor(t){this.store=t,this.colaboradores=[]}ngOnInit(){this.getAll()}getAll(){this.store.collection("colaboradores").snapshotChanges().subscribe(t=>{console.log("reponse ",t),this.colaboradores=t.map(r=>Object.assign({id:r.payload.doc.id},r.payload.doc.data())),console.log(this.colaboradores)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Qa))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-album"]],decls:5,vars:1,consts:[[1,"grid","container","justify-content-center","align-items-center"],[1,"col-12"],[4,"ngFor","ngForOf"],[1,"md:col-2","sm:col-4","mt-4","col-container"],[1,"grid","colaborador","mx-1","py-2","flex-column","align-items-center"],[1,"img-colaborador","my-2"],[1,"mb-2"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"h1"),d._uU(3,"COLABORADORES"),d.qZA(),d.qZA(),d.YNc(4,b0,6,4,"ng-container",2),d.qZA()),2&t&&(d.xp6(4),d.Q6J("ngForOf",r.colaboradores))},directives:[Kr],styles:['@media only screen and (min-width: 600px){.container[_ngcontent-%COMP%]{background-image:url(2.ab0eb5315c56eb9d4574.jpg);height:100vh;background-position:center;background-repeat:no-repeat;background-size:cover;text-align:center;overflow:auto}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%]{font-family:"Rubik",sans-serif;line-height:5rem;font-size:5rem;color:#c81a23}.colaborador[_ngcontent-%COMP%]{height:25%;background-color:#f0f8ff;color:#000;font-family:"Rubik",sans-serif;font-weight:bolder;font-size:1.3rem;border-radius:1rem}.img-colaborador[_ngcontent-%COMP%]{height:200px;width:200px;background-size:cover;background-position:center;background-repeat:no-repeat;border-radius:100%}}@media only screen and (max-width: 600px){.container[_ngcontent-%COMP%]{background-image:url(2.ab0eb5315c56eb9d4574.jpg);height:100vh;background-position:center;background-repeat:no-repeat;background-size:cover;text-align:center;overflow:auto}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%]{font-family:"Rubik",sans-serif;line-height:2rem;font-size:2rem;color:#c81a23}.colaborador[_ngcontent-%COMP%]{height:25%;background-color:#f0f8ff;color:#000;font-family:"Rubik",sans-serif;font-weight:bolder;font-size:1rem;border-radius:1rem}.col-container[_ngcontent-%COMP%]{max-width:50%}.img-colaborador[_ngcontent-%COMP%]{height:100px;width:100px;background-size:cover;background-position:center;background-repeat:no-repeat;border-radius:100%}}']}),n})();const nS=["*"];let xi=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),qd=(()=>{class n{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[xi.STARTS_WITH,xi.CONTAINS,xi.NOT_CONTAINS,xi.ENDS_WITH,xi.EQUALS,xi.NOT_EQUALS],numeric:[xi.EQUALS,xi.NOT_EQUALS,xi.LESS_THAN,xi.LESS_THAN_OR_EQUAL_TO,xi.GREATER_THAN,xi.GREATER_THAN_OR_EQUAL_TO],date:[xi.DATE_IS,xi.DATE_IS_NOT,xi.DATE_BEFORE,xi.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new hr.xQ,this.translationObserver=this.translationSource.asObservable()}getTranslation(t){return this.translation[t]}setTranslation(t){this.translation=Object.assign(Object.assign({},this.translation),t),this.translationSource.next(this.translation)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),w0=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.NO_FILTER="noFilter",n.LT="lt",n.LTE="lte",n.GT="gt",n.GTE="gte",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.CLEAR="clear",n.APPLY="apply",n.MATCH_ALL="matchAll",n.MATCH_ANY="matchAny",n.ADD_RULE="addRule",n.REMOVE_RULE="removeRule",n.ACCEPT="accept",n.REJECT="reject",n.CHOOSE="choose",n.UPLOAD="upload",n.CANCEL="cancel",n.DAY_NAMES="dayNames",n.DAY_NAMES_SHORT="dayNamesShort",n.DAY_NAMES_MIN="dayNamesMin",n.MONTH_NAMES="monthNames",n.MONTH_NAMES_SHORT="monthNamesShort",n.TODAY="today",n.WEEK_HEADER="weekHeader",n.WEAK="weak",n.MEDIUM="medium",n.STRONG="strong",n.PASSWORD_PROMPT="passwordPrompt",n.EMPTY_MESSAGE="emptyMessage",n.EMPTY_FILTER_MESSAGE="emptyFilterMessage",n})(),Iv=(()=>{class n{constructor(){this.messageSource=new hr.xQ,this.clearSource=new hr.xQ,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(t){t&&this.messageSource.next(t)}addAll(t){t&&t.length&&this.messageSource.next(t)}clear(t){this.clearSource.next(t||null)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Dv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["p-header"]],ngContentSelectors:nS,decls:1,vars:0,template:function(t,r){1&t&&(d.F$t(),d.Hsn(0))},encapsulation:2}),n})(),Ap=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["p-footer"]],ngContentSelectors:nS,decls:1,vars:0,template:function(t,r){1&t&&(d.F$t(),d.Hsn(0))},encapsulation:2}),n})(),xp=(()=>{class n{constructor(t){this.template=t}getType(){return this.name}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),Sv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Ln]]}),n})(),ut=(()=>{class n{static addClass(t,r){t.classList?t.classList.add(r):t.className+=" "+r}static addMultipleClasses(t,r){if(t.classList){let o=r.trim().split(" ");for(let u=0;u<o.length;u++)t.classList.add(o[u])}else{let o=r.split(" ");for(let u=0;u<o.length;u++)t.className+=" "+o[u]}}static removeClass(t,r){t.classList?t.classList.remove(r):t.className=t.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(t,r){return t.classList?t.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(t.className)}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(r){return r!==t})}static find(t,r){return Array.from(t.querySelectorAll(r))}static findSingle(t,r){return t?t.querySelector(r):null}static index(t){let r=t.parentNode.childNodes,o=0;for(var u=0;u<r.length;u++){if(r[u]==t)return o;1==r[u].nodeType&&o++}return-1}static indexWithinGroup(t,r){let o=t.parentNode?t.parentNode.childNodes:[],u=0;for(var h=0;h<o.length;h++){if(o[h]==t)return u;o[h].attributes&&o[h].attributes[r]&&1==o[h].nodeType&&u++}return-1}static relativePosition(t,r){let o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t);const u=r.offsetHeight,h=r.getBoundingClientRect(),m=this.getViewport();let b,I;h.top+u+o.height>m.height?(b=-1*o.height,t.style.transformOrigin="bottom",h.top+b<0&&(b=-1*h.top)):(b=u,t.style.transformOrigin="top"),I=o.width>m.width?-1*h.left:h.left+o.width>m.width?-1*(h.left+o.width-m.width):0,t.style.top=b+"px",t.style.left=I+"px"}static absolutePosition(t,r){let B,Z,o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),u=o.height,h=o.width,m=r.offsetHeight,b=r.offsetWidth,I=r.getBoundingClientRect(),x=this.getWindowScrollTop(),O=this.getWindowScrollLeft(),j=this.getViewport();I.top+m+u>j.height?(B=I.top+x-u,t.style.transformOrigin="bottom",B<0&&(B=x)):(B=m+I.top+x,t.style.transformOrigin="top"),Z=I.left+h>j.width?Math.max(0,I.left+O+b-h):I.left+O,t.style.top=B+"px",t.style.left=Z+"px"}static getParents(t,r=[]){return null===t.parentNode?r:this.getParents(t.parentNode,r.concat([t.parentNode]))}static getScrollableParents(t){let r=[];if(t){let o=this.getParents(t);const u=/(auto|scroll)/,h=m=>{let b=window.getComputedStyle(m,null);return u.test(b.getPropertyValue("overflow"))||u.test(b.getPropertyValue("overflowX"))||u.test(b.getPropertyValue("overflowY"))};for(let m of o){let b=1===m.nodeType&&m.dataset.scrollselectors;if(b){let I=b.split(",");for(let x of I){let O=this.findSingle(m,x);O&&h(O)&&r.push(O)}}9!==m.nodeType&&h(m)&&r.push(m)}}return r}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementDimensions(t){let r={};return t.style.visibility="hidden",t.style.display="block",r.width=t.offsetWidth,r.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",r}static scrollInView(t,r){let o=getComputedStyle(t).getPropertyValue("borderTopWidth"),u=o?parseFloat(o):0,h=getComputedStyle(t).getPropertyValue("paddingTop"),m=h?parseFloat(h):0,b=t.getBoundingClientRect(),x=r.getBoundingClientRect().top+document.body.scrollTop-(b.top+document.body.scrollTop)-u-m,O=t.scrollTop,j=t.clientHeight,B=this.getOuterHeight(r);x<0?t.scrollTop=O+x:x+B>j&&(t.scrollTop=O+x-j+B)}static fadeIn(t,r){t.style.opacity=0;let o=+new Date,u=0,h=function(){u=+t.style.opacity.replace(",",".")+((new Date).getTime()-o)/r,t.style.opacity=u,o=+new Date,+u<1&&(window.requestAnimationFrame&&requestAnimationFrame(h)||setTimeout(h,16))};h()}static fadeOut(t,r){var o=1,m=50/r;let b=setInterval(()=>{(o-=m)<=0&&(o=0,clearInterval(b)),t.style.opacity=o},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,r){var o=Element.prototype;return(o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||function(h){return-1!==[].indexOf.call(document.querySelectorAll(h),this)}).call(t,r)}static getOuterWidth(t,r){let o=t.offsetWidth;if(r){let u=getComputedStyle(t);o+=parseFloat(u.marginLeft)+parseFloat(u.marginRight)}return o}static getHorizontalPadding(t){let r=getComputedStyle(t);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(t){let r=getComputedStyle(t);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(t){let r=t.offsetWidth,o=getComputedStyle(t);return r+=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),r}static width(t){let r=t.offsetWidth,o=getComputedStyle(t);return r-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),r}static getInnerHeight(t){let r=t.offsetHeight,o=getComputedStyle(t);return r+=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom),r}static getOuterHeight(t,r){let o=t.offsetHeight;if(r){let u=getComputedStyle(t);o+=parseFloat(u.marginTop)+parseFloat(u.marginBottom)}return o}static getHeight(t){let r=t.offsetHeight,o=getComputedStyle(t);return r-=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)+parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth),r}static getWidth(t){let r=t.offsetWidth,o=getComputedStyle(t);return r-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)+parseFloat(o.borderLeftWidth)+parseFloat(o.borderRightWidth),r}static getViewport(){let t=window,r=document,o=r.documentElement,u=r.getElementsByTagName("body")[0];return{width:t.innerWidth||o.clientWidth||u.clientWidth,height:t.innerHeight||o.clientHeight||u.clientHeight}}static getOffset(t){var r=t.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,r){let o=t.parentNode;if(!o)throw"Can't replace element";return o.replaceChild(r,t)}static getUserAgent(){return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}static appendChild(t,r){if(this.isElement(r))r.appendChild(t);else{if(!r.el||!r.el.nativeElement)throw"Cannot append "+r+" to "+t;r.el.nativeElement.appendChild(t)}}static removeChild(t,r){if(this.isElement(r))r.removeChild(t);else{if(!r.el||!r.el.nativeElement)throw"Cannot remove "+t+" from "+r;r.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let r=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let o=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=o,o}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let r=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(t,r,o){t[r].apply(t,o)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(t){}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return null===t.offsetParent}static getFocusableElements(t){let r=n.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]:not(.p-disabled))'),o=[];for(let u of r)"none"!=getComputedStyle(u).display&&"hidden"!=getComputedStyle(u).visibility&&o.push(u);return o}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return n.zindex=1e3,n.calculatedScrollbarWidth=null,n.calculatedScrollbarHeight=null,n})();var C0=0;function Av(){return"pr_id_"+ ++C0}var xv=function(){let n=[];const o=u=>u&&parseInt(u.style.zIndex,10)||0;return{get:o,set:(u,h,m)=>{h&&(h.style.zIndex=String(((u,h)=>{let m=n.length>0?n[n.length-1]:{key:u,value:h},b=m.value+(m.key===u?0:h)+1;return n.push({key:u,value:b}),b})(u,m)))},clear:u=>{u&&((u=>{n=n.filter(h=>h.value!==u)})(o(u)),u.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();let Rp=(()=>{class n{constructor(t,r,o){this.el=t,this.zone=r,this.config=o}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(t){let r=this.getInk();if(!r||"none"===getComputedStyle(r,null).display)return;if(ut.removeClass(r,"p-ink-active"),!ut.getHeight(r)&&!ut.getWidth(r)){let m=Math.max(ut.getOuterWidth(this.el.nativeElement),ut.getOuterHeight(this.el.nativeElement));r.style.height=m+"px",r.style.width=m+"px"}let o=ut.getOffset(this.el.nativeElement),u=t.pageX-o.left+document.body.scrollTop-ut.getWidth(r)/2,h=t.pageY-o.top+document.body.scrollLeft-ut.getHeight(r)/2;r.style.top=h+"px",r.style.left=u+"px",ut.addClass(r,"p-ink-active")}getInk(){for(let t=0;t<this.el.nativeElement.children.length;t++)if(-1!==this.el.nativeElement.children[t].className.indexOf("p-ink"))return this.el.nativeElement.children[t];return null}resetInk(){let t=this.getInk();t&&ut.removeClass(t,"p-ink-active")}onAnimationEnd(t){ut.removeClass(t.currentTarget,"p-ink-active")}create(){let t=document.createElement("span");t.className="p-ink",this.el.nativeElement.appendChild(t),this.animationListener=this.onAnimationEnd.bind(this),t.addEventListener("animationend",this.animationListener)}remove(){let t=this.getInk();t&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),t.removeEventListener("animationend",this.animationListener),ut.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(qd,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),n})(),la=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Ln]]}),n})();class Rv{}const ou="*";function I0(n,e){return{type:7,name:n,definitions:e,options:{}}}function zm(n,e=null){return{type:4,styles:e,timings:n}}function _O(n,e=null){return{type:2,steps:n,options:e}}function au(n){return{type:6,styles:n,offset:null}}function vO(n,e,t){return{type:0,name:n,styles:e,options:t}}function Op(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function EO(n,e=null){return{type:8,animation:n,options:e}}function SM(n=null){return{type:9,options:n}}function rS(n,e=null){return{type:10,animation:n,options:e}}function AM(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function bO(n){Promise.resolve(null).then(n)}class qm{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){bO(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class i{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,o=0;const u=this.players.length;0==u?bO(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++t==u&&this._onFinish()}),h.onDestroy(()=>{++r==u&&this._onDestroy()}),h.onStart(()=>{++o==u&&this._onStart()})}),this.totalTime=this.players.reduce((h,m)=>Math.max(h,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(o)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const a=["container"],l=function(n,e,t,r){return{"pi-info-circle":n,"pi-exclamation-triangle":e,"pi-times-circle":t,"pi-check":r}};function c(n,e){if(1&n&&(d.ynx(0),d._UZ(1,"span",6),d.TgZ(2,"div",7),d.TgZ(3,"div",8),d._uU(4),d.qZA(),d.TgZ(5,"div",9),d._uU(6),d.qZA(),d.qZA(),d.BQk()),2&n){const t=d.oxw();d.xp6(1),d.Tol("p-toast-message-icon pi"+(t.message.icon?" "+t.message.icon:"")),d.Q6J("ngClass",d.l5B(5,l,"info"==t.message.severity,"warn"==t.message.severity,"error"==t.message.severity,"success"==t.message.severity)),d.xp6(3),d.Oqu(t.message.summary),d.xp6(2),d.Oqu(t.message.detail)}}function f(n,e){1&n&&d.GkF(0)}function y(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",10),d.NdJ("click",function(o){return d.CHM(t),d.oxw().onCloseIconClick(o)})("keydown.enter",function(o){return d.CHM(t),d.oxw().onCloseIconClick(o)}),d._UZ(1,"span",11),d.qZA()}}const v=function(n){return[n,"p-toast-message"]},w=function(n,e,t,r){return{showTransformParams:n,hideTransformParams:e,showTransitionParams:t,hideTransitionParams:r}},T=function(n){return{value:"visible",params:n}},A=function(n){return{$implicit:n}};function M(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"p-toastItem",3),d.NdJ("onClose",function(o){return d.CHM(t),d.oxw().onMessageClose(o)})("@toastAnimation.start",function(o){return d.CHM(t),d.oxw().onAnimationStart(o)}),d.qZA()}if(2&n){const t=e.$implicit,r=e.index,o=d.oxw();d.Q6J("message",t)("index",r)("template",o.template)("@toastAnimation",void 0)("showTransformOptions",o.showTransformOptions)("hideTransformOptions",o.hideTransformOptions)("showTransitionOptions",o.showTransitionOptions)("hideTransitionOptions",o.hideTransitionOptions)}}let P=(()=>{class n{constructor(t){this.zone=t,this.onClose=new d.vpe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(t){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),t.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.R0b))},n.\u0275cmp=d.Xpm({type:n,selectors:[["p-toastItem"]],viewQuery:function(t,r){if(1&t&&d.Gf(a,5),2&t){let o;d.iGM(o=d.CRH())&&(r.containerViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0,1),d.NdJ("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()}),d.TgZ(2,"div",2),d.YNc(3,c,7,10,"ng-container",3),d.YNc(4,f,1,0,"ng-container",4),d.YNc(5,y,2,0,"button",5),d.qZA(),d.qZA()),2&t&&(d.Tol(r.message.styleClass),d.Q6J("ngClass",d.VKq(10,v,"p-toast-message-"+r.message.severity))("@messageState",d.VKq(17,T,d.l5B(12,w,r.showTransformOptions,r.hideTransformOptions,r.showTransitionOptions,r.hideTransitionOptions))),d.uIk("id",r.message.id),d.xp6(2),d.Q6J("ngClass",r.message.contentStyleClass),d.xp6(1),d.Q6J("ngIf",!r.template),d.xp6(1),d.Q6J("ngTemplateOutlet",r.template)("ngTemplateOutletContext",d.VKq(19,A,r.message)),d.xp6(1),d.Q6J("ngIf",!1!==r.message.closable))},directives:[fi,Sr,ya,Rp],encapsulation:2,data:{animation:[I0("messageState",[vO("visible",au({transform:"translateY(0)",opacity:1})),Op("void => *",[au({transform:"{{showTransformParams}}",opacity:0}),zm("{{showTransitionParams}}")]),Op("* => void",[zm("{{hideTransitionParams}}",au({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),n})(),H=(()=>{class n{constructor(t,r,o){this.messageService=t,this.cd=r,this.config=o,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new d.vpe,this.id=Av()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(t=>{if(t)if(t instanceof Array){const r=t.filter(o=>this.canAdd(o));this.add(r)}else this.canAdd(t)&&this.add([t])}),this.clearSubscription=this.messageService.clearObserver.subscribe(t=>{t?this.key===t&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.autoZIndex&&xv.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal),this.breakpoints&&this.createStyle()}add(t){this.messages=this.messages?[...this.messages,...t]:[...t],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...t]:[...t]),this.cd.markForCheck()}canAdd(t){let r=this.key===t.key;return r&&this.preventOpenDuplicates&&(r=!this.containsMessage(this.messages,t)),r&&this.preventDuplicates&&(r=!this.containsMessage(this.messagesArchieve,t)),r}containsMessage(t,r){return!!t&&null!=t.find(o=>o.summary===r.summary&&o.detail==r.detail&&o.severity===r.severity)}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"message":default:this.template=t.template}})}onMessageClose(t){this.messages.splice(t.index,1),this.onClose.emit({message:t.message}),this.cd.detectChanges()}onAnimationStart(t){"void"===t.fromState&&this.autoZIndex&&(this.containerViewChild.nativeElement.style.zIndex=String(this.baseZIndex+ ++ut.zindex),this.containerViewChild.nativeElement.setAttribute(this.id,""))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let t="";for(let r in this.breakpoints){let o="";for(let u in this.breakpoints[r])o+=u+":"+this.breakpoints[r][u]+" !important;";t+=`\n                    @media screen and (max-width: ${r}) {\n                        .p-toast[${this.id}] {\n                           ${o}\n                        }\n                    }\n                `}this.styleElement.innerHTML=t}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&xv.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Iv),d.Y36(d.sBO),d.Y36(qd))},n.\u0275cmp=d.Xpm({type:n,selectors:[["p-toast"]],contentQueries:function(t,r,o){if(1&t&&d.Suo(o,xp,4),2&t){let u;d.iGM(u=d.CRH())&&(r.templates=u)}},viewQuery:function(t,r){if(1&t&&d.Gf(a,5),2&t){let o;d.iGM(o=d.CRH())&&(r.containerViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0,1),d.YNc(2,M,1,8,"p-toastItem",2),d.qZA()),2&t&&(d.Tol(r.styleClass),d.Q6J("ngClass","p-toast p-component p-toast-"+r.position)("ngStyle",r.style),d.xp6(2),d.Q6J("ngForOf",r.messages))},directives:[fi,hn,Kr,P],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translateX(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translateX(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}"],encapsulation:2,data:{animation:[I0("toastAnimation",[Op(":enter, :leave",[AM("@*",SM())])])]},changeDetection:0}),n})(),W=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Ln,la],Sv]}),n})();var ae=L(1555);function Ne(n,e){return new zt.y(t=>{const r=n.length;if(0===r)return void t.complete();const o=new Array(r);let u=0,h=0;for(let m=0;m<r;m++){const b=(0,Wt.D)(n[m]);let I=!1;t.add(b.subscribe({next:x=>{I||(I=!0,h++),o[m]=x},error:x=>t.error(x),complete:()=>{u++,(u===r||!I)&&(h===r&&t.next(e?e.reduce((x,O,j)=>(x[O]=o[j],x),{}):o),t.complete())}}))}})}let ve=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),Ze=(()=>{class n extends ve{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const et=new d.OlP("NgValueAccessor"),fo={provide:et,useExisting:(0,d.Gpc)(()=>lu),multi:!0},Np=new d.OlP("CompositionEventMode");let lu=(()=>{class n extends ve{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Np,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[d._Bn([fo]),d.qOj]}),n})();const Wr=new d.OlP("NgValidators"),Ja=new d.OlP("NgAsyncValidators");function LM(n){return null!=n}function VM(n){const e=(0,d.QGY)(n)?(0,Wt.D)(n):n;return(0,d.CqO)(e),e}function UM(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function BM(n,e){return e.map(t=>t(n))}function jM(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function wO(n){return null!=n?function(n){if(!n)return null;const e=n.filter(LM);return 0==e.length?null:function(t){return UM(BM(t,e))}}(jM(n)):null}function CO(n){return null!=n?function(n){if(!n)return null;const e=n.filter(LM);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if((0,nr.k)(e))return Ne(e,null);if((0,ae.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Ne(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return Ne(n=1===n.length&&(0,nr.k)(n[0])?n[0]:n,null).pipe((0,ct.U)(t=>e(...t)))}return Ne(n,null)}(BM(t,e).map(VM)).pipe((0,ct.U)(UM))}}(jM(n)):null}function GM(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function IO(n){return n?Array.isArray(n)?n:[n]:[]}function sS(n,e){return Array.isArray(n)?n.includes(e):n===e}function WM(n,e){const t=IO(e);return IO(n).forEach(o=>{sS(t,o)||t.push(o)}),t}function ZM(n,e){return IO(e).filter(t=>!sS(n,t))}let KM=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=wO(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=CO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n}),n})(),Us=(()=>{class n extends KM{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();class Pp extends KM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let QM=(()=>{class n extends class{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Pp,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[d.qOj]}),n})();function D0(n,e){(function(n,e){const t=function(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(GM(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(GM(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();uS(e._rawValidators,o),uS(e._rawAsyncValidators,o)})(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&JM(n,e)})}(n,e),function(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&JM(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function uS(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function JM(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function dS(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const S0="VALID",hS="INVALID",Nv="PENDING",A0="DISABLED";function RO(n){return(NO(n)?n.validators:n)||null}function tP(n){return Array.isArray(n)?wO(n):n||null}function OO(n,e){return(NO(e)?e.asyncValidators:n)||null}function nP(n){return Array.isArray(n)?CO(n):n||null}function NO(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class MO{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=tP(this._rawValidators),this._composedAsyncValidatorFn=nP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===S0}get invalid(){return this.status===hS}get pending(){return this.status==Nv}get disabled(){return this.status===A0}get enabled(){return this.status!==A0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=tP(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=nP(e)}addValidators(e){this.setValidators(WM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(WM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ZM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ZM(e,this._rawAsyncValidators))}hasValidator(e){return sS(this._rawValidators,e)}hasAsyncValidator(e){return sS(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Nv,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=A0,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=S0,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===S0||this.status===Nv)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?A0:S0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Nv,this._hasOwnPendingAsyncValidator=!0;const t=VM(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=r instanceof PO?r.controls.hasOwnProperty(o)?r.controls[o]:null:r instanceof uk&&r.at(o)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?A0:this.errors?hS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nv)?Nv:this._anyControlsHaveStatus(hS)?hS:S0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){NO(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class fS extends MO{constructor(e=null,t,r){super(RO(t),OO(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){dS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){dS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class PO extends MO{constructor(e,t,r){super(RO(t),OO(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof fS?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class uk extends MO{constructor(e,t,r){super(RO(t),OO(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,o)=>{this._throwIfControlMissing(o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof fS?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const hk={provide:Pp,useExisting:(0,d.Gpc)(()=>pS)},sP=(()=>Promise.resolve(null))();let pS=(()=>{class n extends Pp{constructor(t,r,o,u){super(),this.control=new fS,this._registered=!1,this.update=new d.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===lu?t=u:function(n){return Object.getPrototypeOf(n.constructor)===Ze}(u)?r=u:o=u}),o||r||t||null}(0,u)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){D0(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){sP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=""===r||r&&"false"!==r;sP.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Us,9),d.Y36(Wr,10),d.Y36(Ja,10),d.Y36(et,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([hk]),d.qOj,d.TTD]}),n})(),aP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const FO=new d.OlP("NgModelWithFormControlWarning");let IP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[aP]]}),n})(),Lk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[IP]}),n})(),Vk=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:FO,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[IP]}),n})(),Uk=(()=>{class n{constructor(t,r,o){this.el=t,this.ngModel=r,this.cd=o}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(t){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(pS,8),d.Y36(d.sBO))},n.\u0275dir=d.lG2({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(t,r){1&t&&d.NdJ("input",function(u){return r.onInput(u)}),2&t&&d.ekj("p-filled",r.filled)}}),n})(),Bk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Ln]]}),n})();function jk(n,e){1&n&&d.GkF(0)}const Hk=function(n,e,t,r){return{"p-button-icon":!0,"p-button-icon-left":n,"p-button-icon-right":e,"p-button-icon-top":t,"p-button-icon-bottom":r}};function $k(n,e){if(1&n&&d._UZ(0,"span",4),2&n){const t=d.oxw();d.Tol(t.loading?"p-button-loading-icon "+t.loadingIcon:t.icon),d.Q6J("ngClass",d.l5B(4,Hk,"left"===t.iconPos&&t.label,"right"===t.iconPos&&t.label,"top"===t.iconPos&&t.label,"bottom"===t.iconPos&&t.label)),d.uIk("aria-hidden",!0)}}function Gk(n,e){if(1&n&&(d.TgZ(0,"span",5),d._uU(1),d.qZA()),2&n){const t=d.oxw();d.uIk("aria-hidden",t.icon&&!t.label),d.xp6(1),d.Oqu(t.label||"\xa0")}}function zk(n,e){if(1&n&&(d.TgZ(0,"span",4),d._uU(1),d.qZA()),2&n){const t=d.oxw();d.Tol(t.badgeClass),d.Q6J("ngClass",t.badgeStyleClass()),d.xp6(1),d.Oqu(t.badge)}}const qk=function(n,e,t,r,o){return{"p-button p-component":!0,"p-button-icon-only":n,"p-button-vertical":e,"p-disabled":t,"p-button-loading":r,"p-button-loading-label-only":o}},Wk=["*"];let TP=(()=>{class n{constructor(t){this.el=t,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,ut.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),this.icon&&this.createIconEl();let t=document.createElement("span");this.icon&&!this.label&&t.setAttribute("aria-hidden","true"),t.className="p-button-label",this.label?t.appendChild(document.createTextNode(this.label)):t.innerHTML="&nbsp;",this.el.nativeElement.appendChild(t),this.initialized=!0}getStyleClass(){let t="p-button p-component";return this.icon&&!this.label&&(t+=" p-button-icon-only"),this.loading&&(t+=" p-disabled p-button-loading",!this.icon&&this.label&&(t+=" p-button-loading-label-only")),t}setStyleClass(){let t=this.getStyleClass();this.el.nativeElement.className=t+" "+this._initialStyleClass}createIconEl(){let t=document.createElement("span");t.className="p-button-icon",t.setAttribute("aria-hidden","true");let r=this.label?"p-button-icon-"+this.iconPos:null;r&&ut.addClass(t,r);let o=this.getIconClass();o&&ut.addMultipleClasses(t,o);let u=ut.findSingle(this.el.nativeElement,".p-button-label");u?this.el.nativeElement.insertBefore(t,u):this.el.nativeElement.appendChild(t)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let t=ut.findSingle(this.el.nativeElement,".p-button-icon");t?t.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let t=ut.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(t)}get label(){return this._label}set label(t){this._label=t,this.initialized&&(ut.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(t){this._icon=t,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(t){this._loading=t,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),n})(),DP=(()=>{class n{constructor(){this.type="button",this.iconPos="left",this.loading=!1,this.loadingIcon="pi pi-spinner pi-spin",this.onClick=new d.vpe,this.onFocus=new d.vpe,this.onBlur=new d.vpe}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["p-button"]],contentQueries:function(t,r,o){if(1&t&&d.Suo(o,xp,4),2&t){let u;d.iGM(u=d.CRH())&&(r.templates=u)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:Wk,decls:6,vars:16,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(t,r){1&t&&(d.F$t(),d.TgZ(0,"button",0),d.NdJ("click",function(u){return r.onClick.emit(u)})("focus",function(u){return r.onFocus.emit(u)})("blur",function(u){return r.onBlur.emit(u)}),d.Hsn(1),d.YNc(2,jk,1,0,"ng-container",1),d.YNc(3,$k,1,9,"span",2),d.YNc(4,Gk,2,2,"span",3),d.YNc(5,zk,2,4,"span",2),d.qZA()),2&t&&(d.Tol(r.styleClass),d.Q6J("ngStyle",r.style)("disabled",r.disabled||r.loading)("ngClass",d.qbA(10,qk,r.icon&&!r.label,("top"===r.iconPos||"bottom"===r.iconPos)&&r.label,r.disabled||r.loading,r.loading,r.loading&&!r.icon&&r.label)),d.uIk("type",r.type),d.xp6(2),d.Q6J("ngTemplateOutlet",r.contentTemplate),d.xp6(1),d.Q6J("ngIf",!r.contentTemplate&&(r.icon||r.loading)),d.xp6(1),d.Q6J("ngIf",!r.contentTemplate),d.xp6(1),d.Q6J("ngIf",!r.contentTemplate&&r.badge))},directives:[Rp,hn,fi,ya,Sr],encapsulation:2,changeDetection:0}),n})(),$O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Ln,la]]}),n})();function Zk(n,e){if(1&n&&d._UZ(0,"span",11),2&n){const t=d.oxw(2).$implicit;d.Q6J("innerHTML",t.summary,d.oJD)}}function Kk(n,e){if(1&n&&d._UZ(0,"span",12),2&n){const t=d.oxw(2).$implicit;d.Q6J("innerHTML",t.detail,d.oJD)}}function Yk(n,e){if(1&n&&(d.ynx(0),d.YNc(1,Zk,1,1,"span",9),d.YNc(2,Kk,1,1,"span",10),d.BQk()),2&n){const t=d.oxw().$implicit;d.xp6(1),d.Q6J("ngIf",t.summary),d.xp6(1),d.Q6J("ngIf",t.detail)}}function Qk(n,e){if(1&n&&(d.TgZ(0,"span",15),d._uU(1),d.qZA()),2&n){const t=d.oxw(2).$implicit;d.xp6(1),d.Oqu(t.summary)}}function Jk(n,e){if(1&n&&(d.TgZ(0,"span",16),d._uU(1),d.qZA()),2&n){const t=d.oxw(2).$implicit;d.xp6(1),d.Oqu(t.detail)}}function Xk(n,e){if(1&n&&(d.YNc(0,Qk,2,1,"span",13),d.YNc(1,Jk,2,1,"span",14)),2&n){const t=d.oxw().$implicit;d.Q6J("ngIf",t.summary),d.xp6(1),d.Q6J("ngIf",t.detail)}}function eF(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",17),d.NdJ("click",function(){d.CHM(t);const o=d.oxw().index;return d.oxw(2).removeMessage(o)}),d._UZ(1,"i",18),d.qZA()}}const tF=function(n,e){return{showTransitionParams:n,hideTransitionParams:e}},nF=function(n){return{value:"visible",params:n}},rF=function(n,e,t,r){return{"pi-info-circle":n,"pi-check":e,"pi-exclamation-triangle":t,"pi-times-circle":r}};function iF(n,e){if(1&n&&(d.TgZ(0,"div",4),d.TgZ(1,"div",5),d._UZ(2,"span",6),d.YNc(3,Yk,3,2,"ng-container",1),d.YNc(4,Xk,2,2,"ng-template",null,7,d.W1O),d.YNc(6,eF,2,0,"button",8),d.qZA(),d.qZA()),2&n){const t=e.$implicit,r=d.MAs(5),o=d.oxw(2);d.Q6J("ngClass","p-message p-message-"+t.severity)("@messageAnimation",d.VKq(11,nF,d.WLB(8,tF,o.showTransitionOptions,o.hideTransitionOptions))),d.xp6(2),d.Tol("p-message-icon pi"+(t.icon?" "+t.icon:"")),d.Q6J("ngClass",d.l5B(13,rF,"info"===t.severity,"success"===t.severity,"warn"===t.severity,"error"===t.severity)),d.xp6(1),d.Q6J("ngIf",!o.escape)("ngIfElse",r),d.xp6(3),d.Q6J("ngIf",o.closable)}}function sF(n,e){if(1&n&&(d.ynx(0),d.YNc(1,iF,7,18,"div",3),d.BQk()),2&n){const t=d.oxw();d.xp6(1),d.Q6J("ngForOf",t.value)}}function oF(n,e){1&n&&d.GkF(0)}function aF(n,e){if(1&n&&(d.TgZ(0,"div",4),d.TgZ(1,"div",5),d.YNc(2,oF,1,0,"ng-container",19),d.qZA(),d.qZA()),2&n){const t=d.oxw();d.Q6J("ngClass","p-message p-message-"+t.severity),d.xp6(2),d.Q6J("ngTemplateOutlet",t.contentTemplate)}}let lF=(()=>{class n{constructor(t,r,o){this.messageService=t,this.el=r,this.cd=o,this.closable=!0,this.enableService=!0,this.escape=!0,this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="200ms cubic-bezier(0.86, 0, 0.07, 1)",this.valueChange=new d.vpe}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template}}),this.messageService&&this.enableService&&!this.contentTemplate&&(this.messageSubscription=this.messageService.messageObserver.subscribe(t=>{if(t){if(t instanceof Array){let r=t.filter(o=>this.key===o.key);this.value=this.value?[...this.value,...r]:[...r]}else this.key===t.key&&(this.value=this.value?[...this.value,t]:[t]);this.cd.markForCheck()}}),this.clearSubscription=this.messageService.clearObserver.subscribe(t=>{t?this.key===t&&(this.value=null):this.value=null,this.cd.markForCheck()}))}hasMessages(){let t=this.el.nativeElement.parentElement;return!(!t||!t.offsetParent)&&(null!=this.contentTemplate||this.value&&this.value.length>0)}clear(){this.value=[],this.valueChange.emit(this.value)}removeMessage(t){this.value=this.value.filter((r,o)=>o!==t),this.valueChange.emit(this.value)}get icon(){const t=this.severity||(this.hasMessages()?this.value[0].severity:null);if(this.hasMessages())switch(t){case"success":return"pi-check";case"info":return"pi-info-circle";case"error":return"pi-times";case"warn":return"pi-exclamation-triangle";default:return"pi-info-circle"}return null}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.clearSubscription&&this.clearSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Iv,8),d.Y36(d.SBq),d.Y36(d.sBO))},n.\u0275cmp=d.Xpm({type:n,selectors:[["p-messages"]],contentQueries:function(t,r,o){if(1&t&&d.Suo(o,xp,4),2&t){let u;d.iGM(u=d.CRH())&&(r.templates=u)}},hostAttrs:[1,"p-element"],inputs:{value:"value",closable:"closable",style:"style",styleClass:"styleClass",enableService:"enableService",key:"key",escape:"escape",severity:"severity",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{valueChange:"valueChange"},decls:4,vars:5,consts:[["role","alert",1,"p-messages","p-component",3,"ngStyle"],[4,"ngIf","ngIfElse"],["staticMessage",""],["role","alert",3,"ngClass",4,"ngFor","ngForOf"],["role","alert",3,"ngClass"],[1,"p-message-wrapper"],[3,"ngClass"],["escapeOut",""],["class","p-message-close p-link","type","button","pRipple","",3,"click",4,"ngIf"],["class","p-message-summary",3,"innerHTML",4,"ngIf"],["class","p-message-detail",3,"innerHTML",4,"ngIf"],[1,"p-message-summary",3,"innerHTML"],[1,"p-message-detail",3,"innerHTML"],["class","p-message-summary",4,"ngIf"],["class","p-message-detail",4,"ngIf"],[1,"p-message-summary"],[1,"p-message-detail"],["type","button","pRipple","",1,"p-message-close","p-link",3,"click"],[1,"p-message-close-icon","pi","pi-times"],[4,"ngTemplateOutlet"]],template:function(t,r){if(1&t&&(d.TgZ(0,"div",0),d.YNc(1,sF,2,1,"ng-container",1),d.YNc(2,aF,3,2,"ng-template",null,2,d.W1O),d.qZA()),2&t){const o=d.MAs(3);d.Tol(r.styleClass),d.Q6J("ngStyle",r.style),d.xp6(1),d.Q6J("ngIf",!r.contentTemplate)("ngIfElse",o)}},directives:[hn,Sr,Kr,fi,Rp,ya],styles:[".p-message-close,.p-message-wrapper{display:flex;align-items:center}.p-message-close{justify-content:center}.p-message-close.p-link{margin-left:auto;overflow:hidden;position:relative}"],encapsulation:2,data:{animation:[I0("messageAnimation",[Op(":enter",[au({opacity:0,transform:"translateY(-25%)"}),zm("{{showTransitionParams}}")]),Op(":leave",[zm("{{hideTransitionParams}}",au({height:0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,overflow:"hidden",opacity:0}))])])]},changeDetection:0}),n})(),GO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Ln,la]]}),n})();function uF(n,e){if(1&n&&d._UZ(0,"div",4),2&n){const t=d.oxw();d.Udp("width",t.value+"%")}}function cF(n,e){if(1&n&&(d.TgZ(0,"div",5),d._uU(1),d.qZA()),2&n){const t=d.oxw();d.Udp("display",null!=t.value?"block":"none"),d.xp6(1),d.AsE("",t.value,"",t.unit,"")}}function dF(n,e){1&n&&(d.TgZ(0,"div",6),d._UZ(1,"div",7),d.qZA())}const hF=function(n,e){return{"p-progressbar p-component":!0,"p-progressbar-determinate":n,"p-progressbar-indeterminate":e}};let fF=(()=>{class n{constructor(){this.showValue=!0,this.unit="%",this.mode="determinate"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["p-progressBar"]],hostAttrs:[1,"p-element"],inputs:{value:"value",showValue:"showValue",style:"style",styleClass:"styleClass",unit:"unit",mode:"mode"},decls:4,vars:11,consts:[["role","progressbar","aria-valuemin","0","aria-valuemax","100",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate","style","display:block",3,"width",4,"ngIf"],["class","p-progressbar-label",3,"display",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",2,"display","block"],[1,"p-progressbar-label"],[1,"p-progressbar-indeterminate-container"],[1,"p-progressbar-value","p-progressbar-value-animate"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.YNc(1,uF,1,2,"div",1),d.YNc(2,cF,2,4,"div",2),d.YNc(3,dF,2,0,"div",3),d.qZA()),2&t&&(d.Tol(r.styleClass),d.Q6J("ngStyle",r.style)("ngClass",d.WLB(8,hF,"determinate"===r.mode,"indeterminate"===r.mode)),d.uIk("aria-valuenow",r.value),d.xp6(1),d.Q6J("ngIf","determinate"===r.mode),d.xp6(1),d.Q6J("ngIf","determinate"===r.mode&&r.showValue),d.xp6(1),d.Q6J("ngIf","indeterminate"===r.mode))},directives:[hn,fi,Sr],styles:['.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0;position:absolute;display:none;border:0}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-determinate .p-progressbar-label{text-align:center;height:100%;width:100%;position:absolute;font-weight:700}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation-delay:1.15s}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}'],encapsulation:2,changeDetection:0}),n})(),SP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Ln]]}),n})();class AP{}class xP{}class Wd{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),u=o.toLowerCase(),h=t.slice(r+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(h):this.headers.set(u,[h])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Wd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Wd;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Wd?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const u=e.value;if(u){let h=this.headers.get(t);if(!h)return;h=h.filter(m=>-1===u.indexOf(m)),0===h.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,h)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class pF{encodeKey(e){return RP(e)}encodeValue(e){return RP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const mF=/%(\d[a-f0-9])/gi,yF={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function RP(n){return encodeURIComponent(n).replace(mF,(e,t)=>{var r;return null!==(r=yF[t])&&void 0!==r?r:e})}function OP(n){return`${n}`}class kp{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new pF,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[h,m]=-1==u?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,u)),e.decodeValue(o.slice(u+1))],b=t.get(h)||[];b.push(m),t.set(h,b)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new kp({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(OP(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(OP(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class _F{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function NP(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function MP(n){return"undefined"!=typeof Blob&&n instanceof Blob}function PP(n){return"undefined"!=typeof FormData&&n instanceof FormData}class R0{constructor(e,t,r,o){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,u=o):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new Wd),this.context||(this.context=new _F),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+h}}else this.params=new kp,this.urlWithParams=t}serializeBody(){return null===this.body?null:NP(this.body)||MP(this.body)||PP(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof kp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||PP(this.body)?null:MP(this.body)?this.body.type||null:NP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof kp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,o=e.url||this.url,u=e.responseType||this.responseType,h=void 0!==e.body?e.body:this.body,m=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,b=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let I=e.headers||this.headers,x=e.params||this.params;const O=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(I=Object.keys(e.setHeaders).reduce((j,B)=>j.set(B,e.setHeaders[B]),I)),e.setParams&&(x=Object.keys(e.setParams).reduce((j,B)=>j.set(B,e.setParams[B]),x)),new R0(r,o,h,{params:x,headers:I,context:O,reportProgress:b,responseType:u,withCredentials:m})}}var or=(()=>((or=or||{})[or.Sent=0]="Sent",or[or.UploadProgress=1]="UploadProgress",or[or.ResponseHeader=2]="ResponseHeader",or[or.DownloadProgress=3]="DownloadProgress",or[or.Response=4]="Response",or[or.User=5]="User",or))();class zO{constructor(e,t=200,r="OK"){this.headers=e.headers||new Wd,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class qO extends zO{constructor(e={}){super(e),this.type=or.ResponseHeader}clone(e={}){return new qO({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class gS extends zO{constructor(e={}){super(e),this.type=or.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new gS({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class kP extends zO{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function WO(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let FP=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let u;if(t instanceof R0)u=t;else{let b,I;b=o.headers instanceof Wd?o.headers:new Wd(o.headers),o.params&&(I=o.params instanceof kp?o.params:new kp({fromObject:o.params})),u=new R0(t,r,void 0!==o.body?o.body:null,{headers:b,context:o.context,params:I,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const h=(0,ot.of)(u).pipe(Fu(b=>this.handler.handle(b)));if(t instanceof R0||"events"===o.observe)return h;const m=h.pipe(yi(b=>b instanceof gS));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return m.pipe((0,ct.U)(b=>{if(null!==b.body&&!(b.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return b.body}));case"blob":return m.pipe((0,ct.U)(b=>{if(null!==b.body&&!(b.body instanceof Blob))throw new Error("Response is not a Blob.");return b.body}));case"text":return m.pipe((0,ct.U)(b=>{if(null!==b.body&&"string"!=typeof b.body)throw new Error("Response is not a string.");return b.body}));case"json":default:return m.pipe((0,ct.U)(b=>b.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new kp).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,WO(o,r))}post(t,r,o={}){return this.request("POST",t,WO(o,r))}put(t,r,o={}){return this.request("PUT",t,WO(o,r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(AP))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class LP{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const VP=new d.OlP("HTTP_INTERCEPTORS");let bF=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const wF=/^\)\]\}',?\n/;let UP=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new zt.y(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((B,Z)=>o.setRequestHeader(B,Z.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const B=t.detectContentTypeHeader();null!==B&&o.setRequestHeader("Content-Type",B)}if(t.responseType){const B=t.responseType.toLowerCase();o.responseType="json"!==B?B:"text"}const u=t.serializeBody();let h=null;const m=()=>{if(null!==h)return h;const B=1223===o.status?204:o.status,Z=o.statusText||"OK",pe=new Wd(o.getAllResponseHeaders()),Se=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return h=new qO({headers:pe,status:B,statusText:Z,url:Se}),h},b=()=>{let{headers:B,status:Z,statusText:pe,url:Se}=m(),Be=null;204!==Z&&(Be=void 0===o.response?o.responseText:o.response),0===Z&&(Z=Be?200:0);let st=Z>=200&&Z<300;if("json"===t.responseType&&"string"==typeof Be){const Ot=Be;Be=Be.replace(wF,"");try{Be=""!==Be?JSON.parse(Be):null}catch(at){Be=Ot,st&&(st=!1,Be={error:at,text:Be})}}st?(r.next(new gS({body:Be,headers:B,status:Z,statusText:pe,url:Se||void 0})),r.complete()):r.error(new kP({error:Be,headers:B,status:Z,statusText:pe,url:Se||void 0}))},I=B=>{const{url:Z}=m(),pe=new kP({error:B,status:o.status||0,statusText:o.statusText||"Unknown Error",url:Z||void 0});r.error(pe)};let x=!1;const O=B=>{x||(r.next(m()),x=!0);let Z={type:or.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(Z.total=B.total),"text"===t.responseType&&!!o.responseText&&(Z.partialText=o.responseText),r.next(Z)},j=B=>{let Z={type:or.UploadProgress,loaded:B.loaded};B.lengthComputable&&(Z.total=B.total),r.next(Z)};return o.addEventListener("load",b),o.addEventListener("error",I),o.addEventListener("timeout",I),o.addEventListener("abort",I),t.reportProgress&&(o.addEventListener("progress",O),null!==u&&o.upload&&o.upload.addEventListener("progress",j)),o.send(u),r.next({type:or.Sent}),()=>{o.removeEventListener("error",I),o.removeEventListener("abort",I),o.removeEventListener("load",b),o.removeEventListener("timeout",I),t.reportProgress&&(o.removeEventListener("progress",O),null!==u&&o.upload&&o.upload.removeEventListener("progress",j)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(al))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const ZO=new d.OlP("XSRF_COOKIE_NAME"),KO=new d.OlP("XSRF_HEADER_NAME");class BP{}let IF=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=pt(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ge),d.LFG(d.Lbi),d.LFG(ZO))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),YO=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const o=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(t);const u=this.tokenService.getToken();return null!==u&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,u)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(BP),d.LFG(KO))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),TF=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(VP,[]);this.chain=r.reduceRight((o,u)=>new LP(o,u),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(xP),d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),DF=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:YO,useClass:bF}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:ZO,useValue:t.cookieName}:[],t.headerName?{provide:KO,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[YO,{provide:VP,useExisting:YO,multi:!0},{provide:BP,useClass:IF},{provide:ZO,useValue:"XSRF-TOKEN"},{provide:KO,useValue:"X-XSRF-TOKEN"}]}),n})(),SF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[FP,{provide:AP,useClass:TF},UP,{provide:xP,useExisting:UP}],imports:[[DF.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const AF=["advancedfileinput"],xF=["basicfileinput"],RF=["content"];function OF(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"p-button",17),d.NdJ("onClick",function(){return d.CHM(t),d.oxw(2).upload()}),d.qZA()}if(2&n){const t=d.oxw(2);d.Q6J("label",t.uploadButtonLabel)("icon",t.uploadIcon)("disabled",!t.hasFiles()||t.isFileLimitExceeded())}}function NF(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"p-button",17),d.NdJ("onClick",function(){return d.CHM(t),d.oxw(2).clear()}),d.qZA()}if(2&n){const t=d.oxw(2);d.Q6J("label",t.cancelButtonLabel)("icon",t.cancelIcon)("disabled",!t.hasFiles()||t.uploading)}}function MF(n,e){1&n&&d.GkF(0)}function PF(n,e){if(1&n&&d._UZ(0,"p-progressBar",18),2&n){const t=d.oxw(2);d.Q6J("value",t.progress)("showValue",!1)}}function kF(n,e){if(1&n&&d._UZ(0,"img",26),2&n){const t=d.oxw().$implicit,r=d.oxw(4);d.Q6J("src",t.objectURL,d.LSH)("width",r.previewWidth)}}function FF(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",22),d.TgZ(1,"div"),d.YNc(2,kF,1,2,"img",23),d.qZA(),d.TgZ(3,"div",24),d._uU(4),d.qZA(),d.TgZ(5,"div"),d._uU(6),d.qZA(),d.TgZ(7,"div"),d.TgZ(8,"button",25),d.NdJ("click",function(o){const h=d.CHM(t).index;return d.oxw(4).remove(o,h)}),d.qZA(),d.qZA(),d.qZA()}if(2&n){const t=e.$implicit,r=d.oxw(4);d.xp6(2),d.Q6J("ngIf",r.isImage(t)),d.xp6(2),d.Oqu(t.name),d.xp6(2),d.Oqu(r.formatSize(t.size)),d.xp6(2),d.Q6J("disabled",r.uploading)}}function LF(n,e){if(1&n&&(d.TgZ(0,"div"),d.YNc(1,FF,9,4,"div",21),d.qZA()),2&n){const t=d.oxw(3);d.xp6(1),d.Q6J("ngForOf",t.files)}}function VF(n,e){}function UF(n,e){if(1&n&&(d.TgZ(0,"div"),d.YNc(1,VF,0,0,"ng-template",27),d.qZA()),2&n){const t=d.oxw(3);d.xp6(1),d.Q6J("ngForOf",t.files)("ngForTemplate",t.fileTemplate)}}function BF(n,e){if(1&n&&(d.TgZ(0,"div",19),d.YNc(1,LF,2,1,"div",20),d.YNc(2,UF,2,2,"div",20),d.qZA()),2&n){const t=d.oxw(2);d.xp6(1),d.Q6J("ngIf",!t.fileTemplate),d.xp6(1),d.Q6J("ngIf",t.fileTemplate)}}function jF(n,e){1&n&&d.GkF(0)}const HF=function(n,e){return{"p-focus":n,"p-disabled":e}},$F=function(n){return{$implicit:n}};function GF(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",2),d.TgZ(1,"div",3),d.TgZ(2,"span",4),d.NdJ("focus",function(){return d.CHM(t),d.oxw().onFocus()})("blur",function(){return d.CHM(t),d.oxw().onBlur()})("click",function(){return d.CHM(t),d.oxw().choose()})("keydown.enter",function(){return d.CHM(t),d.oxw().choose()}),d.TgZ(3,"input",5,6),d.NdJ("change",function(o){return d.CHM(t),d.oxw().onFileSelect(o)}),d.qZA(),d._UZ(5,"span",7),d.TgZ(6,"span",8),d._uU(7),d.qZA(),d.qZA(),d.YNc(8,OF,1,3,"p-button",9),d.YNc(9,NF,1,3,"p-button",9),d.YNc(10,MF,1,0,"ng-container",10),d.qZA(),d.TgZ(11,"div",11,12),d.NdJ("dragenter",function(o){return d.CHM(t),d.oxw().onDragEnter(o)})("dragleave",function(o){return d.CHM(t),d.oxw().onDragLeave(o)})("drop",function(o){return d.CHM(t),d.oxw().onDrop(o)}),d.YNc(13,PF,1,2,"p-progressBar",13),d._UZ(14,"p-messages",14),d.YNc(15,BF,3,2,"div",15),d.YNc(16,jF,1,0,"ng-container",16),d.qZA(),d.qZA()}if(2&n){const t=d.oxw();d.Tol(t.styleClass),d.Q6J("ngClass","p-fileupload p-fileupload-advanced p-component")("ngStyle",t.style),d.xp6(2),d.Q6J("ngClass",d.WLB(22,HF,t.focus,t.disabled||t.isChooseDisabled())),d.xp6(1),d.Q6J("multiple",t.multiple)("accept",t.accept)("disabled",t.disabled||t.isChooseDisabled()),d.uIk("title",""),d.xp6(2),d.Tol(t.chooseIcon),d.Q6J("ngClass","p-button-icon p-button-icon-left"),d.xp6(2),d.Oqu(t.chooseButtonLabel),d.xp6(1),d.Q6J("ngIf",!t.auto&&t.showUploadButton),d.xp6(1),d.Q6J("ngIf",!t.auto&&t.showCancelButton),d.xp6(1),d.Q6J("ngTemplateOutlet",t.toolbarTemplate),d.xp6(3),d.Q6J("ngIf",t.hasFiles()),d.xp6(1),d.Q6J("value",t.msgs)("enableService",!1),d.xp6(1),d.Q6J("ngIf",t.hasFiles()),d.xp6(1),d.Q6J("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",d.VKq(25,$F,t.files))}}function zF(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"input",32,33),d.NdJ("change",function(o){return d.CHM(t),d.oxw(2).onFileSelect(o)})("focus",function(){return d.CHM(t),d.oxw(2).onFocus()})("blur",function(){return d.CHM(t),d.oxw(2).onBlur()}),d.qZA()}if(2&n){const t=d.oxw(2);d.Q6J("accept",t.accept)("multiple",t.multiple)("disabled",t.disabled)}}const qF=function(n,e,t,r){return{"p-button p-component p-fileupload-choose":!0,"p-button-icon-only":n,"p-fileupload-choose-selected":e,"p-focus":t,"p-disabled":r}};function WF(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",28),d._UZ(1,"p-messages",14),d.TgZ(2,"span",29),d.NdJ("mouseup",function(){return d.CHM(t),d.oxw().onBasicUploaderClick()})("keydown",function(){return d.CHM(t),d.oxw().onBasicUploaderClick()}),d._UZ(3,"span",30),d.TgZ(4,"span",8),d._uU(5),d.qZA(),d.YNc(6,zF,2,3,"input",31),d.qZA(),d.qZA()}if(2&n){const t=d.oxw();d.xp6(1),d.Q6J("value",t.msgs)("enableService",!1),d.xp6(1),d.Tol(t.styleClass),d.Q6J("ngClass",d.l5B(9,qF,!t.chooseLabel,t.hasFiles(),t.focus,t.disabled))("ngStyle",t.style),d.xp6(1),d.Q6J("ngClass",t.hasFiles()&&!t.auto?t.uploadIcon:t.chooseIcon),d.xp6(2),d.Oqu(t.auto?t.chooseLabel:t.hasFiles()?t.files[0].name:t.chooseLabel),d.xp6(1),d.Q6J("ngIf",!t.hasFiles())}}let ZF=(()=>{class n{constructor(t,r,o,u,h,m){this.el=t,this.sanitizer=r,this.zone=o,this.http=u,this.cd=h,this.config=m,this.method="post",this.invalidFileSizeMessageSummary="{0}: Invalid file size, ",this.invalidFileSizeMessageDetail="maximum upload size is {0}.",this.invalidFileTypeMessageSummary="{0}: Invalid file type, ",this.invalidFileTypeMessageDetail="allowed file types: {0}.",this.invalidFileLimitMessageDetail="limit is {0} at most.",this.invalidFileLimitMessageSummary="Maximum number of files exceeded, ",this.previewWidth=50,this.chooseIcon="pi pi-plus",this.uploadIcon="pi pi-upload",this.cancelIcon="pi pi-times",this.showUploadButton=!0,this.showCancelButton=!0,this.mode="advanced",this.onBeforeUpload=new d.vpe,this.onSend=new d.vpe,this.onUpload=new d.vpe,this.onError=new d.vpe,this.onClear=new d.vpe,this.onRemove=new d.vpe,this.onSelect=new d.vpe,this.onProgress=new d.vpe,this.uploadHandler=new d.vpe,this._files=[],this.progress=0,this.uploadedFileCount=0}set files(t){this._files=[];for(let r=0;r<t.length;r++){let o=t[r];this.validate(o)&&(this.isImage(o)&&(o.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(t[r]))),this._files.push(t[r]))}}get files(){return this._files}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"file":this.fileTemplate=t.template;break;case"content":this.contentTemplate=t.template;break;case"toolbar":this.toolbarTemplate=t.template;break;default:this.fileTemplate=t.template}})}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()})}ngAfterViewInit(){"advanced"===this.mode&&this.zone.runOutsideAngular(()=>{this.content&&this.content.nativeElement.addEventListener("dragover",this.onDragOver.bind(this))})}choose(){this.advancedFileInput.nativeElement.click()}onFileSelect(t){if("drop"!==t.type&&this.isIE11()&&this.duplicateIEEvent)return void(this.duplicateIEEvent=!1);this.msgs=[],this.multiple||(this.files=[]);let r=t.dataTransfer?t.dataTransfer.files:t.target.files;for(let o=0;o<r.length;o++){let u=r[o];this.isFileSelected(u)||this.validate(u)&&(this.isImage(u)&&(u.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(r[o]))),this.files.push(r[o]))}this.onSelect.emit({originalEvent:t,files:r,currentFiles:this.files}),this.fileLimit&&"advanced"==this.mode&&this.checkFileLimit(),this.hasFiles()&&this.auto&&("advanced"!==this.mode||!this.isFileLimitExceeded())&&this.upload(),"drop"!==t.type&&this.isIE11()?this.clearIEInput():this.clearInputElement()}isFileSelected(t){for(let r of this.files)if(r.name+r.type+r.size===t.name+t.type+t.size)return!0;return!1}isIE11(){return!!window.MSInputMethodContext&&!!document.documentMode}validate(t){return this.accept&&!this.isFileTypeValid(t)?(this.msgs.push({severity:"error",summary:this.invalidFileTypeMessageSummary.replace("{0}",t.name),detail:this.invalidFileTypeMessageDetail.replace("{0}",this.accept)}),!1):!(this.maxFileSize&&t.size>this.maxFileSize&&(this.msgs.push({severity:"error",summary:this.invalidFileSizeMessageSummary.replace("{0}",t.name),detail:this.invalidFileSizeMessageDetail.replace("{0}",this.formatSize(this.maxFileSize))}),1))}isFileTypeValid(t){let r=this.accept.split(",").map(o=>o.trim());for(let o of r)if(this.isWildcard(o)?this.getTypeClass(t.type)===this.getTypeClass(o):t.type==o||this.getFileExtension(t).toLowerCase()===o.toLowerCase())return!0;return!1}getTypeClass(t){return t.substring(0,t.indexOf("/"))}isWildcard(t){return-1!==t.indexOf("*")}getFileExtension(t){return"."+t.name.split(".").pop()}isImage(t){return/^image\//.test(t.type)}onImageLoad(t){window.URL.revokeObjectURL(t.src)}upload(){if(this.customUpload)this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.uploadHandler.emit({files:this.files}),this.cd.markForCheck();else{this.uploading=!0,this.msgs=[];let t=new FormData;this.onBeforeUpload.emit({formData:t});for(let r=0;r<this.files.length;r++)t.append(this.name,this.files[r],this.files[r].name);this.http[this.method](this.url,t,{headers:this.headers,reportProgress:!0,observe:"events",withCredentials:this.withCredentials}).subscribe(r=>{switch(r.type){case or.Sent:this.onSend.emit({originalEvent:r,formData:t});break;case or.Response:this.uploading=!1,this.progress=0,r.status>=200&&r.status<300?(this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.onUpload.emit({originalEvent:r,files:this.files})):this.onError.emit({files:this.files}),this.clear();break;case or.UploadProgress:r.loaded&&(this.progress=Math.round(100*r.loaded/r.total)),this.onProgress.emit({originalEvent:r,progress:this.progress})}this.cd.markForCheck()},r=>{this.uploading=!1,this.onError.emit({files:this.files,error:r})})}}clear(){this.files=[],this.onClear.emit(),this.clearInputElement(),this.cd.markForCheck()}remove(t,r){this.clearInputElement(),this.onRemove.emit({originalEvent:t,file:this.files[r]}),this.files.splice(r,1)}isFileLimitExceeded(){return this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount&&this.focus&&(this.focus=!1),this.fileLimit&&this.fileLimit<this.files.length+this.uploadedFileCount}isChooseDisabled(){return this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount}checkFileLimit(){this.isFileLimitExceeded()&&this.msgs.push({severity:"error",summary:this.invalidFileLimitMessageSummary.replace("{0}",this.fileLimit.toString()),detail:this.invalidFileLimitMessageDetail.replace("{0}",this.fileLimit.toString())})}clearInputElement(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.advancedFileInput.nativeElement.value=""),this.basicFileInput&&this.basicFileInput.nativeElement&&(this.basicFileInput.nativeElement.value="")}clearIEInput(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.duplicateIEEvent=!0,this.advancedFileInput.nativeElement.value="")}hasFiles(){return this.files&&this.files.length>0}onDragEnter(t){this.disabled||(t.stopPropagation(),t.preventDefault())}onDragOver(t){this.disabled||(ut.addClass(this.content.nativeElement,"p-fileupload-highlight"),this.dragHighlight=!0,t.stopPropagation(),t.preventDefault())}onDragLeave(t){this.disabled||ut.removeClass(this.content.nativeElement,"p-fileupload-highlight")}onDrop(t){if(!this.disabled){ut.removeClass(this.content.nativeElement,"p-fileupload-highlight"),t.stopPropagation(),t.preventDefault();let r=t.dataTransfer?t.dataTransfer.files:t.target.files;(this.multiple||r&&1===r.length)&&this.onFileSelect(t)}}onFocus(){this.focus=!0}onBlur(){this.focus=!1}formatSize(t){if(0==t)return"0 B";let h=Math.floor(Math.log(t)/Math.log(1e3));return parseFloat((t/Math.pow(1e3,h)).toFixed(3))+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][h]}onBasicUploaderClick(){this.hasFiles()?this.upload():this.basicFileInput.nativeElement.click()}getBlockableElement(){return this.el.nativeElement.children[0]}get chooseButtonLabel(){return this.chooseLabel||this.config.getTranslation(w0.CHOOSE)}get uploadButtonLabel(){return this.uploadLabel||this.config.getTranslation(w0.UPLOAD)}get cancelButtonLabel(){return this.cancelLabel||this.config.getTranslation(w0.CANCEL)}ngOnDestroy(){this.content&&this.content.nativeElement&&this.content.nativeElement.removeEventListener("dragover",this.onDragOver),this.translationSubscription&&this.translationSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(Sa),d.Y36(d.R0b),d.Y36(FP),d.Y36(d.sBO),d.Y36(qd))},n.\u0275cmp=d.Xpm({type:n,selectors:[["p-fileUpload"]],contentQueries:function(t,r,o){if(1&t&&d.Suo(o,xp,4),2&t){let u;d.iGM(u=d.CRH())&&(r.templates=u)}},viewQuery:function(t,r){if(1&t&&(d.Gf(AF,5),d.Gf(xF,5),d.Gf(RF,5)),2&t){let o;d.iGM(o=d.CRH())&&(r.advancedFileInput=o.first),d.iGM(o=d.CRH())&&(r.basicFileInput=o.first),d.iGM(o=d.CRH())&&(r.content=o.first)}},hostAttrs:[1,"p-element"],inputs:{name:"name",url:"url",method:"method",multiple:"multiple",accept:"accept",disabled:"disabled",auto:"auto",withCredentials:"withCredentials",maxFileSize:"maxFileSize",invalidFileSizeMessageSummary:"invalidFileSizeMessageSummary",invalidFileSizeMessageDetail:"invalidFileSizeMessageDetail",invalidFileTypeMessageSummary:"invalidFileTypeMessageSummary",invalidFileTypeMessageDetail:"invalidFileTypeMessageDetail",invalidFileLimitMessageDetail:"invalidFileLimitMessageDetail",invalidFileLimitMessageSummary:"invalidFileLimitMessageSummary",style:"style",styleClass:"styleClass",previewWidth:"previewWidth",chooseLabel:"chooseLabel",uploadLabel:"uploadLabel",cancelLabel:"cancelLabel",chooseIcon:"chooseIcon",uploadIcon:"uploadIcon",cancelIcon:"cancelIcon",showUploadButton:"showUploadButton",showCancelButton:"showCancelButton",mode:"mode",headers:"headers",customUpload:"customUpload",fileLimit:"fileLimit",files:"files"},outputs:{onBeforeUpload:"onBeforeUpload",onSend:"onSend",onUpload:"onUpload",onError:"onError",onClear:"onClear",onRemove:"onRemove",onSelect:"onSelect",onProgress:"onProgress",uploadHandler:"uploadHandler"},decls:2,vars:2,consts:[[3,"ngClass","ngStyle","class",4,"ngIf"],["class","p-fileupload p-fileupload-basic p-component",4,"ngIf"],[3,"ngClass","ngStyle"],[1,"p-fileupload-buttonbar"],["pRipple","","tabindex","0",1,"p-button","p-component","p-fileupload-choose",3,"ngClass","focus","blur","click","keydown.enter"],["type","file",3,"multiple","accept","disabled","change"],["advancedfileinput",""],[3,"ngClass"],[1,"p-button-label"],["type","button",3,"label","icon","disabled","onClick",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"p-fileupload-content",3,"dragenter","dragleave","drop"],["content",""],[3,"value","showValue",4,"ngIf"],[3,"value","enableService"],["class","p-fileupload-files",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"label","icon","disabled","onClick"],[3,"value","showValue"],[1,"p-fileupload-files"],[4,"ngIf"],["class","p-fileupload-row",4,"ngFor","ngForOf"],[1,"p-fileupload-row"],[3,"src","width",4,"ngIf"],[1,"p-fileupload-filename"],["type","button","icon","pi pi-times","pButton","",3,"disabled","click"],[3,"src","width"],["ngFor","",3,"ngForOf","ngForTemplate"],[1,"p-fileupload","p-fileupload-basic","p-component"],["tabindex","0","pRipple","",3,"ngClass","ngStyle","mouseup","keydown"],[1,"p-button-icon","p-button-icon-left","pi",3,"ngClass"],["type","file",3,"accept","multiple","disabled","change","focus","blur",4,"ngIf"],["type","file",3,"accept","multiple","disabled","change","focus","blur"],["basicfileinput",""]],template:function(t,r){1&t&&(d.YNc(0,GF,17,27,"div",0),d.YNc(1,WF,7,14,"div",1)),2&t&&(d.Q6J("ngIf","advanced"===r.mode),d.xp6(1),d.Q6J("ngIf","basic"===r.mode))},directives:[Sr,fi,hn,Rp,ya,lF,DP,fF,Kr,TP],styles:[".p-fileupload-content{position:relative}.p-fileupload-row{display:flex;align-items:center}.p-fileupload-row>div{flex:1 1 auto;width:25%}.p-fileupload-row>div:last-child{text-align:right}.p-fileupload-content .p-progressbar{width:100%;position:absolute;top:0;left:0}.p-button.p-fileupload-choose{position:relative;overflow:hidden}.p-button.p-fileupload-choose input[type=file],.p-fileupload-choose.p-fileupload-choose-selected input[type=file]{display:none}.p-fluid .p-fileupload .p-button{width:auto}.p-fileupload-filename{word-break:break-all}"],encapsulation:2,changeDetection:0}),n})(),KF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Ln,Sv,$O,SP,GO,la],Sv,$O,SP,GO]}),n})();function YF(n,e){if(1&n&&(d.TgZ(0,"div",12),d.TgZ(1,"div",13),d._UZ(2,"div",14),d.TgZ(3,"span",15),d._uU(4),d.qZA(),d.qZA(),d.qZA()),2&n){const t=d.oxw();d.xp6(2),d.Jzz("background-image: url('",t.url,"');"),d.xp6(2),d.Oqu(t.nome)}}function QF(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",16),d.TgZ(1,"button",17),d.NdJ("click",function(){return d.CHM(t),d.oxw().cadastrar()}),d.qZA(),d.qZA()}}let JF=(()=>{class n{constructor(t,r){this.store=t,this.messageService=r,this.nome="",this.url=""}ngOnInit(){}myUploader(t){var r=this;return(0,me.Z)(function*(){for(let m of t.files)r.file=m;console.log(r.file);const o=new Headers;o.append("Authorization","Client-ID ab171eac0e14744");const u=new FormData;u.append("image",t.files[0]),fetch("https://api.imgur.com/3/image",{method:"POST",headers:o,body:u,redirect:"follow"}).then(m=>m.text()).then(m=>{console.log(m),r.url=JSON.parse(m).data.link,console.log(r.url)}).catch(m=>console.log("error",m))})()}getBase64(t){return new Promise((r,o)=>{const u=new FileReader;u.readAsDataURL(t),u.onload=()=>r(u.result),u.onerror=h=>o(h)})}cadastrar(){this.store.collection("colaboradores").add({nome:this.nome,url:this.url}).then(()=>{this.nome="",this.url="",this.file=void 0,this.messageService.add({severity:"success",summary:"Cadastrado com sucesso"})})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Qa),d.Y36(Iv))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-dashboard"]],features:[d._Bn([Iv])],decls:17,vars:8,consts:[[3,"showTransformOptions","hideTransformOptions"],[1,"grid","container","justify-content-center","align-items-center"],[1,"col-12"],[1,"col-6",2,"background-color","aliceblue","min-height","70vh"],[1,"grid","justify-content-center","align-items-center",2,"height","100%"],[1,"p-float-label","mt-4"],["id","float-input","type","text","pInputText","",3,"ngModel","ngModelChange"],["for","float-input"],["mode","basic","name","demo[]","accept","image/png, .jpeg, .jpg","chooseLabel","Enviar Imagem",3,"maxFileSize","customUpload","auto","uploadHandler"],["fubauto",""],["class","col-12  mt-4",4,"ngIf"],["class","col-5 mt-4",4,"ngIf"],[1,"col-12","mt-4"],[1,"grid","colaborador","mx-1","py-2","flex-column","align-items-center"],[1,"img-colaborador","my-2"],[1,"mb-2"],[1,"col-5","mt-4"],["pButton","","type","button","icon","pi pi-save","label","Cadastrar",1,"p-button-raised","p-button-success",2,"width","100%",3,"click"]],template:function(t,r){if(1&t){const o=d.EpF();d._UZ(0,"p-toast",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"h1"),d._uU(4,"CADASTRAR COLABORADOR"),d.qZA(),d.qZA(),d.TgZ(5,"div",3),d.TgZ(6,"div",4),d.TgZ(7,"div",2),d.TgZ(8,"span",5),d.TgZ(9,"input",6),d.NdJ("ngModelChange",function(h){return r.nome=h}),d.qZA(),d.TgZ(10,"label",7),d._uU(11,"Nome do Colaborador"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(12,"div",2),d.TgZ(13,"p-fileUpload",8,9),d.NdJ("uploadHandler",function(h){d.CHM(o);const m=d.MAs(14);return r.myUploader(h),m.clear()}),d.qZA(),d.qZA(),d.YNc(15,YF,5,4,"div",10),d.YNc(16,QF,2,0,"div",11),d.qZA(),d.qZA(),d.qZA()}2&t&&(d.Q6J("showTransformOptions","translateX(100%)")("hideTransformOptions","translateX(100%)"),d.xp6(9),d.Q6J("ngModel",r.nome),d.xp6(4),d.Q6J("maxFileSize",1e6)("customUpload",!0)("auto",!0),d.xp6(2),d.Q6J("ngIf",r.url),d.xp6(1),d.Q6J("ngIf",r.nome&&r.url))},directives:[H,lu,Uk,QM,pS,ZF,Sr,TP],styles:['.container[_ngcontent-%COMP%]{background-image:url(2.ab0eb5315c56eb9d4574.jpg);height:100vh;background-position:center;background-repeat:no-repeat;background-size:cover;text-align:center;overflow:auto}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%]{font-family:"Rubik",sans-serif;line-height:5rem;font-size:5rem;color:#c81a23}input[_ngcontent-%COMP%]{width:100%}.colaborador[_ngcontent-%COMP%]{height:25%;background-color:#f0f8ff;color:#000;font-family:"Rubik",sans-serif;font-weight:bolder;font-size:1.3rem;border-radius:1rem}.img-colaborador[_ngcontent-%COMP%]{height:200px;width:200px;background-size:cover;background-position:center;background-repeat:no-repeat;border-radius:100%}']}),n})(),XF=(()=>{class n{constructor(t){this.el=t}onkeydown(t){if(!0!==this.pFocusTrapDisabled){t.preventDefault();let r=ut.getFocusableElements(this.el.nativeElement);if(r&&r.length>0)if(r[0].ownerDocument.activeElement){let o=r.indexOf(r[0].ownerDocument.activeElement);t.shiftKey?-1==o||0===o?r[r.length-1].focus():r[o-1].focus():-1==o||o===r.length-1?r[0].focus():r[o+1].focus()}else r[0].focus()}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],hostBindings:function(t,r){1&t&&d.NdJ("keydown.tab",function(u){return r.onkeydown(u)})("keydown.shift.tab",function(u){return r.onkeydown(u)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),n})(),eL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Ln]]}),n})();const tL=["titlebar"],nL=["content"],rL=["footer"];function iL(n,e){if(1&n&&(d.TgZ(0,"span",17),d._uU(1),d.qZA()),2&n){const t=d.oxw(4);d.uIk("id",t.id+"-label"),d.xp6(1),d.Oqu(t.header)}}function sL(n,e){if(1&n&&(d.TgZ(0,"span",17),d.Hsn(1,1),d.qZA()),2&n){const t=d.oxw(4);d.uIk("id",t.id+"-label")}}function oL(n,e){1&n&&d.GkF(0)}const aL=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function lL(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",18),d.NdJ("click",function(){return d.CHM(t),d.oxw(4).maximize()})("keydown.enter",function(){return d.CHM(t),d.oxw(4).maximize()}),d._UZ(1,"span",19),d.qZA()}if(2&n){const t=d.oxw(4);d.Q6J("ngClass",d.DdM(2,aL)),d.xp6(1),d.Q6J("ngClass",t.maximized?t.minimizeIcon:t.maximizeIcon)}}const uL=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function cL(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",20),d.NdJ("click",function(o){return d.CHM(t),d.oxw(4).close(o)})("keydown.enter",function(o){return d.CHM(t),d.oxw(4).close(o)}),d._UZ(1,"span",21),d.qZA()}if(2&n){const t=d.oxw(4);d.Q6J("ngClass",d.DdM(4,uL)),d.uIk("aria-label",t.closeAriaLabel)("tabindex",t.closeTabindex),d.xp6(1),d.Q6J("ngClass",t.closeIcon)}}function dL(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",11,12),d.NdJ("mousedown",function(o){return d.CHM(t),d.oxw(3).initDrag(o)}),d.YNc(2,iL,2,2,"span",13),d.YNc(3,sL,2,1,"span",13),d.YNc(4,oL,1,0,"ng-container",8),d.TgZ(5,"div",14),d.YNc(6,lL,2,3,"button",15),d.YNc(7,cL,2,5,"button",16),d.qZA(),d.qZA()}if(2&n){const t=d.oxw(3);d.xp6(2),d.Q6J("ngIf",!t.headerFacet&&!t.headerTemplate),d.xp6(1),d.Q6J("ngIf",t.headerFacet),d.xp6(1),d.Q6J("ngTemplateOutlet",t.headerTemplate),d.xp6(2),d.Q6J("ngIf",t.maximizable),d.xp6(1),d.Q6J("ngIf",t.closable)}}function hL(n,e){1&n&&d.GkF(0)}function fL(n,e){1&n&&d.GkF(0)}function pL(n,e){if(1&n&&(d.TgZ(0,"div",22,23),d.Hsn(2,2),d.YNc(3,fL,1,0,"ng-container",8),d.qZA()),2&n){const t=d.oxw(3);d.xp6(3),d.Q6J("ngTemplateOutlet",t.footerTemplate)}}function gL(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",24),d.NdJ("mousedown",function(o){return d.CHM(t),d.oxw(3).initResize(o)}),d.qZA()}}const mL=function(n,e,t,r){return{"p-dialog p-component":!0,"p-dialog-rtl":n,"p-dialog-draggable":e,"p-dialog-resizable":t,"p-dialog-maximized":r}},yL=function(n,e){return{transform:n,transition:e}},_L=function(n){return{value:"visible",params:n}};function vL(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",3,4),d.NdJ("@animation.start",function(o){return d.CHM(t),d.oxw(2).onAnimationStart(o)})("@animation.done",function(o){return d.CHM(t),d.oxw(2).onAnimationEnd(o)}),d.YNc(2,dL,8,5,"div",5),d.TgZ(3,"div",6,7),d.Hsn(5),d.YNc(6,hL,1,0,"ng-container",8),d.qZA(),d.YNc(7,pL,4,1,"div",9),d.YNc(8,gL,1,0,"div",10),d.qZA()}if(2&n){const t=d.oxw(2);d.Tol(t.styleClass),d.Q6J("ngClass",d.l5B(15,mL,t.rtl,t.draggable,t.resizable,t.maximized))("ngStyle",t.style)("pFocusTrapDisabled",!1===t.focusTrap)("@animation",d.VKq(23,_L,d.WLB(20,yL,t.transformOptions,t.transitionOptions))),d.uIk("aria-labelledby",t.id+"-label"),d.xp6(2),d.Q6J("ngIf",t.showHeader),d.xp6(1),d.Tol(t.contentStyleClass),d.Q6J("ngClass","p-dialog-content")("ngStyle",t.contentStyle),d.xp6(3),d.Q6J("ngTemplateOutlet",t.contentTemplate),d.xp6(1),d.Q6J("ngIf",t.footerFacet||t.footerTemplate),d.xp6(1),d.Q6J("ngIf",t.resizable)}}const EL=function(n,e,t,r,o,u,h,m,b,I){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":n,"p-dialog-mask-scrollblocker":e,"p-dialog-left":t,"p-dialog-right":r,"p-dialog-top":o,"p-dialog-top-left":u,"p-dialog-top-right":h,"p-dialog-bottom":m,"p-dialog-bottom-left":b,"p-dialog-bottom-right":I}};function bL(n,e){if(1&n&&(d.TgZ(0,"div",1),d.YNc(1,vL,9,25,"div",2),d.qZA()),2&n){const t=d.oxw();d.Tol(t.maskStyleClass),d.Q6J("ngClass",d.rFY(4,EL,[t.modal,t.modal||t.blockScroll,"left"===t.position,"right"===t.position,"top"===t.position,"topleft"===t.position||"top-left"===t.position,"topright"===t.position||"top-right"===t.position,"bottom"===t.position,"bottomleft"===t.position||"bottom-left"===t.position,"bottomright"===t.position||"bottom-right"===t.position])),d.xp6(1),d.Q6J("ngIf",t.visible)}}const wL=["*",[["p-header"]],[["p-footer"]]],CL=["*","p-header","p-footer"],IL=EO([au({transform:"{{transform}}",opacity:0}),zm("{{transition}}")]),TL=EO([zm("{{transition}}",au({transform:"{{transform}}",opacity:0}))]);let DL=(()=>{class n{constructor(t,r,o,u,h){this.el=t,this.renderer=r,this.zone=o,this.cd=u,this.config=h,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.closeTabindex="-1",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new d.vpe,this.onHide=new d.vpe,this.visibleChange=new d.vpe,this.onResizeInit=new d.vpe,this.onResizeEnd=new d.vpe,this.onDragEnd=new d.vpe,this.onMaximize=new d.vpe,this.id=Av(),this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(t){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(t){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(t){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(t){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;default:this.contentTemplate=t.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(t){t&&(this._style=Object.assign({},t),this.originalStyle=t)}get position(){return this._position}set position(t){switch(this._position=t,t){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let t=ut.findSingle(this.container,"[autofocus]");t&&this.zone.runOutsideAngular(()=>{setTimeout(()=>t.focus(),5)})}close(t){this.visibleChange.emit(!1),t.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",t=>{this.wrapper&&this.wrapper.isSameNode(t.target)&&this.close(t)})),this.modal&&ut.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&ut.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?ut.addClass(document.body,"p-overflow-hidden"):ut.removeClass(document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(xv.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let t="";for(let r in this.breakpoints)t+=`\n                    @media screen and (max-width: ${r}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[r]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=t}}initDrag(t){ut.hasClass(t.target,"p-dialog-header-icon")||ut.hasClass(t.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,this.container.style.margin="0",ut.addClass(document.body,"p-unselectable-text"))}onKeydown(t){if(this.focusTrap&&9===t.which){t.preventDefault();let r=ut.getFocusableElements(this.container);if(r&&r.length>0)if(r[0].ownerDocument.activeElement){let o=r.indexOf(r[0].ownerDocument.activeElement);t.shiftKey?-1==o||0===o?r[r.length-1].focus():r[o-1].focus():-1==o||o===r.length-1?r[0].focus():r[o+1].focus()}else r[0].focus()}}onDrag(t){if(this.dragging){let r=ut.getOuterWidth(this.container),o=ut.getOuterHeight(this.container),u=t.pageX-this.lastPageX,h=t.pageY-this.lastPageY,m=ut.getOffset(this.container),b=m.left+u,I=m.top+h,x=ut.getViewport();this.container.style.position="fixed",this.keepInViewport?(b>=this.minX&&b+r<x.width&&(this._style.left=b+"px",this.lastPageX=t.pageX,this.container.style.left=b+"px"),I>=this.minY&&I+o<x.height&&(this._style.top=I+"px",this.lastPageY=t.pageY,this.container.style.top=I+"px")):(this.lastPageX=t.pageX,this.container.style.left=b+"px",this.lastPageY=t.pageY,this.container.style.top=I+"px")}}endDrag(t){this.dragging&&(this.dragging=!1,ut.removeClass(document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(t))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(t){this.resizable&&(this.resizing=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,ut.addClass(document.body,"p-unselectable-text"),this.onResizeInit.emit(t))}onResize(t){if(this.resizing){let r=t.pageX-this.lastPageX,o=t.pageY-this.lastPageY,u=ut.getOuterWidth(this.container),h=ut.getOuterHeight(this.container),m=ut.getOuterHeight(this.contentViewChild.nativeElement),b=u+r,I=h+o,x=this.container.style.minWidth,O=this.container.style.minHeight,j=ut.getOffset(this.container),B=ut.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(b+=r,I+=o),(!x||b>parseInt(x))&&j.left+b<B.width&&(this._style.width=b+"px",this.container.style.width=this._style.width),(!O||I>parseInt(O))&&j.top+I<B.height&&(this.contentViewChild.nativeElement.style.height=m+I-h+"px",this._style.height&&(this._style.height=I+"px",this.container.style.height=this._style.height)),this.lastPageX=t.pageX,this.lastPageY=t.pageY}}resizeEnd(t){this.resizing&&(this.resizing=!1,ut.removeClass(document.body,"p-unselectable-text"),this.onResizeEnd.emit(t))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",r=>{27==r.which&&this.close(r)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):ut.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(t){switch(t.toState){case"visible":this.container=t.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&ut.addClass(document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.modal&&ut.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(t){switch(t.toState){case"void":this.onContainerDestroy(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(ut.removeClass(document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&ut.removeClass(document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&xv.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?Object.assign({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.R0b),d.Y36(d.sBO),d.Y36(qd))},n.\u0275cmp=d.Xpm({type:n,selectors:[["p-dialog"]],contentQueries:function(t,r,o){if(1&t&&(d.Suo(o,Dv,5),d.Suo(o,Ap,5),d.Suo(o,xp,4)),2&t){let u;d.iGM(u=d.CRH())&&(r.headerFacet=u.first),d.iGM(u=d.CRH())&&(r.footerFacet=u.first),d.iGM(u=d.CRH())&&(r.templates=u)}},viewQuery:function(t,r){if(1&t&&(d.Gf(tL,5),d.Gf(nL,5),d.Gf(rL,5)),2&t){let o;d.iGM(o=d.CRH())&&(r.headerViewChild=o.first),d.iGM(o=d.CRH())&&(r.contentViewChild=o.first),d.iGM(o=d.CRH())&&(r.footerViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:CL,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],["type","button","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"]],template:function(t,r){1&t&&(d.F$t(wL),d.YNc(0,bL,2,15,"div",0)),2&t&&d.Q6J("ngIf",r.maskVisible)},directives:[Sr,fi,XF,hn,ya,Rp],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog,.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-top .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top,.p-dialog-top-left{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}"],encapsulation:2,data:{animation:[I0("animation",[Op("void => visible",[rS(IL)]),Op("visible => void",[rS(TL)])])]},changeDetection:0}),n})(),SL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Ln,eL,la],Sv]}),n})();function AL(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",5),d.TgZ(1,"p-button",6),d.NdJ("click",function(){return d.CHM(t),d.oxw().sendToWhatsapp()}),d.qZA(),d.qZA()}}const xL=function(){return{width:"25vw"}},RL=function(){return{"960px":"75vw"}},OL=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:(()=>{class n{constructor(t){this.router=t,this.display=!1}ngOnInit(){}nextAlbum(){this.router.navigate(["/album"])}showDialog(){this.display=!0}sendToWhatsapp(){window.open("https://api.whatsapp.com/send?phone=556984246678&text=Ol%C3%A1,%20eu%20gostaria%20de%20colaborar%20com%20o%20Natal%20Solid%C3%A1rio.","_blank"),this.display=!1}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ii))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-home"]],decls:21,vars:8,consts:[[1,"grid","container","justify-content-center","align-items-center","flex-column"],[1,"btn-album",3,"click"],["href","javascript:void()",1,"part-link",3,"click"],["header","COMO PARTICIPAR?",3,"visible","breakpoints","draggable","resizable","visibleChange"],["pTemplate","footer"],[1,"grid","justify-content-center","align-items-center"],["icon","fab fa-whatsapp","label","Enviar Comprovante","styleClass","p-button-success",3,"click"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"h1"),d._uU(2,"PROJETO"),d.qZA(),d.TgZ(3,"h1"),d._uU(4,"NATAL SOLID\xc1RIO"),d.qZA(),d.TgZ(5,"h2"),d._uU(6,"AJUDE QUEM PRECISA!"),d.qZA(),d.TgZ(7,"button",1),d.NdJ("click",function(){return r.nextAlbum()}),d._uU(8,"ALBUM"),d.qZA(),d.TgZ(9,"a",2),d.NdJ("click",function(){return r.showDialog()}),d._uU(10,"COMO PARTICIPAR?"),d.qZA(),d.TgZ(11,"p-dialog",3),d.NdJ("visibleChange",function(u){return r.display=u}),d.TgZ(12,"p"),d._uU(13,"VOC\xca DEVE FAZER UMA DOA\xc7\xc3O DE QUALQUER QUANTIA OU PRODUTO E ENVIAR UMA FORMA DE COMPROVA\xc7\xc3O (COMPROVANTE OU FOTO) para nosso WhatsApp: (69) 98424-6678."),d._UZ(14,"br"),d._UZ(15,"br"),d._uU(16," AO SER COMPROVADO QUE O PARTICIPANTE SEGUIU TODOS OS PASSOS, ELE DEVE ENVIAR UMA FOTO QUE DESEJA EXIBIR NO ALBUM, NOME E SOBRENOME. "),d._UZ(17,"br"),d._UZ(18,"br"),d._uU(19,"A EQUIPE T\xc9CNICA IR\xc1 ADICIONAR OS DADOS DO PARTICIPANTE EM AT\xc9 72 HORAS."),d.qZA(),d.YNc(20,AL,2,0,"ng-template",4),d.qZA(),d.qZA()),2&t&&(d.xp6(11),d.Akn(d.DdM(6,xL)),d.Q6J("visible",r.display)("breakpoints",d.DdM(7,RL))("draggable",!1)("resizable",!1))},directives:[DL,xp,DP],styles:['@media only screen and (min-width: 600px){.container[_ngcontent-%COMP%]{background-image:url(1.58d79708f4db8fee2fb9.png);height:100vh;background-position:center;background-repeat:no-repeat;background-size:cover;text-align:center}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%]{font-family:"Rubik",sans-serif;line-height:5rem;font-size:5rem}}@media only screen and (max-width: 600px){.container[_ngcontent-%COMP%]{background-image:url(1.58d79708f4db8fee2fb9.png);height:100vh;background-position:center;background-repeat:no-repeat;background-size:cover;text-align:center}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%]{font-family:"Rubik",sans-serif;line-height:3rem;font-size:3rem}}h2[_ngcontent-%COMP%]{font-family:"Roboto",sans-serif}.btn-album[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-family:"Arial",sans-serif;font-weight:bolder;font-size:3rem;background-color:#c81a23;border-radius:.5rem;width:18rem;height:5rem;border:none;cursor:pointer}.btn-album[_ngcontent-%COMP%]:active{background-color:#6d1314}.part-link[_ngcontent-%COMP%]{-webkit-text-decoration-color:#fff;text-decoration-color:#fff;color:#fff;font-family:"Arial",sans-serif;font-weight:bolder;font-size:1.5rem;border-radius:.5rem;border:none;margin-top:.4rem}']}),n})()},{path:"album",component:dO},{path:"dashboard",component:JF}];let NL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[lE.forRoot(OL,{useHash:!0})],lE]}),n})(),ML=(()=>{class n{constructor(t){this.primengConfig=t,this.title="natalsolidario"}ngOnInit(){this.primengConfig.ripple=!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(qd))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,consts:[["href","https://fonts.googleapis.com/css2?family=Rubik+Mono+One&family=Rubik:wght@300;400;500;600;700;800;900&display=swap","rel","stylesheet"]],template:function(t,r){1&t&&(d._UZ(0,"router-outlet"),d._UZ(1,"link",0))},directives:[ky],styles:[""]}),n})();function jP(){return"undefined"!=typeof window&&void 0!==window.document}function QO(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Fp(n){switch(n.length){case 0:return new qm;case 1:return n[0];default:return new i(n)}}function HP(n,e,t,r,o={},u={}){const h=[],m=[];let b=-1,I=null;if(r.forEach(x=>{const O=x.offset,j=O==b,B=j&&I||{};Object.keys(x).forEach(Z=>{let pe=Z,Se=x[Z];if("offset"!==Z)switch(pe=e.normalizePropertyName(pe,h),Se){case"!":Se=o[Z];break;case ou:Se=u[Z];break;default:Se=e.normalizeStyleValue(Z,pe,Se,h)}B[pe]=Se}),j||m.push(B),I=B,b=O}),h.length){const x="\n - ";throw new Error(`Unable to animate due to the following errors:${x}${h.join(x)}`)}return m}function JO(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&XO(t,"start",n)));break;case"done":n.onDone(()=>r(t&&XO(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&XO(t,"destroy",n)))}}function XO(n,e,t){const r=t.totalTime,u=eN(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),h=n._data;return null!=h&&(u._data=h),u}function eN(n,e,t,r,o="",u=0,h){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:o,totalTime:u,disabled:!!h}}function ua(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function $P(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let tN=(n,e)=>!1,nN=(n,e)=>!1,GP=(n,e,t)=>[];const zP=QO();(zP||"undefined"!=typeof Element)&&(tN=jP()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),nN=(()=>{if(zP||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,r)=>e.apply(t,[r]):nN}})(),GP=(n,e,t)=>{let r=[];if(t){const o=n.querySelectorAll(e);for(let u=0;u<o.length;u++)r.push(o[u])}else{const o=n.querySelector(e);o&&r.push(o)}return r});let Zm=null,qP=!1;function rN(n){Zm||(Zm=("undefined"!=typeof document?document.body:null)||{},qP=!!Zm.style&&"WebkitAppearance"in Zm.style);let e=!0;return Zm.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Zm.style,!e&&qP&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Zm.style)),e}const iN=nN,sN=tN,oN=GP;function WP(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let ZP=(()=>{class n{validateStyleProperty(t){return rN(t)}matchesElement(t,r){return iN(t,r)}containsElement(t,r){return sN(t,r)}query(t,r,o){return oN(t,r,o)}computeStyle(t,r,o){return o||""}animate(t,r,o,u,h,m=[],b){return new qm(o,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),aN=(()=>{class n{}return n.NOOP=new ZP,n})();const lN="ng-enter",mS="ng-leave",yS="ng-trigger",_S=".ng-trigger",YP="ng-animating",uN=".ng-animating";function Km(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:cN(parseFloat(e[1]),e[2])}function cN(n,e){switch(e){case"s":return 1e3*n;default:return n}}function vS(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let o,u=0,h="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};o=cN(parseFloat(m[1]),m[2]);const b=m[3];null!=b&&(u=cN(parseFloat(b),m[4]));const I=m[5];I&&(h=I)}else o=n;if(!t){let m=!1,b=e.length;o<0&&(e.push("Duration values below 0 are not allowed for this animation step."),m=!0),u<0&&(e.push("Delay values below 0 are not allowed for this animation step."),m=!0),m&&e.splice(b,0,`The provided timing value "${n}" is invalid.`)}return{duration:o,delay:u,easing:h}}(n,e,t)}function Mv(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Lp(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Mv(n,t);return t}function JP(n,e,t){return t?e+":"+t+";":""}function XP(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=JP(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=JP(0,jL(t),n.style[t]));n.setAttribute("style",e)}function Ic(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const o=hN(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[o]),n.style[o]=e[r]}),QO()&&XP(n))}function Ym(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=hN(t);n.style[r]=""}),QO()&&XP(n))}function O0(n){return Array.isArray(n)?1==n.length?n[0]:_O(n):n}const dN=new RegExp("{{\\s*(.+?)\\s*}}","g");function e1(n){let e=[];if("string"==typeof n){let t;for(;t=dN.exec(n);)e.push(t[1]);dN.lastIndex=0}return e}function ES(n,e,t){const r=n.toString(),o=r.replace(dN,(u,h)=>{let m=e[h];return e.hasOwnProperty(h)||(t.push(`Please provide a value for the animation param ${h}`),m=""),m.toString()});return o==r?n:o}function bS(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const BL=/-+([a-z0-9])/g;function hN(n){return n.replace(BL,(...e)=>e[1].toUpperCase())}function jL(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function t1(n,e){return 0===n||0===e}function n1(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let u=e[0],h=[];if(r.forEach(m=>{u.hasOwnProperty(m)||h.push(m),u[m]=t[m]}),h.length)for(var o=1;o<e.length;o++){let m=e[o];h.forEach(function(b){m[b]=fN(n,b)})}}return e}function ca(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function fN(n,e){return window.getComputedStyle(n)[e]}function HL(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const b=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof b)return void e.push(b);n=b}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const o=r[1],u=r[2],h=r[3];e.push(r1(o,h));"<"==u[0]&&!("*"==o&&"*"==h)&&e.push(r1(h,o))}(r,t,e)):t.push(n),t}const CS=new Set(["true","1"]),IS=new Set(["false","0"]);function r1(n,e){const t=CS.has(n)||IS.has(n),r=CS.has(e)||IS.has(e);return(o,u)=>{let h="*"==n||n==o,m="*"==e||e==u;return!h&&t&&"boolean"==typeof o&&(h=o?CS.has(n):IS.has(n)),!m&&r&&"boolean"==typeof u&&(m=u?CS.has(e):IS.has(e)),h&&m}}const zL=new RegExp("s*:selfs*,?","g");function pN(n,e,t){return new qL(n).build(e,t)}class qL{constructor(e){this._driver=e}build(e,t){const r=new KL(t);return this._resetContextStyleTimingState(r),ca(this,O0(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,o=t.depCount=0;const u=[],h=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(t),0==m.type){const b=m,I=b.name;I.toString().split(/\s*,\s*/).forEach(x=>{b.name=x,u.push(this.visitState(b,t))}),b.name=I}else if(1==m.type){const b=this.visitTransition(m,t);r+=b.queryCount,o+=b.depCount,h.push(b)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:u,transitions:h,queryCount:r,depCount:o,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),o=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,h=o||{};if(r.styles.forEach(m=>{if(TS(m)){const b=m;Object.keys(b).forEach(I=>{e1(b[I]).forEach(x=>{h.hasOwnProperty(x)||u.add(x)})})}}),u.size){const m=bS(u.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${m.join(", ")}`)}}return{type:0,name:e.name,style:r,options:o?{params:o}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ca(this,O0(e.animation),t);return{type:1,matchers:HL(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Qm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ca(this,r,t)),options:Qm(e.options)}}visitGroup(e,t){const r=t.currentTime;let o=0;const u=e.steps.map(h=>{t.currentTime=r;const m=ca(this,h,t);return o=Math.max(o,t.currentTime),m});return t.currentTime=o,{type:3,steps:u,options:Qm(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return gN(vS(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=gN(0,0,"");return u.dynamic=!0,u.strValue=r,u}return t=t||vS(r,e),gN(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let o,u=e.styles?e.styles:au({});if(5==u.type)o=this.visitKeyframes(u,t);else{let h=e.styles,m=!1;if(!h){m=!0;const I={};r.easing&&(I.easing=r.easing),h=au(I)}t.currentTime+=r.duration+r.delay;const b=this.visitStyle(h,t);b.isEmptyStep=m,o=b}return t.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(h=>{"string"==typeof h?h==ou?r.push(h):t.errors.push(`The provided style string value ${h} is not allowed.`):r.push(h)}):r.push(e.styles);let o=!1,u=null;return r.forEach(h=>{if(TS(h)){const m=h,b=m.easing;if(b&&(u=b,delete m.easing),!o)for(let I in m)if(m[I].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let o=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(m=>{if(!this._driver.validateStyleProperty(m))return void t.errors.push(`The provided animation property "${m}" is not a supported CSS property for animations`);const b=t.collectedStyles[t.currentQuerySelector],I=b[m];let x=!0;I&&(u!=o&&u>=I.startTime&&o<=I.endTime&&(t.errors.push(`The CSS property "${m}" that exists between the times of "${I.startTime}ms" and "${I.endTime}ms" is also being animated in a parallel animation between the times of "${u}ms" and "${o}ms"`),x=!1),u=I.startTime),x&&(b[m]={startTime:u,endTime:o}),t.options&&function(n,e,t){const r=e.params||{},o=e1(n);o.length&&o.forEach(u=>{r.hasOwnProperty(u)||t.push(`Unable to resolve the local animation param ${u} in the given list of values`)})}(h[m],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let u=0;const h=[];let m=!1,b=!1,I=0;const x=e.steps.map(Be=>{const st=this._makeStyleAst(Be,t);let Ot=null!=st.offset?st.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(TS(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(TS(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(st.styles),at=0;return null!=Ot&&(u++,at=st.offset=Ot),b=b||at<0||at>1,m=m||at<I,I=at,h.push(at),st});b&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),m&&t.errors.push("Please ensure that all keyframe offsets are in order");const O=e.steps.length;let j=0;u>0&&u<O?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==u&&(j=1/(O-1));const B=O-1,Z=t.currentTime,pe=t.currentAnimateTimings,Se=pe.duration;return x.forEach((Be,st)=>{const Ot=j>0?st==B?1:j*st:h[st],at=Ot*Se;t.currentTime=Z+pe.delay+at,pe.duration=at,this._validateStyleAst(Be,t),Be.offset=Ot,r.styles.push(Be)}),r}visitReference(e,t){return{type:8,animation:ca(this,O0(e.animation),t),options:Qm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Qm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Qm(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,o=e.options||{};t.queryCount++,t.currentQuery=e;const[u,h]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(zL,"")),[n=n.replace(/@\*/g,_S).replace(/@\w+/g,t=>_S+"-"+t.substr(1)).replace(/:animating/g,uN),e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,ua(t.collectedStyles,t.currentQuerySelector,{});const m=ca(this,O0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:o.limit||0,optional:!!o.optional,includeSelf:h,animation:m,originalSelector:e.selector,options:Qm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:vS(e.timings,t.errors,!0);return{type:12,animation:ca(this,O0(e.animation),t),timings:r,options:null}}}class KL{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function TS(n){return!Array.isArray(n)&&"object"==typeof n}function Qm(n){return n?(n=Mv(n)).params&&(n.params=function(n){return n?Mv(n):null}(n.params)):n={},n}function gN(n,e,t){return{duration:n,delay:e,easing:t}}function mN(n,e,t,r,o,u,h=null,m=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:o,delay:u,totalTime:o+u,easing:h,subTimeline:m}}class DS{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const eV=new RegExp(":enter","g"),nV=new RegExp(":leave","g");function yN(n,e,t,r,o,u={},h={},m,b,I=[]){return(new rV).buildKeyframes(n,e,t,r,o,u,h,m,b,I)}class rV{buildKeyframes(e,t,r,o,u,h,m,b,I,x=[]){I=I||new DS;const O=new _N(e,t,I,o,u,x,[]);O.options=b,O.currentTimeline.setStyles([h],null,O.errors,b),ca(this,r,O);const j=O.timelines.filter(B=>B.containsAnimation());if(j.length&&Object.keys(m).length){const B=j[j.length-1];B.allowOnlyTimelineStyles()||B.setStyles([m],null,O.errors,b)}return j.length?j.map(B=>B.buildKeyframes()):[mN(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const o=t.createSubContext(e.options),u=t.currentTimeline.currentTime,h=this._visitSubInstructions(r,o,o.options);u!=h&&t.transformIntoNewTimeline(h)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const h=null!=r.duration?Km(r.duration):null,m=null!=r.delay?Km(r.delay):null;return 0!==h&&e.forEach(b=>{const I=t.appendInstructionToTimeline(b,h,m);u=Math.max(u,I.duration+I.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),ca(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let o=t;const u=e.options;if(u&&(u.params||u.delay)&&(o=t.createSubContext(u),o.transformIntoNewTimeline(),null!=u.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=SS);const h=Km(u.delay);o.delayNextStep(h)}e.steps.length&&(e.steps.forEach(h=>ca(this,h,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let o=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?Km(e.options.delay):0;e.steps.forEach(h=>{const m=t.createSubContext(e.options);u&&m.delayNextStep(u),ca(this,h,m),o=Math.max(o,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(h=>t.currentTimeline.mergeTimelineCollectedStyles(h)),t.transformIntoNewTimeline(o),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return vS(t.params?ES(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),o=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),o.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,o=t.currentAnimateTimings;!o&&r.getCurrentStyleProperties().length&&r.forwardFrame();const u=o&&o.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,o=t.currentTimeline.duration,u=r.duration,m=t.createSubContext().currentTimeline;m.easing=r.easing,e.styles.forEach(b=>{m.forwardTime((b.offset||0)*u),m.setStyles(b.styles,b.easing,t.errors,t.options),m.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(m),t.transformIntoNewTimeline(o+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,o=e.options||{},u=o.delay?Km(o.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=SS);let h=r;const m=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=m.length;let b=null;m.forEach((I,x)=>{t.currentQueryIndex=x;const O=t.createSubContext(e.options,I);u&&O.delayNextStep(u),I===t.element&&(b=O.currentTimeline),ca(this,e.animation,O),O.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,O.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(h),b&&(t.currentTimeline.mergeTimelineCollectedStyles(b),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,o=t.currentTimeline,u=e.timings,h=Math.abs(u.duration),m=h*(t.currentQueryTotal-1);let b=h*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":b=m-b;break;case"full":b=r.currentStaggerTime}const x=t.currentTimeline;b&&x.delayNextStep(b);const O=x.currentTime;ca(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=o.currentTime-O+(o.startTime-r.currentTimeline.startTime)}}const SS={};class _N{constructor(e,t,r,o,u,h,m,b){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=u,this.errors=h,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=SS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=b||new AS(this._driver,t,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let o=this.options;null!=r.duration&&(o.duration=Km(r.duration)),null!=r.delay&&(o.delay=Km(r.delay));const u=r.params;if(u){let h=o.params;h||(h=this.options.params={}),Object.keys(u).forEach(m=>{(!t||!h.hasOwnProperty(m))&&(h[m]=ES(u[m],h,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(o=>{r[o]=t[o]})}}return e}createSubContext(e=null,t,r){const o=t||this.element,u=new _N(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=SS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const o={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},u=new iV(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(u),o}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,o,u,h){let m=[];if(o&&m.push(this.element),e.length>0){e=(e=e.replace(eV,"."+this._enterClassName)).replace(nV,"."+this._leaveClassName);let I=this._driver.query(this.element,e,1!=r);0!==r&&(I=r<0?I.slice(I.length+r,I.length):I.slice(0,r)),m.push(...I)}return!u&&0==m.length&&h.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),m}}class AS{constructor(e,t,r,o){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new AS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||ou,this._currentKeyframe[t]=ou}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,o){t&&(this._previousKeyframe.easing=t);const u=o&&o.params||{},h=function(n,e){const t={};let r;return n.forEach(o=>{"*"===o?(r=r||Object.keys(e),r.forEach(u=>{t[u]=ou})):Lp(o,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(h).forEach(m=>{const b=ES(h[m],u,r);this._pendingStyles[m]=b,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:ou),this._updateStyle(m,b)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],o=e._styleSummary[t];(!r||o.time>r.time)&&this._updateStyle(t,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((m,b)=>{const I=Lp(m,!0);Object.keys(I).forEach(x=>{const O=I[x];"!"==O?e.add(x):O==ou&&t.add(x)}),r||(I.offset=b/this.duration),o.push(I)});const u=e.size?bS(e.values()):[],h=t.size?bS(t.values()):[];if(r){const m=o[0],b=Mv(m);m.offset=0,b.offset=1,o=[m,b]}return mN(this.element,o,u,h,this.duration,this.startTime,this.easing,!1)}}class iV extends AS{constructor(e,t,r,o,u,h,m=!1){super(e,t,h.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=u,this._stretchStartingKeyframe=m,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],h=r+t,m=t/h,b=Lp(e[0],!1);b.offset=0,u.push(b);const I=Lp(e[0],!1);I.offset=a1(m),u.push(I);const x=e.length-1;for(let O=1;O<=x;O++){let j=Lp(e[O],!1);j.offset=a1((t+j.offset*r)/h),u.push(j)}r=h,t=0,o="",e=u}return mN(this.element,e,this.preStyleProps,this.postStyleProps,r,t,o,!0)}}function a1(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class vN{}class oV extends vN{normalizePropertyName(e,t){return hN(e)}normalizeStyleValue(e,t,r,o){let u="";const h=r.toString().trim();if(aV[t]&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&o.push(`Please provide a CSS unit value for ${e}:${r}`)}return h+u}}const aV=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function l1(n,e,t,r,o,u,h,m,b,I,x,O,j){return{type:0,element:n,triggerName:e,isRemovalTransition:o,fromState:t,fromStyles:u,toState:r,toStyles:h,timelines:m,queriedElements:b,preStyleProps:I,postStyleProps:x,totalTime:O,errors:j}}const EN={};class u1{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,o){return function(n,e,t,r,o){return n.some(u=>u(e,t,r,o))}(this.ast.matchers,e,t,r,o)}buildStyles(e,t,r){const o=this._stateStyles["*"],u=this._stateStyles[e],h=o?o.buildStyles(t,r):{};return u?u.buildStyles(t,r):h}build(e,t,r,o,u,h,m,b,I,x){const O=[],j=this.ast.options&&this.ast.options.params||EN,Z=this.buildStyles(r,m&&m.params||EN,O),pe=b&&b.params||EN,Se=this.buildStyles(o,pe,O),Be=new Set,st=new Map,Ot=new Map,at="void"===o,pn={params:Object.assign(Object.assign({},j),pe)},ar=x?[]:yN(e,t,this.ast.animation,u,h,Z,Se,pn,I,O);let Gi=0;if(ar.forEach(Kd=>{Gi=Math.max(Kd.duration+Kd.delay,Gi)}),O.length)return l1(t,this._triggerName,r,o,at,Z,Se,[],[],st,Ot,Gi,O);ar.forEach(Kd=>{const Yd=Kd.element,U1=ua(st,Yd,{});Kd.preStyleProps.forEach(Jm=>U1[Jm]=!0);const M0=ua(Ot,Yd,{});Kd.postStyleProps.forEach(Jm=>M0[Jm]=!0),Yd!==t&&Be.add(Yd)});const Zd=bS(Be.values());return l1(t,this._triggerName,r,o,at,Z,Se,ar,Zd,st,Ot,Gi)}}class cV{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},o=Mv(this.defaultParams);return Object.keys(e).forEach(u=>{const h=e[u];null!=h&&(o[u]=h)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const h=u;Object.keys(h).forEach(m=>{let b=h[m];b.length>1&&(b=ES(b,o,t));const I=this.normalizer.normalizePropertyName(m,t);b=this.normalizer.normalizeStyleValue(m,I,b,t),r[I]=b})}}),r}}class hV{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(o=>{this.states[o.name]=new cV(o.style,o.options&&o.options.params||{},r)}),c1(this.states,"true","1"),c1(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new u1(e,o,this.states))}),this.fallbackTransition=function(n,e,t){return new u1(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,o){return this.transitionFactories.find(h=>h.match(e,t,r,o))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function c1(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const pV=new DS;class gV{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],o=pN(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=o}_buildPlayer(e,t,r){const o=e.element,u=HP(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(o,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const o=[],u=this._animations[e];let h;const m=new Map;if(u?(h=yN(this._driver,t,u,lN,mS,{},{},r,pV,o),h.forEach(x=>{const O=ua(m,x.element,{});x.postStyleProps.forEach(j=>O[j]=null)})):(o.push("The requested animation doesn't exist or has already been destroyed"),h=[]),o.length)throw new Error(`Unable to create the animation due to the following errors: ${o.join("\n")}`);m.forEach((x,O)=>{Object.keys(x).forEach(j=>{x[j]=this._driver.computeStyle(O,j,ou)})});const I=Fp(h.map(x=>{const O=m.get(x.element);return this._buildPlayer(x,{},O)}));return this._playersById[e]=I,I.onDestroy(()=>this.destroy(e)),this.players.push(I),I}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,o){const u=eN(t,"","","");return JO(this._getPlayer(e),r,u,o),()=>{}}command(e,t,r,o){if("register"==r)return void this.register(e,o[0]);if("create"==r)return void this.create(e,t,o[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e)}}}const d1="ng-animate-queued",h1="ng-animate-disabled",f1=".ng-animate-disabled",vV=[],p1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},EV={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xa="__ng_removed";class bN{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(r?e.value:e),r){const u=Mv(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(o=>{null==r[o]&&(r[o]=t[o])})}}}const N0="void",wN=new bN(N0);class bV{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,el(t,this._hostClassName)}listen(e,t,r,o){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);const u=ua(this._elementListeners,e,[]),h={name:t,phase:r,callback:o};u.push(h);const m=ua(this._engine.statesByElement,e,{});return m.hasOwnProperty(t)||(el(e,yS),el(e,yS+"-"+t),m[t]=wN),()=>{this._engine.afterFlush(()=>{const b=u.indexOf(h);b>=0&&u.splice(b,1),this._triggers[t]||delete m[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,o=!0){const u=this._getTrigger(t),h=new CN(this.id,t,e);let m=this._engine.statesByElement.get(e);m||(el(e,yS),el(e,yS+"-"+t),this._engine.statesByElement.set(e,m={}));let b=m[t];const I=new bN(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&b&&I.absorbOptions(b.options),m[t]=I,b||(b=wN),I.value!==N0&&b.value===I.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let o=0;o<t.length;o++){const u=t[o];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(b.params,I.params)){const pe=[],Se=u.matchStyles(b.value,b.params,pe),Be=u.matchStyles(I.value,I.params,pe);pe.length?this._engine.reportError(pe):this._engine.afterFlush(()=>{Ym(e,Se),Ic(e,Be)})}return}const j=ua(this._engine.playersByElement,e,[]);j.forEach(pe=>{pe.namespaceId==this.id&&pe.triggerName==t&&pe.queued&&pe.destroy()});let B=u.matchTransition(b.value,I.value,e,I.params),Z=!1;if(!B){if(!o)return;B=u.fallbackTransition,Z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:b,toState:I,player:h,isFallbackTransition:Z}),Z||(el(e,d1),h.onStart(()=>{Pv(e,d1)})),h.onDone(()=>{let pe=this.players.indexOf(h);pe>=0&&this.players.splice(pe,1);const Se=this._engine.playersByElement.get(e);if(Se){let Be=Se.indexOf(h);Be>=0&&Se.splice(Be,1)}}),this.players.push(h),j.push(h),h}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(o=>o.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,_S,!0);r.forEach(o=>{if(o[Xa])return;const u=this._engine.fetchNamespacesByElement(o);u.size?u.forEach(h=>h.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(e,t,r,o){const u=this._engine.statesByElement.get(e);if(u){const h=[];if(Object.keys(u).forEach(m=>{if(this._triggers[m]){const b=this.trigger(e,m,N0,o);b&&h.push(b)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&Fp(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const o=new Set;t.forEach(u=>{const h=u.name;if(o.has(h))return;o.add(h);const b=this._triggers[h].fallbackTransition,I=r[h]||wN,x=new bN(N0),O=new CN(this.id,h,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:h,transition:b,fromState:I,toState:x,player:O,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let o=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)o=!0;else{let h=e;for(;h=h.parentNode;)if(r.statesByElement.get(h)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(e),o)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[Xa];(!u||u===p1)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){el(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const u=r.element,h=this._elementListeners.get(u);h&&h.forEach(m=>{if(m.name==r.triggerName){const b=eN(u,r.triggerName,r.fromState.value,r.toState.value);b._data=e,JO(r.player,m.phase,b,m.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(r)}),this._queue=[],t.sort((r,o)=>{const u=r.transition.ast.depCount,h=o.transition.ast.depCount;return 0==u||0==h?u-h:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class wV{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new bV(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let o=!1;for(let u=r;u>=0;u--)if(this.driver.containsElement(this._namespaceList[u].hostElement,t)){this._namespaceList.splice(u+1,0,e),o=!0;break}o||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let o=this._namespaceLookup[e];o&&o.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const o=Object.keys(r);for(let u=0;u<o.length;u++){const h=r[o[u]].namespaceId;if(h){const m=this._fetchNamespace(h);m&&t.add(m)}}}return t}trigger(e,t,r,o){if(xS(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,o),!0}return!1}insertNode(e,t,r,o){if(!xS(t))return;const u=t[Xa];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const h=this.collectedLeaveElements.indexOf(t);h>=0&&this.collectedLeaveElements.splice(h,1)}if(e){const h=this._fetchNamespace(e);h&&h.insertNode(t,r)}o&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),el(e,h1)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Pv(e,h1))}removeNode(e,t,r,o){if(xS(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,o):this.markElementAsRemoved(e,t,!1,o),r){const h=this.namespacesByHostElement.get(t);h&&h.id!==e&&h.removeNode(t,o)}}else this._onRemovalComplete(t,o)}markElementAsRemoved(e,t,r,o){this.collectedLeaveElements.push(t),t[Xa]={namespaceId:e,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,o,u){return xS(t)?this._fetchNamespace(e).listen(t,r,o,u):()=>{}}_buildInstruction(e,t,r,o,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,o,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,_S,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,uN,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Fp(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Xa];if(t&&t.setForRemoval){if(e[Xa]=p1,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,f1)&&this.markElementAsDisabled(e,!1),this.driver.query(e,f1,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)el(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Fp(t).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new DS,o=[],u=new Map,h=[],m=new Map,b=new Map,I=new Map,x=new Set;this.disabledNodes.forEach(Je=>{x.add(Je);const dt=this.driver.query(Je,".ng-animate-queued",!0);for(let At=0;At<dt.length;At++)x.add(dt[At])});const O=this.bodyNode,j=Array.from(this.statesByElement.keys()),B=y1(j,this.collectedEnterElements),Z=new Map;let pe=0;B.forEach((Je,dt)=>{const At=lN+pe++;Z.set(dt,At),Je.forEach(sn=>el(sn,At))});const Se=[],Be=new Set,st=new Set;for(let Je=0;Je<this.collectedLeaveElements.length;Je++){const dt=this.collectedLeaveElements[Je],At=dt[Xa];At&&At.setForRemoval&&(Se.push(dt),Be.add(dt),At.hasAnimation?this.driver.query(dt,".ng-star-inserted",!0).forEach(sn=>Be.add(sn)):st.add(dt))}const Ot=new Map,at=y1(j,Array.from(Be));at.forEach((Je,dt)=>{const At=mS+pe++;Ot.set(dt,At),Je.forEach(sn=>el(sn,At))}),e.push(()=>{B.forEach((Je,dt)=>{const At=Z.get(dt);Je.forEach(sn=>Pv(sn,At))}),at.forEach((Je,dt)=>{const At=Ot.get(dt);Je.forEach(sn=>Pv(sn,At))}),Se.forEach(Je=>{this.processLeaveNode(Je)})});const pn=[],ar=[];for(let Je=this._namespaceList.length-1;Je>=0;Je--)this._namespaceList[Je].drainQueuedTransitions(t).forEach(At=>{const sn=At.player,Ri=At.element;if(pn.push(sn),this.collectedEnterElements.length){const Dc=Ri[Xa];if(Dc&&Dc.setForMove)return void sn.destroy()}const Tc=!O||!this.driver.containsElement(O,Ri),da=Ot.get(Ri),Vp=Z.get(Ri),Cr=this._buildInstruction(At,r,Vp,da,Tc);if(Cr.errors&&Cr.errors.length)ar.push(Cr);else{if(Tc)return sn.onStart(()=>Ym(Ri,Cr.fromStyles)),sn.onDestroy(()=>Ic(Ri,Cr.toStyles)),void o.push(sn);if(At.isFallbackTransition)return sn.onStart(()=>Ym(Ri,Cr.fromStyles)),sn.onDestroy(()=>Ic(Ri,Cr.toStyles)),void o.push(sn);Cr.timelines.forEach(Dc=>Dc.stretchStartingKeyframe=!0),r.append(Ri,Cr.timelines),h.push({instruction:Cr,player:sn,element:Ri}),Cr.queriedElements.forEach(Dc=>ua(m,Dc,[]).push(sn)),Cr.preStyleProps.forEach((Dc,P0)=>{const PS=Object.keys(Dc);if(PS.length){let Xm=b.get(P0);Xm||b.set(P0,Xm=new Set),PS.forEach(SN=>Xm.add(SN))}}),Cr.postStyleProps.forEach((Dc,P0)=>{const PS=Object.keys(Dc);let Xm=I.get(P0);Xm||I.set(P0,Xm=new Set),PS.forEach(SN=>Xm.add(SN))})}});if(ar.length){const Je=[];ar.forEach(dt=>{Je.push(`@${dt.triggerName} has failed due to:\n`),dt.errors.forEach(At=>Je.push(`- ${At}\n`))}),pn.forEach(dt=>dt.destroy()),this.reportError(Je)}const Gi=new Map,Zd=new Map;h.forEach(Je=>{const dt=Je.element;r.has(dt)&&(Zd.set(dt,dt),this._beforeAnimationBuild(Je.player.namespaceId,Je.instruction,Gi))}),o.forEach(Je=>{const dt=Je.element;this._getPreviousPlayers(dt,!1,Je.namespaceId,Je.triggerName,null).forEach(sn=>{ua(Gi,dt,[]).push(sn),sn.destroy()})});const Kd=Se.filter(Je=>v1(Je,b,I)),Yd=new Map;m1(Yd,this.driver,st,I,ou).forEach(Je=>{v1(Je,b,I)&&Kd.push(Je)});const M0=new Map;B.forEach((Je,dt)=>{m1(M0,this.driver,new Set(Je),b,"!")}),Kd.forEach(Je=>{const dt=Yd.get(Je),At=M0.get(Je);Yd.set(Je,Object.assign(Object.assign({},dt),At))});const Jm=[],B1=[],j1={};h.forEach(Je=>{const{element:dt,player:At,instruction:sn}=Je;if(r.has(dt)){if(x.has(dt))return At.onDestroy(()=>Ic(dt,sn.toStyles)),At.disabled=!0,At.overrideTotalTime(sn.totalTime),void o.push(At);let Ri=j1;if(Zd.size>1){let da=dt;const Vp=[];for(;da=da.parentNode;){const Cr=Zd.get(da);if(Cr){Ri=Cr;break}Vp.push(da)}Vp.forEach(Cr=>Zd.set(Cr,Ri))}const Tc=this._buildAnimation(At.namespaceId,sn,Gi,u,M0,Yd);if(At.setRealPlayer(Tc),Ri===j1)Jm.push(At);else{const da=this.playersByElement.get(Ri);da&&da.length&&(At.parentPlayer=Fp(da)),o.push(At)}}else Ym(dt,sn.fromStyles),At.onDestroy(()=>Ic(dt,sn.toStyles)),B1.push(At),x.has(dt)&&o.push(At)}),B1.forEach(Je=>{const dt=u.get(Je.element);if(dt&&dt.length){const At=Fp(dt);Je.setRealPlayer(At)}}),o.forEach(Je=>{Je.parentPlayer?Je.syncPlayerEvents(Je.parentPlayer):Je.destroy()});for(let Je=0;Je<Se.length;Je++){const dt=Se[Je],At=dt[Xa];if(Pv(dt,mS),At&&At.hasAnimation)continue;let sn=[];if(m.size){let Tc=m.get(dt);Tc&&Tc.length&&sn.push(...Tc);let da=this.driver.query(dt,uN,!0);for(let Vp=0;Vp<da.length;Vp++){let Cr=m.get(da[Vp]);Cr&&Cr.length&&sn.push(...Cr)}}const Ri=sn.filter(Tc=>!Tc.destroyed);Ri.length?DV(this,dt,Ri):this.processLeaveNode(dt)}return Se.length=0,Jm.forEach(Je=>{this.players.push(Je),Je.onDone(()=>{Je.destroy();const dt=this.players.indexOf(Je);this.players.splice(dt,1)}),Je.play()}),Jm}elementContainsData(e,t){let r=!1;const o=t[Xa];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,o,u){let h=[];if(t){const m=this.playersByQueriedElement.get(e);m&&(h=m)}else{const m=this.playersByElement.get(e);if(m){const b=!u||u==N0;m.forEach(I=>{I.queued||!b&&I.triggerName!=o||h.push(I)})}}return(r||o)&&(h=h.filter(m=>!(r&&r!=m.namespaceId||o&&o!=m.triggerName))),h}_beforeAnimationBuild(e,t,r){const u=t.element,h=t.isRemovalTransition?void 0:e,m=t.isRemovalTransition?void 0:t.triggerName;for(const b of t.timelines){const I=b.element,x=I!==u,O=ua(r,I,[]);this._getPreviousPlayers(I,x,h,m,t.toState).forEach(B=>{const Z=B.getRealPlayer();Z.beforeDestroy&&Z.beforeDestroy(),B.destroy(),O.push(B)})}Ym(u,t.fromStyles)}_buildAnimation(e,t,r,o,u,h){const m=t.triggerName,b=t.element,I=[],x=new Set,O=new Set,j=t.timelines.map(Z=>{const pe=Z.element;x.add(pe);const Se=pe[Xa];if(Se&&Se.removedBeforeQueried)return new qm(Z.duration,Z.delay);const Be=pe!==b,st=function(n){const e=[];return _1(n,e),e}((r.get(pe)||vV).map(Gi=>Gi.getRealPlayer())).filter(Gi=>!!Gi.element&&Gi.element===pe),Ot=u.get(pe),at=h.get(pe),pn=HP(0,this._normalizer,0,Z.keyframes,Ot,at),ar=this._buildPlayer(Z,pn,st);if(Z.subTimeline&&o&&O.add(pe),Be){const Gi=new CN(e,m,pe);Gi.setRealPlayer(ar),I.push(Gi)}return ar});I.forEach(Z=>{ua(this.playersByQueriedElement,Z.element,[]).push(Z),Z.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,Z.element,Z))}),x.forEach(Z=>el(Z,YP));const B=Fp(j);return B.onDestroy(()=>{x.forEach(Z=>Pv(Z,YP)),Ic(b,t.toStyles)}),O.forEach(Z=>{ua(o,Z,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new qm(e.duration,e.delay)}}class CN{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new qm,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>JO(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ua(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function xS(n){return n&&1===n.nodeType}function g1(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function m1(n,e,t,r,o){const u=[];t.forEach(b=>u.push(g1(b)));const h=[];r.forEach((b,I)=>{const x={};b.forEach(O=>{const j=x[O]=e.computeStyle(I,O,o);(!j||0==j.length)&&(I[Xa]=EV,h.push(I))}),n.set(I,x)});let m=0;return t.forEach(b=>g1(b,u[m++])),h}function y1(n,e){const t=new Map;if(n.forEach(m=>t.set(m,[])),0==e.length)return t;const o=new Set(e),u=new Map;function h(m){if(!m)return 1;let b=u.get(m);if(b)return b;const I=m.parentNode;return b=t.has(I)?I:o.has(I)?1:h(I),u.set(m,b),b}return e.forEach(m=>{const b=h(m);1!==b&&t.get(b).push(m)}),t}const RS="$$classes";function el(n,e){if(n.classList)n.classList.add(e);else{let t=n[RS];t||(t=n[RS]={}),t[e]=!0}}function Pv(n,e){if(n.classList)n.classList.remove(e);else{let t=n[RS];t&&delete t[e]}}function DV(n,e,t){Fp(t).onDone(()=>n.processLeaveNode(e))}function _1(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof i?_1(r.players,e):e.push(r)}}function v1(n,e,t){const r=t.get(n);if(!r)return!1;let o=e.get(n);return o?r.forEach(u=>o.add(u)):e.set(n,r),t.delete(n),!0}class OS{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,u)=>{},this._transitionEngine=new wV(e,t,r),this._timelineEngine=new gV(e,t,r),this._transitionEngine.onRemovalComplete=(o,u)=>this.onRemovalComplete(o,u)}registerTrigger(e,t,r,o,u){const h=e+"-"+o;let m=this._triggerCache[h];if(!m){const b=[],I=pN(this._driver,u,b);if(b.length)throw new Error(`The animation trigger "${o}" has failed to build due to the following errors:\n - ${b.join("\n - ")}`);m=function(n,e,t){return new hV(n,e,t)}(o,I,this._normalizer),this._triggerCache[h]=m}this._transitionEngine.registerTrigger(t,o,m)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,o){this._transitionEngine.insertNode(e,t,r,o)}onRemove(e,t,r,o){this._transitionEngine.removeNode(e,t,o||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,o){if("@"==r.charAt(0)){const[u,h]=$P(r);this._timelineEngine.command(u,t,h,o)}else this._transitionEngine.trigger(e,t,r,o)}listen(e,t,r,o,u){if("@"==r.charAt(0)){const[h,m]=$P(r);return this._timelineEngine.listen(h,t,m,u)}return this._transitionEngine.listen(e,t,r,o,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function E1(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=IN(e[0]),e.length>1&&(r=IN(e[e.length-1]))):e&&(t=IN(e)),t||r?new xV(n,t,r):null}let xV=(()=>{class n{constructor(t,r,o){this._element=t,this._startStyles=r,this._endStyles=o,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&Ic(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ic(this._element,this._initialStyles),this._endStyles&&(Ic(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ym(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ym(this._element,this._endStyles),this._endStyles=null),Ic(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function IN(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const o=t[r];RV(o)&&(e=e||{},e[o]=n[o])}return e}function RV(n){return"display"===n||"position"===n}const b1="animation",w1="animationend";class MV{constructor(e,t,r,o,u,h,m){this._element=e,this._name=t,this._duration=r,this._delay=o,this._easing=u,this._fillMode=h,this._onDoneFn=m,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=b=>this._handleCallback(b)}apply(){(function(n,e){const t=DN(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),NS(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),T1(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){C1(this._element,this._name,"paused")}resume(){C1(this._element,this._name,"running")}setPosition(e){const t=I1(this._element,this._name);this._position=e*this._duration,NS(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),T1(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=DN(n,"").split(","),o=TN(r,e);o>=0&&(r.splice(o,1),NS(n,"",r.join(",")))}(this._element,this._name))}}function C1(n,e,t){NS(n,"PlayState",t,I1(n,e))}function I1(n,e){const t=DN(n,"");return t.indexOf(",")>0?TN(t.split(","),e):TN([t],e)}function TN(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function T1(n,e,t){t?n.removeEventListener(w1,e):n.addEventListener(w1,e)}function NS(n,e,t,r){const o=b1+e;if(null!=r){const u=n.style[o];if(u.length){const h=u.split(",");h[r]=t,t=h.join(",")}}n.style[o]=t}function DN(n,e){return n.style[b1+e]||""}class D1{constructor(e,t,r,o,u,h,m,b){this.element=e,this.keyframes=t,this.animationName=r,this._duration=o,this._delay=u,this._finalStyles=m,this._specialStyles=b,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=h||"linear",this.totalTime=o+u,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new MV(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:fN(this.element,r))})}this.currentSnapshot=e}}class UV extends qm{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=WP(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class A1{constructor(){this._count=0}validateStyleProperty(e){return rN(e)}matchesElement(e,t){return iN(e,t)}containsElement(e,t){return sN(e,t)}query(e,t,r){return oN(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(m=>WP(m));let o=`@keyframes ${t} {\n`,u="";r.forEach(m=>{u=" ";const b=parseFloat(m.offset);o+=`${u}${100*b}% {\n`,u+=" ",Object.keys(m).forEach(I=>{const x=m[I];switch(I){case"offset":return;case"easing":return void(x&&(o+=`${u}animation-timing-function: ${x};\n`));default:return void(o+=`${u}${I}: ${x};\n`)}}),o+=`${u}}\n`}),o+="}\n";const h=document.createElement("style");return h.textContent=o,h}animate(e,t,r,o,u,h=[],m){const b=h.filter(Se=>Se instanceof D1),I={};t1(r,o)&&b.forEach(Se=>{let Be=Se.currentSnapshot;Object.keys(Be).forEach(st=>I[st]=Be[st])});const x=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(o=>{"offset"==o||"easing"==o||(e[o]=r[o])})}),e}(t=n1(e,t,I));if(0==r)return new UV(e,x);const O="gen_css_kf_"+this._count++,j=this.buildKeyframeElement(e,O,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(j);const Z=E1(e,t),pe=new D1(e,t,O,r,o,u,x,Z);return pe.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(j)),pe}}class R1{constructor(e,t,r,o){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:fN(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class GV{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(O1().toString()),this._cssKeyframesDriver=new A1}validateStyleProperty(e){return rN(e)}matchesElement(e,t){return iN(e,t)}containsElement(e,t){return sN(e,t)}query(e,t,r){return oN(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,o,u,h=[],m){if(!m&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,o,u,h);const x={duration:r,delay:o,fill:0==o?"both":"forwards"};u&&(x.easing=u);const O={},j=h.filter(Z=>Z instanceof R1);t1(r,o)&&j.forEach(Z=>{let pe=Z.currentSnapshot;Object.keys(pe).forEach(Se=>O[Se]=pe[Se])});const B=E1(e,t=n1(e,t=t.map(Z=>Lp(Z,!1)),O));return new R1(e,t,x,B)}}function O1(){return jP()&&Element.prototype.animate||{}}let qV=(()=>{class n extends Rv{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(t)?_O(t):t;return N1(this._renderer,null,r,"register",[o]),new WV(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(ge))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class WV extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new ZV(this._id,e,t||{},this._renderer)}}class ZV{constructor(e,t,r,o){this.id=e,this.element=t,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return N1(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function N1(n,e,t,r,o){return n.setProperty(e,`@@${t}:${r}`,o)}const M1="@.disabled";let KV=(()=>{class n{constructor(t,r,o){this.delegate=t,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,h)=>{h&&h.parentNode(u)&&h.removeChild(u.parentNode,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let x=this._rendererCache.get(u);return x||(x=new P1("",u,this.engine),this._rendererCache.set(u,x)),x}const h=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,t);const b=x=>{Array.isArray(x)?x.forEach(b):this.engine.registerTrigger(h,m,t,x.name,x)};return r.data.animation.forEach(b),new YV(this,m,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,o){t>=0&&t<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[h,m]=u;h(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(OS),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class P1{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,o=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,o)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,o){this.delegate.setAttribute(e,t,r,o)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,o){this.delegate.setStyle(e,t,r,o)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==M1?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class YV extends P1{constructor(e,t,r,o){super(t,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==M1?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const o=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.substr(1),h="";return"@"!=u.charAt(0)&&([u,h]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(u)),this.engine.listen(this.namespaceId,o,u,h,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(e,t,r)}}let XV=(()=>{class n extends OS{constructor(t,r,o){super(t.body,r,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ge),d.LFG(aN),d.LFG(vN))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const k1=new d.OlP("AnimationModuleType"),F1=[{provide:Rv,useClass:qV},{provide:vN,useFactory:function(){return new oV}},{provide:OS,useClass:XV},{provide:d.FYo,useFactory:function(n,e,t){return new KV(n,e,t)},deps:[Qi,OS,d.R0b]}],L1=[{provide:aN,useFactory:function(){return"function"==typeof O1()?new GV:new A1}},{provide:k1,useValue:"BrowserAnimations"},...F1],V1=[{provide:aN,useClass:ZP},{provide:k1,useValue:"NoopAnimations"},...F1];let rU=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?V1:L1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:L1,imports:[Ao]}),n})(),uU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Ln]]}),n})(),cU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[ML]}),n.\u0275inj=d.cJS({providers:[],imports:[[Ao,rU,NL,it.hO.initializeApp(Mu_firebase),$m,lE,SL,$O,Bk,Vk,Lk,KF,SF,GO,uU,W]]}),n})();(0,d.G48)(),Su().bootstrapModule(cU).catch(n=>console.error(n))},3394:(Xe,be,L)=>{"use strict";L.d(be,{Z:()=>we});var d=L(3854),ee=L(3910),k=L(8026),ce=L(5422);class ne{constructor(K,_e){this._delegate=K,this.firebase=_e,(0,k._addComponent)(K,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=K.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this._delegate.automaticDataCollectionEnabled=K}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(K=>{this._delegate.checkDestroyed(),K()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(K,_e=k._DEFAULT_ENTRY_NAME){var ye;this._delegate.checkDestroyed();const fe=this._delegate.container.getProvider(K);return!fe.isInitialized()&&"EXPLICIT"===(null===(ye=fe.getComponent())||void 0===ye?void 0:ye.instantiationMode)&&fe.initialize(),fe.getImmediate({identifier:_e})}_removeServiceInstance(K,_e=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(K).clearInstance(_e)}_addComponent(K){(0,k._addComponent)(this._delegate,K)}_addOrOverwriteComponent(K){(0,k._addOrOverwriteComponent)(this._delegate,K)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function te(){const he=function(he){const K={},_e={__esModule:!0,initializeApp:function(_t,wn={}){const Et=k.initializeApp(_t,wn);if((0,d.r3)(K,Et.name))return K[Et.name];const It=new he(Et,_e);return K[Et.name]=It,It},app:fe,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function(_t){const wn=_t.name,Et=wn.replace("-compat","");if(k._registerComponent(_t)&&"PUBLIC"===_t.type){const It=(mt=fe())=>{if("function"!=typeof mt[Et])throw ge.create("invalid-app-argument",{appName:wn});return mt[Et]()};void 0!==_t.serviceProps&&(0,d.ZB)(It,_t.serviceProps),_e[Et]=It,he.prototype[Et]=function(...mt){return this._getService.bind(this,wn).apply(this,_t.multipleInstances?mt:[])}}return"PUBLIC"===_t.type?_e[Et]:null},removeApp:function(_t){delete K[_t]},useAsService:function(_t,wn){return"serverAuth"===wn?null:wn},modularAPIs:k}};function fe(_t){if(!(0,d.r3)(K,_t=_t||k._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:_t});return K[_t]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function(){return Object.keys(K).map(_t=>K[_t])}}),fe.App=he,_e}(ne);return he.INTERNAL=Object.assign(Object.assign({},he.INTERNAL),{createFirebaseNamespace:te,extendNamespace:function(_e){(0,d.ZB)(he,_e)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),he}(),V=new ce.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const he=self.firebase.SDK_VERSION;he&&he.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const we=F;(0,k.registerVersion)("@firebase/app-compat","0.1.10",undefined)},8026:(Xe,be,L)=>{"use strict";L.r(be),L.d(be,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>tl,_DEFAULT_ENTRY_NAME:()=>po,_addComponent:()=>hs,_addOrOverwriteComponent:()=>Hs,_apps:()=>Pn,_clearComponents:()=>Qn,_components:()=>js,_getProvider:()=>gn,_registerComponent:()=>fs,_removeServiceInstance:()=>qt,deleteApp:()=>lr,getApp:()=>Ir,getApps:()=>Te,initializeApp:()=>Mr,onLog:()=>Vt,registerVersion:()=>Oi,setLogLevel:()=>Zr});var d=L(8239),ee=L(3910),k=L(5422),ce=L(3854);class ne{constructor(De){this.container=De}getPlatformInfoString(){return this.container.getProviders().map($t=>{if(function(nt){const De=nt.getComponent();return"VERSION"===(null==De?void 0:De.type)}($t)){const ln=$t.getImmediate();return`${ln.library}/${ln.version}`}return null}).filter($t=>$t).join(" ")}}const ge="@firebase/app",te=new k.Yd("@firebase/app"),po="[DEFAULT]",uu={[ge]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Pn=new Map,js=new Map;function hs(nt,De){try{nt.container.addComponent(De)}catch($t){te.debug(`Component ${De.name} failed to register with FirebaseApp ${nt.name}`,$t)}}function Hs(nt,De){nt.container.addOrOverwriteComponent(De)}function fs(nt){const De=nt.name;if(js.has(De))return te.debug(`There were multiple attempts to register component ${De}.`),!1;js.set(De,nt);for(const $t of Pn.values())hs($t,nt);return!0}function gn(nt,De){return nt.container.getProvider(De)}function qt(nt,De,$t=po){gn(nt,De).clearInstance($t)}function Qn(){js.clear()}const Ht=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class xt{constructor(De,$t,ln){this._isDeleted=!1,this._options=Object.assign({},De),this._config=Object.assign({},$t),this._name=$t.name,this._automaticDataCollectionEnabled=$t.automaticDataCollectionEnabled,this._container=ln,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(De){this.checkDestroyed(),this._automaticDataCollectionEnabled=De}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(De){this._isDeleted=De}checkDestroyed(){if(this.isDeleted)throw Ht.create("app-deleted",{appName:this._name})}}const tl="9.5.0";function Mr(nt,De={}){"object"!=typeof De&&(De={name:De});const $t=Object.assign({name:po,automaticDataCollectionEnabled:!1},De),ln=$t.name;if("string"!=typeof ln||!ln)throw Ht.create("bad-app-name",{appName:String(ln)});const Cn=Pn.get(ln);if(Cn){if((0,ce.vZ)(nt,Cn.options)&&(0,ce.vZ)($t,Cn.config))return Cn;throw Ht.create("duplicate-app",{appName:ln})}const Bt=new ee.H0(ln);for(const qe of js.values())Bt.addComponent(qe);const Ye=new xt(nt,$t,Bt);return Pn.set(ln,Ye),Ye}function Ir(nt=po){const De=Pn.get(nt);if(!De)throw Ht.create("no-app",{appName:nt});return De}function Te(){return Array.from(Pn.values())}function lr(nt){return kn.apply(this,arguments)}function kn(){return(kn=(0,d.Z)(function*(nt){const De=nt.name;Pn.has(De)&&(Pn.delete(De),yield Promise.all(nt.container.getProviders().map($t=>$t.delete())),nt.isDeleted=!0)})).apply(this,arguments)}function Oi(nt,De,$t){var ln;let Cn=null!==(ln=uu[nt])&&void 0!==ln?ln:nt;$t&&(Cn+=`-${$t}`);const Bt=Cn.match(/\s|\//),Ye=De.match(/\s|\//);if(Bt||Ye){const qe=[`Unable to register library "${Cn}" with version "${De}":`];return Bt&&qe.push(`library name "${Cn}" contains illegal characters (whitespace or "/")`),Bt&&Ye&&qe.push("and"),Ye&&qe.push(`version name "${De}" contains illegal characters (whitespace or "/")`),void te.warn(qe.join(" "))}fs(new ee.wA(`${Cn}-version`,()=>({library:Cn,version:De}),"VERSION"))}function Vt(nt,De){if(null!==nt&&"function"!=typeof nt)throw Ht.create("invalid-log-argument");(0,k.Am)(nt,De)}function Zr(nt){(0,k.Ub)(nt)}fs(new ee.wA("platform-logger",De=>new ne(De),"PRIVATE")),Oi(ge,"0.7.9",""),Oi(ge,"0.7.9","esm2017"),Oi("fire-js","")},3910:(Xe,be,L)=>{"use strict";L.d(be,{wA:()=>k,H0:()=>ue});var d=L(8239),ee=L(3854);class k{constructor(F,V,J){this.name=F,this.instanceFactory=V,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(F){return this.instantiationMode=F,this}setMultipleInstances(F){return this.multipleInstances=F,this}setServiceProps(F){return this.serviceProps=F,this}setInstanceCreatedCallback(F){return this.onInstanceCreated=F,this}}const ce="[DEFAULT]";class ne{constructor(F,V){this.name=F,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(F){const V=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(V)){const J=new ee.BH;if(this.instancesDeferred.set(V,J),this.isInitialized(V)||this.shouldAutoInitialize())try{const Q=this.getOrInitializeService({instanceIdentifier:V});Q&&J.resolve(Q)}catch(Q){}}return this.instancesDeferred.get(V).promise}getImmediate(F){var V;const J=this.normalizeInstanceIdentifier(null==F?void 0:F.identifier),Q=null!==(V=null==F?void 0:F.optional)&&void 0!==V&&V;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(Q)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(le){if(Q)return null;throw le}}getComponent(){return this.component}setComponent(F){if(F.name!==this.name)throw Error(`Mismatching Component ${F.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=F,this.shouldAutoInitialize()){if("EAGER"===F.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ce})}catch(V){}for(const[V,J]of this.instancesDeferred.entries()){const Q=this.normalizeInstanceIdentifier(V);try{const le=this.getOrInitializeService({instanceIdentifier:Q});J.resolve(le)}catch(le){}}}}clearInstance(F=ce){this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)}delete(){var F=this;return(0,d.Z)(function*(){const V=Array.from(F.instances.values());yield Promise.all([...V.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...V.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(F=ce){return this.instances.has(F)}getOptions(F=ce){return this.instancesOptions.get(F)||{}}initialize(F={}){const{options:V={}}=F,J=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Q=this.getOrInitializeService({instanceIdentifier:J,options:V});for(const[le,we]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(le)&&we.resolve(Q);return Q}onInit(F,V){var J;const Q=this.normalizeInstanceIdentifier(V),le=null!==(J=this.onInitCallbacks.get(Q))&&void 0!==J?J:new Set;le.add(F),this.onInitCallbacks.set(Q,le);const we=this.instances.get(Q);return we&&F(we,Q),()=>{le.delete(F)}}invokeOnInitCallbacks(F,V){const J=this.onInitCallbacks.get(V);if(J)for(const Q of J)try{Q(F,V)}catch(le){}}getOrInitializeService({instanceIdentifier:F,options:V={}}){let J=this.instances.get(F);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(te=F,te===ce?void 0:te),options:V}),this.instances.set(F,J),this.instancesOptions.set(F,V),this.invokeOnInitCallbacks(J,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,J)}catch(Q){}var te;return J||null}normalizeInstanceIdentifier(F=ce){return this.component?this.component.multipleInstances?F:ce:F}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(F){this.name=F,this.providers=new Map}addComponent(F){const V=this.getProvider(F.name);if(V.isComponentSet())throw new Error(`Component ${F.name} has already been registered with ${this.name}`);V.setComponent(F)}addOrOverwriteComponent(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)}getProvider(F){if(this.providers.has(F))return this.providers.get(F);const V=new ne(F,this);return this.providers.set(F,V),V}getProviders(){return Array.from(this.providers.values())}}},5422:(Xe,be,L)=>{"use strict";L.d(be,{in:()=>ee,Yd:()=>ge,Ub:()=>ue,Am:()=>te});const d=[];var ee=(()=>{return(F=ee||(ee={}))[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",ee;var F})();const k={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},ce=ee.INFO,ne={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},ie=(F,V,...J)=>{if(V<F.logLevel)return;const Q=(new Date).toISOString(),le=ne[V];if(!le)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[le](`[${Q}]  ${F.name}:`,...J)};class ge{constructor(V){this.name=V,this._logLevel=ce,this._logHandler=ie,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in ee))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?k[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...V),this._logHandler(this,ee.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...V),this._logHandler(this,ee.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...V),this._logHandler(this,ee.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...V),this._logHandler(this,ee.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...V),this._logHandler(this,ee.ERROR,...V)}}function ue(F){d.forEach(V=>{V.setLogLevel(F)})}function te(F,V){for(const J of d){let Q=null;V&&V.level&&(Q=k[V.level]),J.userLogHandler=null===F?null:(le,we,...he)=>{const K=he.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch(ye){return null}}).filter(_e=>_e).join(" ");we>=(null!=Q?Q:le.logLevel)&&F({level:ee[we].toLowerCase(),message:K,args:he,type:le.name})}}}},8239:(Xe,be,L)=>{"use strict";function d(k,ce,ne,ie,ge,ue,te){try{var F=k[ue](te),V=F.value}catch(J){return void ne(J)}F.done?ce(V):Promise.resolve(V).then(ie,ge)}function ee(k){return function(){var ce=this,ne=arguments;return new Promise(function(ie,ge){var ue=k.apply(ce,ne);function te(V){d(ue,ie,ge,te,F,"next",V)}function F(V){d(ue,ie,ge,te,F,"throw",V)}te(void 0)})}}L.d(be,{Z:()=>ee})}},Xe=>{Xe(Xe.s=8141)}]);